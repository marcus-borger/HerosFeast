(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function w_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var nh={exports:{}},Jo={},rh={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function T_(){if(Ap)return Ce;Ap=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),P=Symbol.iterator;function L(A){return A===null||typeof A!="object"?null:(A=P&&A[P]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,H={};function U(A,j,X){this.props=A,this.context=j,this.refs=H,this.updater=X||b}U.prototype.isReactComponent={},U.prototype.setState=function(A,j){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,j,"setState")},U.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function ce(){}ce.prototype=U.prototype;function de(A,j,X){this.props=A,this.context=j,this.refs=H,this.updater=X||b}var we=de.prototype=new ce;we.constructor=de,$(we,U.prototype),we.isPureReactComponent=!0;var Se=Array.isArray,We=Object.prototype.hasOwnProperty,se={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(A,j,X){var re,me={},Ae=null,Le=null;if(j!=null)for(re in j.ref!==void 0&&(Le=j.ref),j.key!==void 0&&(Ae=""+j.key),j)We.call(j,re)&&!N.hasOwnProperty(re)&&(me[re]=j[re]);var Me=arguments.length-2;if(Me===1)me.children=X;else if(1<Me){for(var Re=Array(Me),ze=0;ze<Me;ze++)Re[ze]=arguments[ze+2];me.children=Re}if(A&&A.defaultProps)for(re in Me=A.defaultProps,Me)me[re]===void 0&&(me[re]=Me[re]);return{$$typeof:i,type:A,key:Ae,ref:Le,props:me,_owner:se.current}}function I(A,j){return{$$typeof:i,type:A.type,key:j,ref:A.ref,props:A.props,_owner:A._owner}}function k(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function V(A){var j={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(X){return j[X]})}var M=/\/+/g;function C(A,j){return typeof A=="object"&&A!==null&&A.key!=null?V(""+A.key):j.toString(36)}function Je(A,j,X,re,me){var Ae=typeof A;(Ae==="undefined"||Ae==="boolean")&&(A=null);var Le=!1;if(A===null)Le=!0;else switch(Ae){case"string":case"number":Le=!0;break;case"object":switch(A.$$typeof){case i:case e:Le=!0}}if(Le)return Le=A,me=me(Le),A=re===""?"."+C(Le,0):re,Se(me)?(X="",A!=null&&(X=A.replace(M,"$&/")+"/"),Je(me,j,X,"",function(ze){return ze})):me!=null&&(k(me)&&(me=I(me,X+(!me.key||Le&&Le.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+A)),j.push(me)),1;if(Le=0,re=re===""?".":re+":",Se(A))for(var Me=0;Me<A.length;Me++){Ae=A[Me];var Re=re+C(Ae,Me);Le+=Je(Ae,j,X,Re,me)}else if(Re=L(A),typeof Re=="function")for(A=Re.call(A),Me=0;!(Ae=A.next()).done;)Ae=Ae.value,Re=re+C(Ae,Me++),Le+=Je(Ae,j,X,Re,me);else if(Ae==="object")throw j=String(A),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return Le}function _t(A,j,X){if(A==null)return A;var re=[],me=0;return Je(A,re,"","",function(Ae){return j.call(X,Ae,me++)}),re}function vt(A){if(A._status===-1){var j=A._result;j=j(),j.then(function(X){(A._status===0||A._status===-1)&&(A._status=1,A._result=X)},function(X){(A._status===0||A._status===-1)&&(A._status=2,A._result=X)}),A._status===-1&&(A._status=0,A._result=j)}if(A._status===1)return A._result.default;throw A._result}var je={current:null},ee={transition:null},fe={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ee,ReactCurrentOwner:se};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:_t,forEach:function(A,j,X){_t(A,function(){j.apply(this,arguments)},X)},count:function(A){var j=0;return _t(A,function(){j++}),j},toArray:function(A){return _t(A,function(j){return j})||[]},only:function(A){if(!k(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ce.Component=U,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=de,Ce.StrictMode=s,Ce.Suspense=y,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ce.act=te,Ce.cloneElement=function(A,j,X){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var re=$({},A.props),me=A.key,Ae=A.ref,Le=A._owner;if(j!=null){if(j.ref!==void 0&&(Ae=j.ref,Le=se.current),j.key!==void 0&&(me=""+j.key),A.type&&A.type.defaultProps)var Me=A.type.defaultProps;for(Re in j)We.call(j,Re)&&!N.hasOwnProperty(Re)&&(re[Re]=j[Re]===void 0&&Me!==void 0?Me[Re]:j[Re])}var Re=arguments.length-2;if(Re===1)re.children=X;else if(1<Re){Me=Array(Re);for(var ze=0;ze<Re;ze++)Me[ze]=arguments[ze+2];re.children=Me}return{$$typeof:i,type:A.type,key:me,ref:Ae,props:re,_owner:Le}},Ce.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},Ce.createElement=T,Ce.createFactory=function(A){var j=T.bind(null,A);return j.type=A,j},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(A){return{$$typeof:m,render:A}},Ce.isValidElement=k,Ce.lazy=function(A){return{$$typeof:w,_payload:{_status:-1,_result:A},_init:vt}},Ce.memo=function(A,j){return{$$typeof:v,type:A,compare:j===void 0?null:j}},Ce.startTransition=function(A){var j=ee.transition;ee.transition={};try{A()}finally{ee.transition=j}},Ce.unstable_act=te,Ce.useCallback=function(A,j){return je.current.useCallback(A,j)},Ce.useContext=function(A){return je.current.useContext(A)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(A){return je.current.useDeferredValue(A)},Ce.useEffect=function(A,j){return je.current.useEffect(A,j)},Ce.useId=function(){return je.current.useId()},Ce.useImperativeHandle=function(A,j,X){return je.current.useImperativeHandle(A,j,X)},Ce.useInsertionEffect=function(A,j){return je.current.useInsertionEffect(A,j)},Ce.useLayoutEffect=function(A,j){return je.current.useLayoutEffect(A,j)},Ce.useMemo=function(A,j){return je.current.useMemo(A,j)},Ce.useReducer=function(A,j,X){return je.current.useReducer(A,j,X)},Ce.useRef=function(A){return je.current.useRef(A)},Ce.useState=function(A){return je.current.useState(A)},Ce.useSyncExternalStore=function(A,j,X){return je.current.useSyncExternalStore(A,j,X)},Ce.useTransition=function(){return je.current.useTransition()},Ce.version="18.3.1",Ce}var Cp;function jh(){return Cp||(Cp=1,rh.exports=T_()),rh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function I_(){if(Rp)return Jo;Rp=1;var i=jh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(m,y,v){var w,P={},L=null,b=null;v!==void 0&&(L=""+v),y.key!==void 0&&(L=""+y.key),y.ref!==void 0&&(b=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(P[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)P[w]===void 0&&(P[w]=y[w]);return{$$typeof:e,type:m,key:L,ref:b,props:P,_owner:a.current}}return Jo.Fragment=n,Jo.jsx=d,Jo.jsxs=d,Jo}var Pp;function S_(){return Pp||(Pp=1,nh.exports=I_()),nh.exports}var R=S_(),_e=jh();const Oi=w_(_e);var jl={},ih={exports:{}},Yt={},sh={exports:{}},oh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function A_(){return kp||(kp=1,function(i){function e(ee,fe){var te=ee.length;ee.push(fe);e:for(;0<te;){var A=te-1>>>1,j=ee[A];if(0<a(j,fe))ee[A]=fe,ee[te]=j,te=A;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var fe=ee[0],te=ee.pop();if(te!==fe){ee[0]=te;e:for(var A=0,j=ee.length,X=j>>>1;A<X;){var re=2*(A+1)-1,me=ee[re],Ae=re+1,Le=ee[Ae];if(0>a(me,te))Ae<j&&0>a(Le,me)?(ee[A]=Le,ee[Ae]=te,A=Ae):(ee[A]=me,ee[re]=te,A=re);else if(Ae<j&&0>a(Le,te))ee[A]=Le,ee[Ae]=te,A=Ae;else break e}}return fe}function a(ee,fe){var te=ee.sortIndex-fe.sortIndex;return te!==0?te:ee.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var y=[],v=[],w=1,P=null,L=3,b=!1,$=!1,H=!1,U=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function we(ee){for(var fe=n(v);fe!==null;){if(fe.callback===null)s(v);else if(fe.startTime<=ee)s(v),fe.sortIndex=fe.expirationTime,e(y,fe);else break;fe=n(v)}}function Se(ee){if(H=!1,we(ee),!$)if(n(y)!==null)$=!0,vt(We);else{var fe=n(v);fe!==null&&je(Se,fe.startTime-ee)}}function We(ee,fe){$=!1,H&&(H=!1,ce(T),T=-1),b=!0;var te=L;try{for(we(fe),P=n(y);P!==null&&(!(P.expirationTime>fe)||ee&&!V());){var A=P.callback;if(typeof A=="function"){P.callback=null,L=P.priorityLevel;var j=A(P.expirationTime<=fe);fe=i.unstable_now(),typeof j=="function"?P.callback=j:P===n(y)&&s(y),we(fe)}else s(y);P=n(y)}if(P!==null)var X=!0;else{var re=n(v);re!==null&&je(Se,re.startTime-fe),X=!1}return X}finally{P=null,L=te,b=!1}}var se=!1,N=null,T=-1,I=5,k=-1;function V(){return!(i.unstable_now()-k<I)}function M(){if(N!==null){var ee=i.unstable_now();k=ee;var fe=!0;try{fe=N(!0,ee)}finally{fe?C():(se=!1,N=null)}}else se=!1}var C;if(typeof de=="function")C=function(){de(M)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,_t=Je.port2;Je.port1.onmessage=M,C=function(){_t.postMessage(null)}}else C=function(){U(M,0)};function vt(ee){N=ee,se||(se=!0,C())}function je(ee,fe){T=U(function(){ee(i.unstable_now())},fe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){$||b||($=!0,vt(We))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return L},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(ee){switch(L){case 1:case 2:case 3:var fe=3;break;default:fe=L}var te=L;L=fe;try{return ee()}finally{L=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var te=L;L=ee;try{return fe()}finally{L=te}},i.unstable_scheduleCallback=function(ee,fe,te){var A=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?A+te:A):te=A,ee){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=te+j,ee={id:w++,callback:fe,priorityLevel:ee,startTime:te,expirationTime:j,sortIndex:-1},te>A?(ee.sortIndex=te,e(v,ee),n(y)===null&&ee===n(v)&&(H?(ce(T),T=-1):H=!0,je(Se,te-A))):(ee.sortIndex=j,e(y,ee),$||b||($=!0,vt(We))),ee},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(ee){var fe=L;return function(){var te=L;L=fe;try{return ee.apply(this,arguments)}finally{L=te}}}}(oh)),oh}var xp;function C_(){return xp||(xp=1,sh.exports=A_()),sh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function R_(){if(Np)return Yt;Np=1;var i=jh(),e=C_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},P={};function L(t){return y.call(P,t)?!0:y.call(w,t)?!1:v.test(t)?P[t]=!0:(w[t]=!0,!1)}function b(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $(t,r,o,u){if(r===null||typeof r>"u"||b(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function H(t,r,o,u,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){U[t]=new H(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];U[r]=new H(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){U[t]=new H(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){U[t]=new H(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){U[t]=new H(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){U[t]=new H(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){U[t]=new H(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){U[t]=new H(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){U[t]=new H(t,5,!1,t.toLowerCase(),null,!1,!1)});var ce=/[\-:]([a-z])/g;function de(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ce,de);U[r]=new H(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ce,de);U[r]=new H(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ce,de);U[r]=new H(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){U[t]=new H(t,1,!1,t.toLowerCase(),null,!1,!1)}),U.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){U[t]=new H(t,1,!1,t.toLowerCase(),null,!0,!0)});function we(t,r,o,u){var h=U.hasOwnProperty(r)?U[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&($(r,o,h,u)&&(o=null),u||h===null?L(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,We=Symbol.for("react.element"),se=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ee=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,A;function j(t){if(A===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);A=r&&r[1]||""}return`
`+A+t}var X=!1;function re(t,r){if(!t||X)return"";X=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(B){var u=B}Reflect.construct(t,[],r)}else{try{r.call()}catch(B){u=B}t.call(r.prototype)}else{try{throw Error()}catch(B){u=B}t()}}catch(B){if(B&&u&&typeof B.stack=="string"){for(var h=B.stack.split(`
`),p=u.stack.split(`
`),_=h.length-1,S=p.length-1;1<=_&&0<=S&&h[_]!==p[S];)S--;for(;1<=_&&0<=S;_--,S--)if(h[_]!==p[S]){if(_!==1||S!==1)do if(_--,S--,0>S||h[_]!==p[S]){var x=`
`+h[_].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=_&&0<=S);break}}}finally{X=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?j(t):""}function me(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=re(t.type,!1),t;case 11:return t=re(t.type.render,!1),t;case 1:return t=re(t.type,!0),t;default:return""}}function Ae(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case se:return"Portal";case I:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case Je:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case M:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _t:return r=t.displayName||null,r!==null?r:Ae(t.type)||"Memo";case vt:r=t._payload,t=t._init;try{return Ae(t(r))}catch{}}return null}function Le(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Re(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ze(t){var r=Re(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function rt(t){t._valueTracker||(t._valueTracker=ze(t))}function qi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Re(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Tr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function si(t,r){var o=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function $i(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Me(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ro(t,r){r=r.checked,r!=null&&we(t,"checked",r,!1)}function io(t,r){ro(t,r);var o=Me(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Hi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Hi(t,r.type,Me(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ia(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Hi(t,r,o){(r!=="number"||Tr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var tr=Array.isArray;function nr(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Me(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function so(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(tr(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Me(o)}}function Qi(t,r){var o=Me(r.value),u=Me(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function oo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ht(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rr,ao=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=rr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Ir(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ai=["Webkit","ms","Moz","O"];Object.keys(oi).forEach(function(t){ai.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),oi[r]=oi[t]})});function lo(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||oi.hasOwnProperty(t)&&oi[t]?(""+r).trim():r+"px"}function uo(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=lo(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var co=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ho(t,r){if(r){if(co[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function fo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var li=null;function Gi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,fn=null,bn=null;function Xi(t){if(t=Fo(t)){if(typeof Ki!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Za(r),Ki(t.stateNode,t.type,r))}}function Un(t){fn?bn?bn.push(t):bn=[t]:fn=t}function po(){if(fn){var t=fn,r=bn;if(bn=fn=null,Xi(t),r)for(t=0;t<r.length;t++)Xi(r[t])}}function ui(t,r){return t(r)}function mo(){}var ir=!1;function go(t,r,o){if(ir)return t(r,o);ir=!0;try{return ui(t,r,o)}finally{ir=!1,(fn!==null||bn!==null)&&(mo(),po())}}function it(t,r){var o=t.stateNode;if(o===null)return null;var u=Za(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Yi=!1;if(m)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){Yi=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{Yi=!1}function ci(t,r,o,u,h,p,_,S,x){var B=Array.prototype.slice.call(arguments,3);try{r.apply(o,B)}catch(K){this.onError(K)}}var hi=!1,Ji=null,An=!1,yo=null,xu={onError:function(t){hi=!0,Ji=t}};function Zi(t,r,o,u,h,p,_,S,x){hi=!1,Ji=null,ci.apply(xu,arguments)}function Sa(t,r,o,u,h,p,_,S,x){if(Zi.apply(this,arguments),hi){if(hi){var B=Ji;hi=!1,Ji=null}else throw Error(n(198));An||(An=!0,yo=B)}}function Cn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function di(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Rn(t){if(Cn(t)!==t)throw Error(n(188))}function Aa(t){var r=t.alternate;if(!r){if(r=Cn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return Rn(h),t;if(p===u)return Rn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var _=!1,S=h.child;S;){if(S===o){_=!0,o=h,u=p;break}if(S===u){_=!0,u=h,o=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===o){_=!0,o=p,u=h;break}if(S===u){_=!0,u=p,o=h;break}S=S.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function _o(t){return t=Aa(t),t!==null?es(t):null}function es(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=es(t);if(r!==null)return r;t=t.sibling}return null}var ts=e.unstable_scheduleCallback,vo=e.unstable_cancelCallback,Ca=e.unstable_shouldYield,Nu=e.unstable_requestPaint,$e=e.unstable_now,Ra=e.unstable_getCurrentPriorityLevel,fi=e.unstable_ImmediatePriority,Sr=e.unstable_UserBlockingPriority,pn=e.unstable_NormalPriority,Eo=e.unstable_LowPriority,Pa=e.unstable_IdlePriority,pi=null,nn=null;function ka(t){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(pi,t,void 0,(t.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:Na,wo=Math.log,xa=Math.LN2;function Na(t){return t>>>=0,t===0?32:31-(wo(t)/xa|0)|0}var ns=64,rs=4194304;function Ar(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var S=_&~h;S!==0?u=Ar(S):(p&=_,p!==0&&(u=Ar(p)))}else _=o&~h,_!==0?u=Ar(_):p!==0&&(u=Ar(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-bt(r),h=1<<o,u|=t[o],r&=~h;return u}function Vu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-bt(p),S=1<<_,x=h[_];x===-1?(!(S&o)||S&u)&&(h[_]=Vu(S,r)):x<=r&&(t.expiredLanes|=S),p&=~S}}function rn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gi(){var t=ns;return ns<<=1,!(ns&4194240)&&(ns=64),t}function Cr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Rr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-bt(r),t[r]=o}function qe(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-bt(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Pr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-bt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var ke=0;function kr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Va,is,Da,La,Ma,To=!1,Bn=[],At=null,Pn=null,kn=null,xr=new Map,mn=new Map,qn=[],Du="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oa(t,r){switch(t){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":xr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":mn.delete(r.pointerId)}}function $t(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Fo(r),r!==null&&is(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Lu(t,r,o,u,h){switch(r){case"focusin":return At=$t(At,t,r,o,u,h),!0;case"dragenter":return Pn=$t(Pn,t,r,o,u,h),!0;case"mouseover":return kn=$t(kn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return xr.set(p,$t(xr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,mn.set(p,$t(mn.get(p)||null,t,r,o,u,h)),!0}return!1}function Fa(t){var r=wi(t.target);if(r!==null){var o=Cn(r);if(o!==null){if(r=o.tag,r===13){if(r=di(o),r!==null){t.blockedOn=r,Ma(t.priority,function(){Da(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function or(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ss(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);li=u,o.target.dispatchEvent(u),li=null}else return r=Fo(o),r!==null&&is(r),t.blockedOn=o,!1;r.shift()}return!0}function yi(t,r,o){or(t)&&o.delete(r)}function ja(){To=!1,At!==null&&or(At)&&(At=null),Pn!==null&&or(Pn)&&(Pn=null),kn!==null&&or(kn)&&(kn=null),xr.forEach(yi),mn.forEach(yi)}function xn(t,r){t.blockedOn===r&&(t.blockedOn=null,To||(To=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ja)))}function Nn(t){function r(h){return xn(h,t)}if(0<Bn.length){xn(Bn[0],t);for(var o=1;o<Bn.length;o++){var u=Bn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(At!==null&&xn(At,t),Pn!==null&&xn(Pn,t),kn!==null&&xn(kn,t),xr.forEach(r),mn.forEach(r),o=0;o<qn.length;o++)u=qn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<qn.length&&(o=qn[0],o.blockedOn===null);)Fa(o),o.blockedOn===null&&qn.shift()}var ar=Se.ReactCurrentBatchConfig,Nr=!0;function Xe(t,r,o,u){var h=ke,p=ar.transition;ar.transition=null;try{ke=1,Io(t,r,o,u)}finally{ke=h,ar.transition=p}}function Mu(t,r,o,u){var h=ke,p=ar.transition;ar.transition=null;try{ke=4,Io(t,r,o,u)}finally{ke=h,ar.transition=p}}function Io(t,r,o,u){if(Nr){var h=ss(t,r,o,u);if(h===null)Wu(t,r,u,_i,o),Oa(t,u);else if(Lu(h,t,r,o,u))u.stopPropagation();else if(Oa(t,u),r&4&&-1<Du.indexOf(t)){for(;h!==null;){var p=Fo(h);if(p!==null&&Va(p),p=ss(t,r,o,u),p===null&&Wu(t,r,u,_i,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Wu(t,r,u,null,o)}}var _i=null;function ss(t,r,o,u){if(_i=null,t=Gi(u),t=wi(t),t!==null)if(r=Cn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=di(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return _i=t,null}function So(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ra()){case fi:return 1;case Sr:return 4;case pn:case Eo:return 16;case Pa:return 536870912;default:return 16}default:return 16}}var sn=null,os=null,Ht=null;function Ao(){if(Ht)return Ht;var t,r=os,o=r.length,u,h="value"in sn?sn.value:sn.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===h[p-u];u++);return Ht=h.slice(t,1<u?1-u:void 0)}function as(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function $n(){return!0}function Co(){return!1}function Ct(t){function r(o,u,h,p,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?$n:Co,this.isPropagationStopped=Co,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),r}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Ct(Vn),Hn=te({},Vn,{view:0,detail:0}),Ou=Ct(Hn),us,lr,Vr,vi=te({},Hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(us=t.screenX-Vr.screenX,lr=t.screenY-Vr.screenY):lr=us=0,Vr=t),us)},movementY:function(t){return"movementY"in t?t.movementY:lr}}),cs=Ct(vi),Ro=te({},vi,{dataTransfer:0}),za=Ct(Ro),hs=te({},Hn,{relatedTarget:0}),ds=Ct(hs),ba=te({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),ur=Ct(ba),Ua=te({},Vn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ba=Ct(Ua),qa=te({},Vn,{data:0}),Po=Ct(qa),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$a={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ha(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=$a[t])?!!r[t]:!1}function Wn(){return Ha}var l=te({},Hn,{key:function(t){if(t.key){var r=fs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=as(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ut[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wn,charCode:function(t){return t.type==="keypress"?as(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?as(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=Ct(l),g=te({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Ct(g),O=te({},Hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wn}),q=Ct(O),Z=te({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=Ct(Z),ft=te({},vi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=Ct(ft),Et=[9,13,27,32],at=m&&"CompositionEvent"in window,gn=null;m&&"documentMode"in document&&(gn=document.documentMode);var on=m&&"TextEvent"in window&&!gn,Ei=m&&(!at||gn&&8<gn&&11>=gn),ps=" ",_d=!1;function vd(t,r){switch(t){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ms=!1;function vy(t,r){switch(t){case"compositionend":return Ed(r);case"keypress":return r.which!==32?null:(_d=!0,ps);case"textInput":return t=r.data,t===ps&&_d?null:t;default:return null}}function Ey(t,r){if(ms)return t==="compositionend"||!at&&vd(t,r)?(t=Ao(),Ht=os=sn=null,ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ei&&r.locale!=="ko"?null:r.data;default:return null}}var wy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!wy[t.type]:r==="textarea"}function Td(t,r,o,u){Un(u),r=Xa(r,"onChange"),0<r.length&&(o=new ls("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var ko=null,xo=null;function Ty(t){bd(t,0)}function Wa(t){var r=Es(t);if(qi(r))return t}function Iy(t,r){if(t==="change")return r}var Id=!1;if(m){var Fu;if(m){var ju="oninput"in document;if(!ju){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),ju=typeof Sd.oninput=="function"}Fu=ju}else Fu=!1;Id=Fu&&(!document.documentMode||9<document.documentMode)}function Ad(){ko&&(ko.detachEvent("onpropertychange",Cd),xo=ko=null)}function Cd(t){if(t.propertyName==="value"&&Wa(xo)){var r=[];Td(r,xo,t,Gi(t)),go(Ty,r)}}function Sy(t,r,o){t==="focusin"?(Ad(),ko=r,xo=o,ko.attachEvent("onpropertychange",Cd)):t==="focusout"&&Ad()}function Ay(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wa(xo)}function Cy(t,r){if(t==="click")return Wa(r)}function Ry(t,r){if(t==="input"||t==="change")return Wa(r)}function Py(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Dn=typeof Object.is=="function"?Object.is:Py;function No(t,r){if(Dn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!Dn(t[h],r[h]))return!1}return!0}function Rd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pd(t,r){var o=Rd(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Rd(o)}}function kd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?kd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function xd(){for(var t=window,r=Tr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Tr(t.document)}return r}function zu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function ky(t){var r=xd(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&kd(o.ownerDocument.documentElement,o)){if(u!==null&&zu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=Pd(o,p);var _=Pd(o,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xy=m&&"documentMode"in document&&11>=document.documentMode,gs=null,bu=null,Vo=null,Uu=!1;function Nd(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Uu||gs==null||gs!==Tr(u)||(u=gs,"selectionStart"in u&&zu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Vo&&No(Vo,u)||(Vo=u,u=Xa(bu,"onSelect"),0<u.length&&(r=new ls("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=gs)))}function Qa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ys={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},Bu={},Vd={};m&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Ga(t){if(Bu[t])return Bu[t];if(!ys[t])return t;var r=ys[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Vd)return Bu[t]=r[o];return t}var Dd=Ga("animationend"),Ld=Ga("animationiteration"),Md=Ga("animationstart"),Od=Ga("transitionend"),Fd=new Map,jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,r){Fd.set(t,r),c(r,[t])}for(var qu=0;qu<jd.length;qu++){var $u=jd[qu],Ny=$u.toLowerCase(),Vy=$u[0].toUpperCase()+$u.slice(1);Dr(Ny,"on"+Vy)}Dr(Dd,"onAnimationEnd"),Dr(Ld,"onAnimationIteration"),Dr(Md,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Od,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function zd(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,Sa(u,r,void 0,t),t.currentTarget=null}function bd(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var S=u[_],x=S.instance,B=S.currentTarget;if(S=S.listener,x!==p&&h.isPropagationStopped())break e;zd(h,S,B),p=x}else for(_=0;_<u.length;_++){if(S=u[_],x=S.instance,B=S.currentTarget,S=S.listener,x!==p&&h.isPropagationStopped())break e;zd(h,S,B),p=x}}}if(An)throw t=yo,An=!1,yo=null,t}function Qe(t,r){var o=r[Ju];o===void 0&&(o=r[Ju]=new Set);var u=t+"__bubble";o.has(u)||(Ud(r,t,2,!1),o.add(u))}function Hu(t,r,o){var u=0;r&&(u|=4),Ud(o,t,u,r)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function Lo(t){if(!t[Ka]){t[Ka]=!0,s.forEach(function(o){o!=="selectionchange"&&(Dy.has(o)||Hu(o,!1,t),Hu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ka]||(r[Ka]=!0,Hu("selectionchange",!1,r))}}function Ud(t,r,o,u){switch(So(r)){case 1:var h=Xe;break;case 4:h=Mu;break;default:h=Io}o=h.bind(null,r,o,t),h=void 0,!Yi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Wu(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var x=_.tag;if((x===3||x===4)&&(x=_.stateNode.containerInfo,x===h||x.nodeType===8&&x.parentNode===h))return;_=_.return}for(;S!==null;){if(_=wi(S),_===null)return;if(x=_.tag,x===5||x===6){u=p=_;continue e}S=S.parentNode}}u=u.return}go(function(){var B=p,K=Gi(o),Y=[];e:{var G=Fd.get(t);if(G!==void 0){var ne=ls,le=t;switch(t){case"keypress":if(as(o)===0)break e;case"keydown":case"keyup":ne=f;break;case"focusin":le="focus",ne=ds;break;case"focusout":le="blur",ne=ds;break;case"beforeblur":case"afterblur":ne=ds;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=za;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=q;break;case Dd:case Ld:case Md:ne=ur;break;case Od:ne=Ue;break;case"scroll":ne=Ou;break;case"wheel":ne=Ne;break;case"copy":case"cut":case"paste":ne=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=E}var ue=(r&4)!==0,st=!ue&&t==="scroll",F=ue?G!==null?G+"Capture":null:G;ue=[];for(var D=B,z;D!==null;){z=D;var J=z.stateNode;if(z.tag===5&&J!==null&&(z=J,F!==null&&(J=it(D,F),J!=null&&ue.push(Mo(D,J,z)))),st)break;D=D.return}0<ue.length&&(G=new ne(G,le,null,o,K),Y.push({event:G,listeners:ue}))}}if(!(r&7)){e:{if(G=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",G&&o!==li&&(le=o.relatedTarget||o.fromElement)&&(wi(le)||le[cr]))break e;if((ne||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,ne?(le=o.relatedTarget||o.toElement,ne=B,le=le?wi(le):null,le!==null&&(st=Cn(le),le!==st||le.tag!==5&&le.tag!==6)&&(le=null)):(ne=null,le=B),ne!==le)){if(ue=cs,J="onMouseLeave",F="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ue=E,J="onPointerLeave",F="onPointerEnter",D="pointer"),st=ne==null?G:Es(ne),z=le==null?G:Es(le),G=new ue(J,D+"leave",ne,o,K),G.target=st,G.relatedTarget=z,J=null,wi(K)===B&&(ue=new ue(F,D+"enter",le,o,K),ue.target=z,ue.relatedTarget=st,J=ue),st=J,ne&&le)t:{for(ue=ne,F=le,D=0,z=ue;z;z=_s(z))D++;for(z=0,J=F;J;J=_s(J))z++;for(;0<D-z;)ue=_s(ue),D--;for(;0<z-D;)F=_s(F),z--;for(;D--;){if(ue===F||F!==null&&ue===F.alternate)break t;ue=_s(ue),F=_s(F)}ue=null}else ue=null;ne!==null&&Bd(Y,G,ne,ue,!1),le!==null&&st!==null&&Bd(Y,st,le,ue,!0)}}e:{if(G=B?Es(B):window,ne=G.nodeName&&G.nodeName.toLowerCase(),ne==="select"||ne==="input"&&G.type==="file")var he=Iy;else if(wd(G))if(Id)he=Ry;else{he=Ay;var ge=Sy}else(ne=G.nodeName)&&ne.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(he=Cy);if(he&&(he=he(t,B))){Td(Y,he,o,K);break e}ge&&ge(t,G,B),t==="focusout"&&(ge=G._wrapperState)&&ge.controlled&&G.type==="number"&&Hi(G,"number",G.value)}switch(ge=B?Es(B):window,t){case"focusin":(wd(ge)||ge.contentEditable==="true")&&(gs=ge,bu=B,Vo=null);break;case"focusout":Vo=bu=gs=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Nd(Y,o,K);break;case"selectionchange":if(xy)break;case"keydown":case"keyup":Nd(Y,o,K)}var ye;if(at)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ms?vd(t,o)&&(ve="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(Ei&&o.locale!=="ko"&&(ms||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ms&&(ye=Ao()):(sn=K,os="value"in sn?sn.value:sn.textContent,ms=!0)),ge=Xa(B,ve),0<ge.length&&(ve=new Po(ve,t,null,o,K),Y.push({event:ve,listeners:ge}),ye?ve.data=ye:(ye=Ed(o),ye!==null&&(ve.data=ye)))),(ye=on?vy(t,o):Ey(t,o))&&(B=Xa(B,"onBeforeInput"),0<B.length&&(K=new Po("onBeforeInput","beforeinput",null,o,K),Y.push({event:K,listeners:B}),K.data=ye))}bd(Y,r)})}function Mo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Xa(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=it(t,o),p!=null&&u.unshift(Mo(t,p,h)),p=it(t,r),p!=null&&u.push(Mo(t,p,h))),t=t.return}return u}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bd(t,r,o,u,h){for(var p=r._reactName,_=[];o!==null&&o!==u;){var S=o,x=S.alternate,B=S.stateNode;if(x!==null&&x===u)break;S.tag===5&&B!==null&&(S=B,h?(x=it(o,p),x!=null&&_.unshift(Mo(o,x,S))):h||(x=it(o,p),x!=null&&_.push(Mo(o,x,S)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Ly=/\r\n?/g,My=/\u0000|\uFFFD/g;function qd(t){return(typeof t=="string"?t:""+t).replace(Ly,`
`).replace(My,"")}function Ya(t,r,o){if(r=qd(r),qd(t)!==r&&o)throw Error(n(425))}function Ja(){}var Qu=null,Gu=null;function Ku(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xu=typeof setTimeout=="function"?setTimeout:void 0,Oy=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,Fy=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(t){return $d.resolve(null).then(t).catch(jy)}:Xu;function jy(t){setTimeout(function(){throw t})}function Yu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Nn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Nn(r)}function Lr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Hd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var vs=Math.random().toString(36).slice(2),Qn="__reactFiber$"+vs,Oo="__reactProps$"+vs,cr="__reactContainer$"+vs,Ju="__reactEvents$"+vs,zy="__reactListeners$"+vs,by="__reactHandles$"+vs;function wi(t){var r=t[Qn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[cr]||o[Qn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Hd(t);t!==null;){if(o=t[Qn])return o;t=Hd(t)}return r}t=o,o=t.parentNode}return null}function Fo(t){return t=t[Qn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Za(t){return t[Oo]||null}var Zu=[],ws=-1;function Mr(t){return{current:t}}function Ge(t){0>ws||(t.current=Zu[ws],Zu[ws]=null,ws--)}function He(t,r){ws++,Zu[ws]=t.current,t.current=r}var Or={},Vt=Mr(Or),Wt=Mr(!1),Ti=Or;function Ts(t,r){var o=t.type.contextTypes;if(!o)return Or;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Qt(t){return t=t.childContextTypes,t!=null}function el(){Ge(Wt),Ge(Vt)}function Wd(t,r,o){if(Vt.current!==Or)throw Error(n(168));He(Vt,r),He(Wt,o)}function Qd(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Le(t)||"Unknown",h));return te({},o,u)}function tl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Or,Ti=Vt.current,He(Vt,t),He(Wt,Wt.current),!0}function Gd(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Qd(t,r,Ti),u.__reactInternalMemoizedMergedChildContext=t,Ge(Wt),Ge(Vt),He(Vt,t)):Ge(Wt),He(Wt,o)}var hr=null,nl=!1,ec=!1;function Kd(t){hr===null?hr=[t]:hr.push(t)}function Uy(t){nl=!0,Kd(t)}function Fr(){if(!ec&&hr!==null){ec=!0;var t=0,r=ke;try{var o=hr;for(ke=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}hr=null,nl=!1}catch(h){throw hr!==null&&(hr=hr.slice(t+1)),ts(fi,Fr),h}finally{ke=r,ec=!1}}return null}var Is=[],Ss=0,rl=null,il=0,yn=[],_n=0,Ii=null,dr=1,fr="";function Si(t,r){Is[Ss++]=il,Is[Ss++]=rl,rl=t,il=r}function Xd(t,r,o){yn[_n++]=dr,yn[_n++]=fr,yn[_n++]=Ii,Ii=t;var u=dr;t=fr;var h=32-bt(u)-1;u&=~(1<<h),o+=1;var p=32-bt(r)+h;if(30<p){var _=h-h%5;p=(u&(1<<_)-1).toString(32),u>>=_,h-=_,dr=1<<32-bt(r)+h|o<<h|u,fr=p+t}else dr=1<<p|o<<h|u,fr=t}function tc(t){t.return!==null&&(Si(t,1),Xd(t,1,0))}function nc(t){for(;t===rl;)rl=Is[--Ss],Is[Ss]=null,il=Is[--Ss],Is[Ss]=null;for(;t===Ii;)Ii=yn[--_n],yn[_n]=null,fr=yn[--_n],yn[_n]=null,dr=yn[--_n],yn[_n]=null}var an=null,ln=null,Ye=!1,Ln=null;function Yd(t,r){var o=Tn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Jd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,an=t,ln=Lr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,an=t,ln=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ii!==null?{id:dr,overflow:fr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Tn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,an=t,ln=null,!0):!1;default:return!1}}function rc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ic(t){if(Ye){var r=ln;if(r){var o=r;if(!Jd(t,r)){if(rc(t))throw Error(n(418));r=Lr(o.nextSibling);var u=an;r&&Jd(t,r)?Yd(u,o):(t.flags=t.flags&-4097|2,Ye=!1,an=t)}}else{if(rc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ye=!1,an=t}}}function Zd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function sl(t){if(t!==an)return!1;if(!Ye)return Zd(t),Ye=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Ku(t.type,t.memoizedProps)),r&&(r=ln)){if(rc(t))throw ef(),Error(n(418));for(;r;)Yd(t,r),r=Lr(r.nextSibling)}if(Zd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){ln=Lr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}ln=null}}else ln=an?Lr(t.stateNode.nextSibling):null;return!0}function ef(){for(var t=ln;t;)t=Lr(t.nextSibling)}function As(){ln=an=null,Ye=!1}function sc(t){Ln===null?Ln=[t]:Ln.push(t)}var By=Se.ReactCurrentBatchConfig;function jo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var S=h.refs;_===null?delete S[p]:S[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function ol(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function tf(t){var r=t._init;return r(t._payload)}function nf(t){function r(F,D){if(t){var z=F.deletions;z===null?(F.deletions=[D],F.flags|=16):z.push(D)}}function o(F,D){if(!t)return null;for(;D!==null;)r(F,D),D=D.sibling;return null}function u(F,D){for(F=new Map;D!==null;)D.key!==null?F.set(D.key,D):F.set(D.index,D),D=D.sibling;return F}function h(F,D){return F=Hr(F,D),F.index=0,F.sibling=null,F}function p(F,D,z){return F.index=z,t?(z=F.alternate,z!==null?(z=z.index,z<D?(F.flags|=2,D):z):(F.flags|=2,D)):(F.flags|=1048576,D)}function _(F){return t&&F.alternate===null&&(F.flags|=2),F}function S(F,D,z,J){return D===null||D.tag!==6?(D=Xc(z,F.mode,J),D.return=F,D):(D=h(D,z),D.return=F,D)}function x(F,D,z,J){var he=z.type;return he===N?K(F,D,z.props.children,J,z.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===vt&&tf(he)===D.type)?(J=h(D,z.props),J.ref=jo(F,D,z),J.return=F,J):(J=xl(z.type,z.key,z.props,null,F.mode,J),J.ref=jo(F,D,z),J.return=F,J)}function B(F,D,z,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Yc(z,F.mode,J),D.return=F,D):(D=h(D,z.children||[]),D.return=F,D)}function K(F,D,z,J,he){return D===null||D.tag!==7?(D=Vi(z,F.mode,J,he),D.return=F,D):(D=h(D,z),D.return=F,D)}function Y(F,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Xc(""+D,F.mode,z),D.return=F,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case We:return z=xl(D.type,D.key,D.props,null,F.mode,z),z.ref=jo(F,null,D),z.return=F,z;case se:return D=Yc(D,F.mode,z),D.return=F,D;case vt:var J=D._init;return Y(F,J(D._payload),z)}if(tr(D)||fe(D))return D=Vi(D,F.mode,z,null),D.return=F,D;ol(F,D)}return null}function G(F,D,z,J){var he=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return he!==null?null:S(F,D,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case We:return z.key===he?x(F,D,z,J):null;case se:return z.key===he?B(F,D,z,J):null;case vt:return he=z._init,G(F,D,he(z._payload),J)}if(tr(z)||fe(z))return he!==null?null:K(F,D,z,J,null);ol(F,z)}return null}function ne(F,D,z,J,he){if(typeof J=="string"&&J!==""||typeof J=="number")return F=F.get(z)||null,S(D,F,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case We:return F=F.get(J.key===null?z:J.key)||null,x(D,F,J,he);case se:return F=F.get(J.key===null?z:J.key)||null,B(D,F,J,he);case vt:var ge=J._init;return ne(F,D,z,ge(J._payload),he)}if(tr(J)||fe(J))return F=F.get(z)||null,K(D,F,J,he,null);ol(D,J)}return null}function le(F,D,z,J){for(var he=null,ge=null,ye=D,ve=D=0,It=null;ye!==null&&ve<z.length;ve++){ye.index>ve?(It=ye,ye=null):It=ye.sibling;var Fe=G(F,ye,z[ve],J);if(Fe===null){ye===null&&(ye=It);break}t&&ye&&Fe.alternate===null&&r(F,ye),D=p(Fe,D,ve),ge===null?he=Fe:ge.sibling=Fe,ge=Fe,ye=It}if(ve===z.length)return o(F,ye),Ye&&Si(F,ve),he;if(ye===null){for(;ve<z.length;ve++)ye=Y(F,z[ve],J),ye!==null&&(D=p(ye,D,ve),ge===null?he=ye:ge.sibling=ye,ge=ye);return Ye&&Si(F,ve),he}for(ye=u(F,ye);ve<z.length;ve++)It=ne(ye,F,ve,z[ve],J),It!==null&&(t&&It.alternate!==null&&ye.delete(It.key===null?ve:It.key),D=p(It,D,ve),ge===null?he=It:ge.sibling=It,ge=It);return t&&ye.forEach(function(Wr){return r(F,Wr)}),Ye&&Si(F,ve),he}function ue(F,D,z,J){var he=fe(z);if(typeof he!="function")throw Error(n(150));if(z=he.call(z),z==null)throw Error(n(151));for(var ge=he=null,ye=D,ve=D=0,It=null,Fe=z.next();ye!==null&&!Fe.done;ve++,Fe=z.next()){ye.index>ve?(It=ye,ye=null):It=ye.sibling;var Wr=G(F,ye,Fe.value,J);if(Wr===null){ye===null&&(ye=It);break}t&&ye&&Wr.alternate===null&&r(F,ye),D=p(Wr,D,ve),ge===null?he=Wr:ge.sibling=Wr,ge=Wr,ye=It}if(Fe.done)return o(F,ye),Ye&&Si(F,ve),he;if(ye===null){for(;!Fe.done;ve++,Fe=z.next())Fe=Y(F,Fe.value,J),Fe!==null&&(D=p(Fe,D,ve),ge===null?he=Fe:ge.sibling=Fe,ge=Fe);return Ye&&Si(F,ve),he}for(ye=u(F,ye);!Fe.done;ve++,Fe=z.next())Fe=ne(ye,F,ve,Fe.value,J),Fe!==null&&(t&&Fe.alternate!==null&&ye.delete(Fe.key===null?ve:Fe.key),D=p(Fe,D,ve),ge===null?he=Fe:ge.sibling=Fe,ge=Fe);return t&&ye.forEach(function(E_){return r(F,E_)}),Ye&&Si(F,ve),he}function st(F,D,z,J){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case We:e:{for(var he=z.key,ge=D;ge!==null;){if(ge.key===he){if(he=z.type,he===N){if(ge.tag===7){o(F,ge.sibling),D=h(ge,z.props.children),D.return=F,F=D;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===vt&&tf(he)===ge.type){o(F,ge.sibling),D=h(ge,z.props),D.ref=jo(F,ge,z),D.return=F,F=D;break e}o(F,ge);break}else r(F,ge);ge=ge.sibling}z.type===N?(D=Vi(z.props.children,F.mode,J,z.key),D.return=F,F=D):(J=xl(z.type,z.key,z.props,null,F.mode,J),J.ref=jo(F,D,z),J.return=F,F=J)}return _(F);case se:e:{for(ge=z.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){o(F,D.sibling),D=h(D,z.children||[]),D.return=F,F=D;break e}else{o(F,D);break}else r(F,D);D=D.sibling}D=Yc(z,F.mode,J),D.return=F,F=D}return _(F);case vt:return ge=z._init,st(F,D,ge(z._payload),J)}if(tr(z))return le(F,D,z,J);if(fe(z))return ue(F,D,z,J);ol(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(o(F,D.sibling),D=h(D,z),D.return=F,F=D):(o(F,D),D=Xc(z,F.mode,J),D.return=F,F=D),_(F)):o(F,D)}return st}var Cs=nf(!0),rf=nf(!1),al=Mr(null),ll=null,Rs=null,oc=null;function ac(){oc=Rs=ll=null}function lc(t){var r=al.current;Ge(al),t._currentValue=r}function uc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Ps(t,r){ll=t,oc=Rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Gt=!0),t.firstContext=null)}function vn(t){var r=t._currentValue;if(oc!==t)if(t={context:t,memoizedValue:r,next:null},Rs===null){if(ll===null)throw Error(n(308));Rs=t,ll.dependencies={lanes:0,firstContext:t}}else Rs=Rs.next=t;return r}var Ai=null;function cc(t){Ai===null?Ai=[t]:Ai.push(t)}function sf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,cc(r)):(o.next=h.next,h.next=o),r.interleaved=o,pr(t,u)}function pr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var jr=!1;function hc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function of(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function zr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Oe&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,pr(t,o)}return h=u.interleaved,h===null?(r.next=r,cc(u)):(r.next=h.next,h.next=r),u.interleaved=r,pr(t,o)}function ul(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Pr(t,o)}}function af(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function cl(t,r,o,u){var h=t.updateQueue;jr=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var x=S,B=x.next;x.next=null,_===null?p=B:_.next=B,_=x;var K=t.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==_&&(S===null?K.firstBaseUpdate=B:S.next=B,K.lastBaseUpdate=x))}if(p!==null){var Y=h.baseState;_=0,K=B=x=null,S=p;do{var G=S.lane,ne=S.eventTime;if((u&G)===G){K!==null&&(K=K.next={eventTime:ne,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var le=t,ue=S;switch(G=r,ne=o,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){Y=le.call(ne,Y,G);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,G=typeof le=="function"?le.call(ne,Y,G):le,G==null)break e;Y=te({},Y,G);break e;case 2:jr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,G=h.effects,G===null?h.effects=[S]:G.push(S))}else ne={eventTime:ne,lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(B=K=ne,x=Y):K=K.next=ne,_|=G;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;G=S,S=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);if(K===null&&(x=Y),h.baseState=x,h.firstBaseUpdate=B,h.lastBaseUpdate=K,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Pi|=_,t.lanes=_,t.memoizedState=Y}}function lf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var zo={},Gn=Mr(zo),bo=Mr(zo),Uo=Mr(zo);function Ci(t){if(t===zo)throw Error(n(174));return t}function dc(t,r){switch(He(Uo,r),He(bo,t),He(Gn,zo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:dt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=dt(r,t)}Ge(Gn),He(Gn,r)}function ks(){Ge(Gn),Ge(bo),Ge(Uo)}function uf(t){Ci(Uo.current);var r=Ci(Gn.current),o=dt(r,t.type);r!==o&&(He(bo,t),He(Gn,o))}function fc(t){bo.current===t&&(Ge(Gn),Ge(bo))}var Ze=Mr(0);function hl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var pc=[];function mc(){for(var t=0;t<pc.length;t++)pc[t]._workInProgressVersionPrimary=null;pc.length=0}var dl=Se.ReactCurrentDispatcher,gc=Se.ReactCurrentBatchConfig,Ri=0,et=null,pt=null,wt=null,fl=!1,Bo=!1,qo=0,qy=0;function Dt(){throw Error(n(321))}function yc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Dn(t[o],r[o]))return!1;return!0}function _c(t,r,o,u,h,p){if(Ri=p,et=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,dl.current=t===null||t.memoizedState===null?Qy:Gy,t=o(u,h),Bo){p=0;do{if(Bo=!1,qo=0,25<=p)throw Error(n(301));p+=1,wt=pt=null,r.updateQueue=null,dl.current=Ky,t=o(u,h)}while(Bo)}if(dl.current=gl,r=pt!==null&&pt.next!==null,Ri=0,wt=pt=et=null,fl=!1,r)throw Error(n(300));return t}function vc(){var t=qo!==0;return qo=0,t}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?et.memoizedState=wt=t:wt=wt.next=t,wt}function En(){if(pt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var r=wt===null?et.memoizedState:wt.next;if(r!==null)wt=r,pt=t;else{if(t===null)throw Error(n(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},wt===null?et.memoizedState=wt=t:wt=wt.next=t}return wt}function $o(t,r){return typeof r=="function"?r(t):r}function Ec(t){var r=En(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=pt,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var S=_=null,x=null,B=p;do{var K=B.lane;if((Ri&K)===K)x!==null&&(x=x.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),u=B.hasEagerState?B.eagerState:t(u,B.action);else{var Y={lane:K,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};x===null?(S=x=Y,_=u):x=x.next=Y,et.lanes|=K,Pi|=K}B=B.next}while(B!==null&&B!==p);x===null?_=u:x.next=S,Dn(u,r.memoizedState)||(Gt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=x,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,et.lanes|=p,Pi|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function wc(t){var r=En(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);Dn(p,r.memoizedState)||(Gt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function cf(){}function hf(t,r){var o=et,u=En(),h=r(),p=!Dn(u.memoizedState,h);if(p&&(u.memoizedState=h,Gt=!0),u=u.queue,Tc(pf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,Ho(9,ff.bind(null,o,u,h,r),void 0,null),Tt===null)throw Error(n(349));Ri&30||df(o,r,h)}return h}function df(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function ff(t,r,o,u){r.value=o,r.getSnapshot=u,mf(r)&&gf(t)}function pf(t,r,o){return o(function(){mf(r)&&gf(t)})}function mf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Dn(t,o)}catch{return!0}}function gf(t){var r=pr(t,1);r!==null&&jn(r,t,1,-1)}function yf(t){var r=Kn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t},r.queue=t,t=t.dispatch=Wy.bind(null,et,t),[r.memoizedState,t]}function Ho(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=et.updateQueue,r===null?(r={lastEffect:null,stores:null},et.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function _f(){return En().memoizedState}function pl(t,r,o,u){var h=Kn();et.flags|=t,h.memoizedState=Ho(1|r,o,void 0,u===void 0?null:u)}function ml(t,r,o,u){var h=En();u=u===void 0?null:u;var p=void 0;if(pt!==null){var _=pt.memoizedState;if(p=_.destroy,u!==null&&yc(u,_.deps)){h.memoizedState=Ho(r,o,p,u);return}}et.flags|=t,h.memoizedState=Ho(1|r,o,p,u)}function vf(t,r){return pl(8390656,8,t,r)}function Tc(t,r){return ml(2048,8,t,r)}function Ef(t,r){return ml(4,2,t,r)}function wf(t,r){return ml(4,4,t,r)}function Tf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function If(t,r,o){return o=o!=null?o.concat([t]):null,ml(4,4,Tf.bind(null,r,t),o)}function Ic(){}function Sf(t,r){var o=En();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&yc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Af(t,r){var o=En();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&yc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Cf(t,r,o){return Ri&21?(Dn(o,r)||(o=gi(),et.lanes|=o,Pi|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=o)}function $y(t,r){var o=ke;ke=o!==0&&4>o?o:4,t(!0);var u=gc.transition;gc.transition={};try{t(!1),r()}finally{ke=o,gc.transition=u}}function Rf(){return En().memoizedState}function Hy(t,r,o){var u=qr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Pf(t))kf(r,o);else if(o=sf(t,r,o,u),o!==null){var h=qt();jn(o,t,u,h),xf(o,r,u)}}function Wy(t,r,o){var u=qr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Pf(t))kf(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,S=p(_,o);if(h.hasEagerState=!0,h.eagerState=S,Dn(S,_)){var x=r.interleaved;x===null?(h.next=h,cc(r)):(h.next=x.next,x.next=h),r.interleaved=h;return}}catch{}finally{}o=sf(t,r,h,u),o!==null&&(h=qt(),jn(o,t,u,h),xf(o,r,u))}}function Pf(t){var r=t.alternate;return t===et||r!==null&&r===et}function kf(t,r){Bo=fl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function xf(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Pr(t,o)}}var gl={readContext:vn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Qy={readContext:vn,useCallback:function(t,r){return Kn().memoizedState=[t,r===void 0?null:r],t},useContext:vn,useEffect:vf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,pl(4194308,4,Tf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return pl(4194308,4,t,r)},useInsertionEffect:function(t,r){return pl(4,2,t,r)},useMemo:function(t,r){var o=Kn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Kn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Hy.bind(null,et,t),[u.memoizedState,t]},useRef:function(t){var r=Kn();return t={current:t},r.memoizedState=t},useState:yf,useDebugValue:Ic,useDeferredValue:function(t){return Kn().memoizedState=t},useTransition:function(){var t=yf(!1),r=t[0];return t=$y.bind(null,t[1]),Kn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=et,h=Kn();if(Ye){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Tt===null)throw Error(n(349));Ri&30||df(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,vf(pf.bind(null,u,p,t),[t]),u.flags|=2048,Ho(9,ff.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Kn(),r=Tt.identifierPrefix;if(Ye){var o=fr,u=dr;o=(u&~(1<<32-bt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=qo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=qy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Gy={readContext:vn,useCallback:Sf,useContext:vn,useEffect:Tc,useImperativeHandle:If,useInsertionEffect:Ef,useLayoutEffect:wf,useMemo:Af,useReducer:Ec,useRef:_f,useState:function(){return Ec($o)},useDebugValue:Ic,useDeferredValue:function(t){var r=En();return Cf(r,pt.memoizedState,t)},useTransition:function(){var t=Ec($o)[0],r=En().memoizedState;return[t,r]},useMutableSource:cf,useSyncExternalStore:hf,useId:Rf,unstable_isNewReconciler:!1},Ky={readContext:vn,useCallback:Sf,useContext:vn,useEffect:Tc,useImperativeHandle:If,useInsertionEffect:Ef,useLayoutEffect:wf,useMemo:Af,useReducer:wc,useRef:_f,useState:function(){return wc($o)},useDebugValue:Ic,useDeferredValue:function(t){var r=En();return pt===null?r.memoizedState=t:Cf(r,pt.memoizedState,t)},useTransition:function(){var t=wc($o)[0],r=En().memoizedState;return[t,r]},useMutableSource:cf,useSyncExternalStore:hf,useId:Rf,unstable_isNewReconciler:!1};function Mn(t,r){if(t&&t.defaultProps){r=te({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Sc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:te({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var yl={isMounted:function(t){return(t=t._reactInternals)?Cn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=qt(),h=qr(t),p=mr(u,h);p.payload=r,o!=null&&(p.callback=o),r=zr(t,p,h),r!==null&&(jn(r,t,h,u),ul(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=qt(),h=qr(t),p=mr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=zr(t,p,h),r!==null&&(jn(r,t,h,u),ul(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=qt(),u=qr(t),h=mr(o,u);h.tag=2,r!=null&&(h.callback=r),r=zr(t,h,u),r!==null&&(jn(r,t,u,o),ul(r,t,u))}};function Nf(t,r,o,u,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!No(o,u)||!No(h,p):!0}function Vf(t,r,o){var u=!1,h=Or,p=r.contextType;return typeof p=="object"&&p!==null?p=vn(p):(h=Qt(r)?Ti:Vt.current,u=r.contextTypes,p=(u=u!=null)?Ts(t,h):Or),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=yl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function Df(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&yl.enqueueReplaceState(r,r.state,null)}function Ac(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},hc(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=vn(p):(p=Qt(r)?Ti:Vt.current,h.context=Ts(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Sc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&yl.enqueueReplaceState(h,h.state,null),cl(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function xs(t,r){try{var o="",u=r;do o+=me(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function Cc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Rc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Xy=typeof WeakMap=="function"?WeakMap:Map;function Lf(t,r,o){o=mr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Sl||(Sl=!0,Bc=u),Rc(t,r)},o}function Mf(t,r,o){o=mr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){Rc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Rc(t,r),typeof u!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Of(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Xy;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=c_.bind(null,t,r,o),r.then(t,t))}function Ff(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function jf(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=mr(-1,1),r.tag=2,zr(o,r,1))),o.lanes|=1),t)}var Yy=Se.ReactCurrentOwner,Gt=!1;function Bt(t,r,o,u){r.child=t===null?rf(r,null,o,u):Cs(r,t.child,o,u)}function zf(t,r,o,u,h){o=o.render;var p=r.ref;return Ps(r,h),u=_c(t,r,o,u,p,h),o=vc(),t!==null&&!Gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,gr(t,r,h)):(Ye&&o&&tc(r),r.flags|=1,Bt(t,r,u,h),r.child)}function bf(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Kc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Uf(t,r,p,u,h)):(t=xl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:No,o(_,u)&&t.ref===r.ref)return gr(t,r,h)}return r.flags|=1,t=Hr(p,u),t.ref=r.ref,t.return=r,r.child=t}function Uf(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(No(p,u)&&t.ref===r.ref)if(Gt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(Gt=!0);else return r.lanes=t.lanes,gr(t,r,h)}return Pc(t,r,o,u,h)}function Bf(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Vs,un),un|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(Vs,un),un|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,He(Vs,un),un|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,He(Vs,un),un|=u;return Bt(t,r,h,o),r.child}function qf(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Pc(t,r,o,u,h){var p=Qt(o)?Ti:Vt.current;return p=Ts(r,p),Ps(r,h),o=_c(t,r,o,u,p,h),u=vc(),t!==null&&!Gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,gr(t,r,h)):(Ye&&u&&tc(r),r.flags|=1,Bt(t,r,o,h),r.child)}function $f(t,r,o,u,h){if(Qt(o)){var p=!0;tl(r)}else p=!1;if(Ps(r,h),r.stateNode===null)vl(t,r),Vf(r,o,u),Ac(r,o,u,h),u=!0;else if(t===null){var _=r.stateNode,S=r.memoizedProps;_.props=S;var x=_.context,B=o.contextType;typeof B=="object"&&B!==null?B=vn(B):(B=Qt(o)?Ti:Vt.current,B=Ts(r,B));var K=o.getDerivedStateFromProps,Y=typeof K=="function"||typeof _.getSnapshotBeforeUpdate=="function";Y||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==u||x!==B)&&Df(r,_,u,B),jr=!1;var G=r.memoizedState;_.state=G,cl(r,u,_,h),x=r.memoizedState,S!==u||G!==x||Wt.current||jr?(typeof K=="function"&&(Sc(r,o,K,u),x=r.memoizedState),(S=jr||Nf(r,o,S,u,G,x,B))?(Y||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=x),_.props=u,_.state=x,_.context=B,u=S):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,of(t,r),S=r.memoizedProps,B=r.type===r.elementType?S:Mn(r.type,S),_.props=B,Y=r.pendingProps,G=_.context,x=o.contextType,typeof x=="object"&&x!==null?x=vn(x):(x=Qt(o)?Ti:Vt.current,x=Ts(r,x));var ne=o.getDerivedStateFromProps;(K=typeof ne=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==Y||G!==x)&&Df(r,_,u,x),jr=!1,G=r.memoizedState,_.state=G,cl(r,u,_,h);var le=r.memoizedState;S!==Y||G!==le||Wt.current||jr?(typeof ne=="function"&&(Sc(r,o,ne,u),le=r.memoizedState),(B=jr||Nf(r,o,B,u,G,le,x)||!1)?(K||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,le,x),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,le,x)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=le),_.props=u,_.state=le,_.context=x,u=B):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),u=!1)}return kc(t,r,o,u,p,h)}function kc(t,r,o,u,h,p){qf(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return h&&Gd(r,o,!1),gr(t,r,p);u=r.stateNode,Yy.current=r;var S=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=Cs(r,t.child,null,p),r.child=Cs(r,null,S,p)):Bt(t,r,S,p),r.memoizedState=u.state,h&&Gd(r,o,!0),r.child}function Hf(t){var r=t.stateNode;r.pendingContext?Wd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Wd(t,r.context,!1),dc(t,r.containerInfo)}function Wf(t,r,o,u,h){return As(),sc(h),r.flags|=256,Bt(t,r,o,u),r.child}var xc={dehydrated:null,treeContext:null,retryLane:0};function Nc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qf(t,r,o){var u=r.pendingProps,h=Ze.current,p=!1,_=(r.flags&128)!==0,S;if((S=_)||(S=t!==null&&t.memoizedState===null?!1:(h&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),He(Ze,h&1),t===null)return ic(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Nl(_,u,0,null),t=Vi(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Nc(o),r.memoizedState=xc,t):Vc(r,_));if(h=t.memoizedState,h!==null&&(S=h.dehydrated,S!==null))return Jy(t,r,_,u,S,h,o);if(p){p=u.fallback,_=r.mode,h=t.child,S=h.sibling;var x={mode:"hidden",children:u.children};return!(_&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=x,r.deletions=null):(u=Hr(h,x),u.subtreeFlags=h.subtreeFlags&14680064),S!==null?p=Hr(S,p):(p=Vi(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?Nc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=xc,u}return p=t.child,t=p.sibling,u=Hr(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Vc(t,r){return r=Nl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function _l(t,r,o,u){return u!==null&&sc(u),Cs(r,t.child,null,o),t=Vc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Jy(t,r,o,u,h,p,_){if(o)return r.flags&256?(r.flags&=-257,u=Cc(Error(n(422))),_l(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=Nl({mode:"visible",children:u.children},h,0,null),p=Vi(p,h,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&Cs(r,t.child,null,_),r.child.memoizedState=Nc(_),r.memoizedState=xc,p);if(!(r.mode&1))return _l(t,r,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var S=u.dgst;return u=S,p=Error(n(419)),u=Cc(p,u,void 0),_l(t,r,_,u)}if(S=(_&t.childLanes)!==0,Gt||S){if(u=Tt,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|_)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,pr(t,h),jn(u,t,h,-1))}return Gc(),u=Cc(Error(n(421))),_l(t,r,_,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=h_.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,ln=Lr(h.nextSibling),an=r,Ye=!0,Ln=null,t!==null&&(yn[_n++]=dr,yn[_n++]=fr,yn[_n++]=Ii,dr=t.id,fr=t.overflow,Ii=r),r=Vc(r,u.children),r.flags|=4096,r)}function Gf(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),uc(t.return,r,o)}function Dc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Kf(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Bt(t,r,u.children,o),u=Ze.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gf(t,o,r);else if(t.tag===19)Gf(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(He(Ze,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&hl(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Dc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&hl(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Dc(r,!0,o,null,p);break;case"together":Dc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function vl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function gr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Pi|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Hr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Hr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Zy(t,r,o){switch(r.tag){case 3:Hf(r),As();break;case 5:uf(r);break;case 1:Qt(r.type)&&tl(r);break;case 4:dc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;He(al,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(He(Ze,Ze.current&1),r.flags|=128,null):o&r.child.childLanes?Qf(t,r,o):(He(Ze,Ze.current&1),t=gr(t,r,o),t!==null?t.sibling:null);He(Ze,Ze.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Kf(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),He(Ze,Ze.current),u)break;return null;case 22:case 23:return r.lanes=0,Bf(t,r,o)}return gr(t,r,o)}var Xf,Lc,Yf,Jf;Xf=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Lc=function(){},Yf=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ci(Gn.current);var p=null;switch(o){case"input":h=si(t,h),u=si(t,u),p=[];break;case"select":h=te({},h,{value:void 0}),u=te({},u,{value:void 0}),p=[];break;case"textarea":h=so(t,h),u=so(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ja)}ho(o,u);var _;o=null;for(B in h)if(!u.hasOwnProperty(B)&&h.hasOwnProperty(B)&&h[B]!=null)if(B==="style"){var S=h[B];for(_ in S)S.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?p||(p=[]):(p=p||[]).push(B,null));for(B in u){var x=u[B];if(S=h!=null?h[B]:void 0,u.hasOwnProperty(B)&&x!==S&&(x!=null||S!=null))if(B==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||x&&x.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in x)x.hasOwnProperty(_)&&S[_]!==x[_]&&(o||(o={}),o[_]=x[_])}else o||(p||(p=[]),p.push(B,o)),o=x;else B==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,S=S?S.__html:void 0,x!=null&&S!==x&&(p=p||[]).push(B,x)):B==="children"?typeof x!="string"&&typeof x!="number"||(p=p||[]).push(B,""+x):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(x!=null&&B==="onScroll"&&Qe("scroll",t),p||S===x||(p=[])):(p=p||[]).push(B,x))}o&&(p=p||[]).push("style",o);var B=p;(r.updateQueue=B)&&(r.flags|=4)}},Jf=function(t,r,o,u){o!==u&&(r.flags|=4)};function Wo(t,r){if(!Ye)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function e_(t,r,o){var u=r.pendingProps;switch(nc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(r),null;case 1:return Qt(r.type)&&el(),Lt(r),null;case 3:return u=r.stateNode,ks(),Ge(Wt),Ge(Vt),mc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(sl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Ln!==null&&(Hc(Ln),Ln=null))),Lc(t,r),Lt(r),null;case 5:fc(r);var h=Ci(Uo.current);if(o=r.type,t!==null&&r.stateNode!=null)Yf(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Lt(r),null}if(t=Ci(Gn.current),sl(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Qn]=r,u[Oo]=p,t=(r.mode&1)!==0,o){case"dialog":Qe("cancel",u),Qe("close",u);break;case"iframe":case"object":case"embed":Qe("load",u);break;case"video":case"audio":for(h=0;h<Do.length;h++)Qe(Do[h],u);break;case"source":Qe("error",u);break;case"img":case"image":case"link":Qe("error",u),Qe("load",u);break;case"details":Qe("toggle",u);break;case"input":$i(u,p),Qe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Qe("invalid",u);break;case"textarea":Wi(u,p),Qe("invalid",u)}ho(o,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var S=p[_];_==="children"?typeof S=="string"?u.textContent!==S&&(p.suppressHydrationWarning!==!0&&Ya(u.textContent,S,t),h=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&Ya(u.textContent,S,t),h=["children",""+S]):a.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&Qe("scroll",u)}switch(o){case"input":rt(u),Ia(u,p,!0);break;case"textarea":rt(u),oo(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ja)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ht(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[Qn]=r,t[Oo]=u,Xf(t,r,!1,!1),r.stateNode=t;e:{switch(_=fo(o,u),o){case"dialog":Qe("cancel",t),Qe("close",t),h=u;break;case"iframe":case"object":case"embed":Qe("load",t),h=u;break;case"video":case"audio":for(h=0;h<Do.length;h++)Qe(Do[h],t);h=u;break;case"source":Qe("error",t),h=u;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),h=u;break;case"details":Qe("toggle",t),h=u;break;case"input":$i(t,u),h=si(t,u),Qe("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=te({},u,{value:void 0}),Qe("invalid",t);break;case"textarea":Wi(t,u),h=so(t,u),Qe("invalid",t);break;default:h=u}ho(o,h),S=h;for(p in S)if(S.hasOwnProperty(p)){var x=S[p];p==="style"?uo(t,x):p==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&ao(t,x)):p==="children"?typeof x=="string"?(o!=="textarea"||x!=="")&&Ir(t,x):typeof x=="number"&&Ir(t,""+x):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?x!=null&&p==="onScroll"&&Qe("scroll",t):x!=null&&we(t,p,x,_))}switch(o){case"input":rt(t),Ia(t,u,!1);break;case"textarea":rt(t),oo(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Me(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?nr(t,!!u.multiple,p,!1):u.defaultValue!=null&&nr(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ja)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Lt(r),null;case 6:if(t&&r.stateNode!=null)Jf(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ci(Uo.current),Ci(Gn.current),sl(r)){if(u=r.stateNode,o=r.memoizedProps,u[Qn]=r,(p=u.nodeValue!==o)&&(t=an,t!==null))switch(t.tag){case 3:Ya(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ya(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Qn]=r,r.stateNode=u}return Lt(r),null;case 13:if(Ge(Ze),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&ln!==null&&r.mode&1&&!(r.flags&128))ef(),As(),r.flags|=98560,p=!1;else if(p=sl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Qn]=r}else As(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Lt(r),p=!1}else Ln!==null&&(Hc(Ln),Ln=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ze.current&1?mt===0&&(mt=3):Gc())),r.updateQueue!==null&&(r.flags|=4),Lt(r),null);case 4:return ks(),Lc(t,r),t===null&&Lo(r.stateNode.containerInfo),Lt(r),null;case 10:return lc(r.type._context),Lt(r),null;case 17:return Qt(r.type)&&el(),Lt(r),null;case 19:if(Ge(Ze),p=r.memoizedState,p===null)return Lt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)Wo(p,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=hl(t),_!==null){for(r.flags|=128,Wo(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Ze,Ze.current&1|2),r.child}t=t.sibling}p.tail!==null&&$e()>Ds&&(r.flags|=128,u=!0,Wo(p,!1),r.lanes=4194304)}else{if(!u)if(t=hl(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Wo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ye)return Lt(r),null}else 2*$e()-p.renderingStartTime>Ds&&o!==1073741824&&(r.flags|=128,u=!0,Wo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,o=Ze.current,He(Ze,u?o&1|2:o&1),r):(Lt(r),null);case 22:case 23:return Qc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?un&1073741824&&(Lt(r),r.subtreeFlags&6&&(r.flags|=8192)):Lt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function t_(t,r){switch(nc(r),r.tag){case 1:return Qt(r.type)&&el(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ks(),Ge(Wt),Ge(Vt),mc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return fc(r),null;case 13:if(Ge(Ze),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));As()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ge(Ze),null;case 4:return ks(),null;case 10:return lc(r.type._context),null;case 22:case 23:return Qc(),null;case 24:return null;default:return null}}var El=!1,Mt=!1,n_=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ns(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){nt(t,r,u)}else o.current=null}function Mc(t,r,o){try{o()}catch(u){nt(t,r,u)}}var Zf=!1;function r_(t,r){if(Qu=Nr,t=xd(),zu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,S=-1,x=-1,B=0,K=0,Y=t,G=null;t:for(;;){for(var ne;Y!==o||h!==0&&Y.nodeType!==3||(S=_+h),Y!==p||u!==0&&Y.nodeType!==3||(x=_+u),Y.nodeType===3&&(_+=Y.nodeValue.length),(ne=Y.firstChild)!==null;)G=Y,Y=ne;for(;;){if(Y===t)break t;if(G===o&&++B===h&&(S=_),G===p&&++K===u&&(x=_),(ne=Y.nextSibling)!==null)break;Y=G,G=Y.parentNode}Y=ne}o=S===-1||x===-1?null:{start:S,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gu={focusedElem:t,selectionRange:o},Nr=!1,oe=r;oe!==null;)if(r=oe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,oe=t;else for(;oe!==null;){r=oe;try{var le=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,st=le.memoizedState,F=r.stateNode,D=F.getSnapshotBeforeUpdate(r.elementType===r.type?ue:Mn(r.type,ue),st);F.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=r.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){nt(r,r.return,J)}if(t=r.sibling,t!==null){t.return=r.return,oe=t;break}oe=r.return}return le=Zf,Zf=!1,le}function Qo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Mc(r,o,p)}h=h.next}while(h!==u)}}function wl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Oc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function ep(t){var r=t.alternate;r!==null&&(t.alternate=null,ep(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Qn],delete r[Oo],delete r[Ju],delete r[zy],delete r[by])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tp(t){return t.tag===5||t.tag===3||t.tag===4}function np(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ja));else if(u!==4&&(t=t.child,t!==null))for(Fc(t,r,o),t=t.sibling;t!==null;)Fc(t,r,o),t=t.sibling}function jc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(jc(t,r,o),t=t.sibling;t!==null;)jc(t,r,o),t=t.sibling}var Rt=null,On=!1;function br(t,r,o){for(o=o.child;o!==null;)rp(t,r,o),o=o.sibling}function rp(t,r,o){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(pi,o)}catch{}switch(o.tag){case 5:Mt||Ns(o,r);case 6:var u=Rt,h=On;Rt=null,br(t,r,o),Rt=u,On=h,Rt!==null&&(On?(t=Rt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Rt.removeChild(o.stateNode));break;case 18:Rt!==null&&(On?(t=Rt,o=o.stateNode,t.nodeType===8?Yu(t.parentNode,o):t.nodeType===1&&Yu(t,o),Nn(t)):Yu(Rt,o.stateNode));break;case 4:u=Rt,h=On,Rt=o.stateNode.containerInfo,On=!0,br(t,r,o),Rt=u,On=h;break;case 0:case 11:case 14:case 15:if(!Mt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&Mc(o,r,_),h=h.next}while(h!==u)}br(t,r,o);break;case 1:if(!Mt&&(Ns(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){nt(o,r,S)}br(t,r,o);break;case 21:br(t,r,o);break;case 22:o.mode&1?(Mt=(u=Mt)||o.memoizedState!==null,br(t,r,o),Mt=u):br(t,r,o);break;default:br(t,r,o)}}function ip(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new n_),r.forEach(function(u){var h=d_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Fn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 5:Rt=S.stateNode,On=!1;break e;case 3:Rt=S.stateNode.containerInfo,On=!0;break e;case 4:Rt=S.stateNode.containerInfo,On=!0;break e}S=S.return}if(Rt===null)throw Error(n(160));rp(p,_,h),Rt=null,On=!1;var x=h.alternate;x!==null&&(x.return=null),h.return=null}catch(B){nt(h,r,B)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)sp(r,t),r=r.sibling}function sp(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(r,t),Xn(t),u&4){try{Qo(3,t,t.return),wl(3,t)}catch(ue){nt(t,t.return,ue)}try{Qo(5,t,t.return)}catch(ue){nt(t,t.return,ue)}}break;case 1:Fn(r,t),Xn(t),u&512&&o!==null&&Ns(o,o.return);break;case 5:if(Fn(r,t),Xn(t),u&512&&o!==null&&Ns(o,o.return),t.flags&32){var h=t.stateNode;try{Ir(h,"")}catch(ue){nt(t,t.return,ue)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,S=t.type,x=t.updateQueue;if(t.updateQueue=null,x!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&ro(h,p),fo(S,_);var B=fo(S,p);for(_=0;_<x.length;_+=2){var K=x[_],Y=x[_+1];K==="style"?uo(h,Y):K==="dangerouslySetInnerHTML"?ao(h,Y):K==="children"?Ir(h,Y):we(h,K,Y,B)}switch(S){case"input":io(h,p);break;case"textarea":Qi(h,p);break;case"select":var G=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ne=p.value;ne!=null?nr(h,!!p.multiple,ne,!1):G!==!!p.multiple&&(p.defaultValue!=null?nr(h,!!p.multiple,p.defaultValue,!0):nr(h,!!p.multiple,p.multiple?[]:"",!1))}h[Oo]=p}catch(ue){nt(t,t.return,ue)}}break;case 6:if(Fn(r,t),Xn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ue){nt(t,t.return,ue)}}break;case 3:if(Fn(r,t),Xn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Nn(r.containerInfo)}catch(ue){nt(t,t.return,ue)}break;case 4:Fn(r,t),Xn(t);break;case 13:Fn(r,t),Xn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Uc=$e())),u&4&&ip(t);break;case 22:if(K=o!==null&&o.memoizedState!==null,t.mode&1?(Mt=(B=Mt)||K,Fn(r,t),Mt=B):Fn(r,t),Xn(t),u&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!K&&t.mode&1)for(oe=t,K=t.child;K!==null;){for(Y=oe=K;oe!==null;){switch(G=oe,ne=G.child,G.tag){case 0:case 11:case 14:case 15:Qo(4,G,G.return);break;case 1:Ns(G,G.return);var le=G.stateNode;if(typeof le.componentWillUnmount=="function"){u=G,o=G.return;try{r=u,le.props=r.memoizedProps,le.state=r.memoizedState,le.componentWillUnmount()}catch(ue){nt(u,o,ue)}}break;case 5:Ns(G,G.return);break;case 22:if(G.memoizedState!==null){lp(Y);continue}}ne!==null?(ne.return=G,oe=ne):lp(Y)}K=K.sibling}e:for(K=null,Y=t;;){if(Y.tag===5){if(K===null){K=Y;try{h=Y.stateNode,B?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=Y.stateNode,x=Y.memoizedProps.style,_=x!=null&&x.hasOwnProperty("display")?x.display:null,S.style.display=lo("display",_))}catch(ue){nt(t,t.return,ue)}}}else if(Y.tag===6){if(K===null)try{Y.stateNode.nodeValue=B?"":Y.memoizedProps}catch(ue){nt(t,t.return,ue)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;K===Y&&(K=null),Y=Y.return}K===Y&&(K=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Fn(r,t),Xn(t),u&4&&ip(t);break;case 21:break;default:Fn(r,t),Xn(t)}}function Xn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(tp(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Ir(h,""),u.flags&=-33);var p=np(t);jc(t,p,h);break;case 3:case 4:var _=u.stateNode.containerInfo,S=np(t);Fc(t,S,_);break;default:throw Error(n(161))}}catch(x){nt(t,t.return,x)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function i_(t,r,o){oe=t,op(t)}function op(t,r,o){for(var u=(t.mode&1)!==0;oe!==null;){var h=oe,p=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||El;if(!_){var S=h.alternate,x=S!==null&&S.memoizedState!==null||Mt;S=El;var B=Mt;if(El=_,(Mt=x)&&!B)for(oe=h;oe!==null;)_=oe,x=_.child,_.tag===22&&_.memoizedState!==null?up(h):x!==null?(x.return=_,oe=x):up(h);for(;p!==null;)oe=p,op(p),p=p.sibling;oe=h,El=S,Mt=B}ap(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,oe=p):ap(t)}}function ap(t){for(;oe!==null;){var r=oe;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Mt||wl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Mt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Mn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&lf(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}lf(r,_,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var x=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&o.focus();break;case"img":x.src&&(o.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var B=r.alternate;if(B!==null){var K=B.memoizedState;if(K!==null){var Y=K.dehydrated;Y!==null&&Nn(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||r.flags&512&&Oc(r)}catch(G){nt(r,r.return,G)}}if(r===t){oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,oe=o;break}oe=r.return}}function lp(t){for(;oe!==null;){var r=oe;if(r===t){oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,oe=o;break}oe=r.return}}function up(t){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{wl(4,r)}catch(x){nt(r,o,x)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(x){nt(r,h,x)}}var p=r.return;try{Oc(r)}catch(x){nt(r,p,x)}break;case 5:var _=r.return;try{Oc(r)}catch(x){nt(r,_,x)}}}catch(x){nt(r,r.return,x)}if(r===t){oe=null;break}var S=r.sibling;if(S!==null){S.return=r.return,oe=S;break}oe=r.return}}var s_=Math.ceil,Tl=Se.ReactCurrentDispatcher,zc=Se.ReactCurrentOwner,wn=Se.ReactCurrentBatchConfig,Oe=0,Tt=null,lt=null,Pt=0,un=0,Vs=Mr(0),mt=0,Go=null,Pi=0,Il=0,bc=0,Ko=null,Kt=null,Uc=0,Ds=1/0,yr=null,Sl=!1,Bc=null,Ur=null,Al=!1,Br=null,Cl=0,Xo=0,qc=null,Rl=-1,Pl=0;function qt(){return Oe&6?$e():Rl!==-1?Rl:Rl=$e()}function qr(t){return t.mode&1?Oe&2&&Pt!==0?Pt&-Pt:By.transition!==null?(Pl===0&&(Pl=gi()),Pl):(t=ke,t!==0||(t=window.event,t=t===void 0?16:So(t.type)),t):1}function jn(t,r,o,u){if(50<Xo)throw Xo=0,qc=null,Error(n(185));Rr(t,o,u),(!(Oe&2)||t!==Tt)&&(t===Tt&&(!(Oe&2)&&(Il|=o),mt===4&&$r(t,Pt)),Xt(t,u),o===1&&Oe===0&&!(r.mode&1)&&(Ds=$e()+500,nl&&Fr()))}function Xt(t,r){var o=t.callbackNode;sr(t,r);var u=mi(t,t===Tt?Pt:0);if(u===0)o!==null&&vo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&vo(o),r===1)t.tag===0?Uy(hp.bind(null,t)):Kd(hp.bind(null,t)),Fy(function(){!(Oe&6)&&Fr()}),o=null;else{switch(kr(u)){case 1:o=fi;break;case 4:o=Sr;break;case 16:o=pn;break;case 536870912:o=Pa;break;default:o=pn}o=vp(o,cp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function cp(t,r){if(Rl=-1,Pl=0,Oe&6)throw Error(n(327));var o=t.callbackNode;if(Ls()&&t.callbackNode!==o)return null;var u=mi(t,t===Tt?Pt:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=kl(t,u);else{r=u;var h=Oe;Oe|=2;var p=fp();(Tt!==t||Pt!==r)&&(yr=null,Ds=$e()+500,xi(t,r));do try{l_();break}catch(S){dp(t,S)}while(!0);ac(),Tl.current=p,Oe=h,lt!==null?r=0:(Tt=null,Pt=0,r=mt)}if(r!==0){if(r===2&&(h=rn(t),h!==0&&(u=h,r=$c(t,h))),r===1)throw o=Go,xi(t,0),$r(t,u),Xt(t,$e()),o;if(r===6)$r(t,u);else{if(h=t.current.alternate,!(u&30)&&!o_(h)&&(r=kl(t,u),r===2&&(p=rn(t),p!==0&&(u=p,r=$c(t,p))),r===1))throw o=Go,xi(t,0),$r(t,u),Xt(t,$e()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ni(t,Kt,yr);break;case 3:if($r(t,u),(u&130023424)===u&&(r=Uc+500-$e(),10<r)){if(mi(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){qt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Xu(Ni.bind(null,t,Kt,yr),r);break}Ni(t,Kt,yr);break;case 4:if($r(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var _=31-bt(u);p=1<<_,_=r[_],_>h&&(h=_),u&=~p}if(u=h,u=$e()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*s_(u/1960))-u,10<u){t.timeoutHandle=Xu(Ni.bind(null,t,Kt,yr),u);break}Ni(t,Kt,yr);break;case 5:Ni(t,Kt,yr);break;default:throw Error(n(329))}}}return Xt(t,$e()),t.callbackNode===o?cp.bind(null,t):null}function $c(t,r){var o=Ko;return t.current.memoizedState.isDehydrated&&(xi(t,r).flags|=256),t=kl(t,r),t!==2&&(r=Kt,Kt=o,r!==null&&Hc(r)),t}function Hc(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function o_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Dn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(t,r){for(r&=~bc,r&=~Il,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-bt(r),u=1<<o;t[o]=-1,r&=~u}}function hp(t){if(Oe&6)throw Error(n(327));Ls();var r=mi(t,0);if(!(r&1))return Xt(t,$e()),null;var o=kl(t,r);if(t.tag!==0&&o===2){var u=rn(t);u!==0&&(r=u,o=$c(t,u))}if(o===1)throw o=Go,xi(t,0),$r(t,r),Xt(t,$e()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ni(t,Kt,yr),Xt(t,$e()),null}function Wc(t,r){var o=Oe;Oe|=1;try{return t(r)}finally{Oe=o,Oe===0&&(Ds=$e()+500,nl&&Fr())}}function ki(t){Br!==null&&Br.tag===0&&!(Oe&6)&&Ls();var r=Oe;Oe|=1;var o=wn.transition,u=ke;try{if(wn.transition=null,ke=1,t)return t()}finally{ke=u,wn.transition=o,Oe=r,!(Oe&6)&&Fr()}}function Qc(){un=Vs.current,Ge(Vs)}function xi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Oy(o)),lt!==null)for(o=lt.return;o!==null;){var u=o;switch(nc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&el();break;case 3:ks(),Ge(Wt),Ge(Vt),mc();break;case 5:fc(u);break;case 4:ks();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:lc(u.type._context);break;case 22:case 23:Qc()}o=o.return}if(Tt=t,lt=t=Hr(t.current,null),Pt=un=r,mt=0,Go=null,bc=Il=Pi=0,Kt=Ko=null,Ai!==null){for(r=0;r<Ai.length;r++)if(o=Ai[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=h,u.next=_}o.pending=u}Ai=null}return t}function dp(t,r){do{var o=lt;try{if(ac(),dl.current=gl,fl){for(var u=et.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}fl=!1}if(Ri=0,wt=pt=et=null,Bo=!1,qo=0,zc.current=null,o===null||o.return===null){mt=1,Go=r,lt=null;break}e:{var p=t,_=o.return,S=o,x=r;if(r=Pt,S.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var B=x,K=S,Y=K.tag;if(!(K.mode&1)&&(Y===0||Y===11||Y===15)){var G=K.alternate;G?(K.updateQueue=G.updateQueue,K.memoizedState=G.memoizedState,K.lanes=G.lanes):(K.updateQueue=null,K.memoizedState=null)}var ne=Ff(_);if(ne!==null){ne.flags&=-257,jf(ne,_,S,p,r),ne.mode&1&&Of(p,B,r),r=ne,x=B;var le=r.updateQueue;if(le===null){var ue=new Set;ue.add(x),r.updateQueue=ue}else le.add(x);break e}else{if(!(r&1)){Of(p,B,r),Gc();break e}x=Error(n(426))}}else if(Ye&&S.mode&1){var st=Ff(_);if(st!==null){!(st.flags&65536)&&(st.flags|=256),jf(st,_,S,p,r),sc(xs(x,S));break e}}p=x=xs(x,S),mt!==4&&(mt=2),Ko===null?Ko=[p]:Ko.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var F=Lf(p,x,r);af(p,F);break e;case 1:S=x;var D=p.type,z=p.stateNode;if(!(p.flags&128)&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Ur===null||!Ur.has(z)))){p.flags|=65536,r&=-r,p.lanes|=r;var J=Mf(p,S,r);af(p,J);break e}}p=p.return}while(p!==null)}mp(o)}catch(he){r=he,lt===o&&o!==null&&(lt=o=o.return);continue}break}while(!0)}function fp(){var t=Tl.current;return Tl.current=gl,t===null?gl:t}function Gc(){(mt===0||mt===3||mt===2)&&(mt=4),Tt===null||!(Pi&268435455)&&!(Il&268435455)||$r(Tt,Pt)}function kl(t,r){var o=Oe;Oe|=2;var u=fp();(Tt!==t||Pt!==r)&&(yr=null,xi(t,r));do try{a_();break}catch(h){dp(t,h)}while(!0);if(ac(),Oe=o,Tl.current=u,lt!==null)throw Error(n(261));return Tt=null,Pt=0,mt}function a_(){for(;lt!==null;)pp(lt)}function l_(){for(;lt!==null&&!Ca();)pp(lt)}function pp(t){var r=_p(t.alternate,t,un);t.memoizedProps=t.pendingProps,r===null?mp(t):lt=r,zc.current=null}function mp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=t_(o,r),o!==null){o.flags&=32767,lt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,lt=null;return}}else if(o=e_(o,r,un),o!==null){lt=o;return}if(r=r.sibling,r!==null){lt=r;return}lt=r=t}while(r!==null);mt===0&&(mt=5)}function Ni(t,r,o){var u=ke,h=wn.transition;try{wn.transition=null,ke=1,u_(t,r,o,u)}finally{wn.transition=h,ke=u}return null}function u_(t,r,o,u){do Ls();while(Br!==null);if(Oe&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(qe(t,p),t===Tt&&(lt=Tt=null,Pt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Al||(Al=!0,vp(pn,function(){return Ls(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=wn.transition,wn.transition=null;var _=ke;ke=1;var S=Oe;Oe|=4,zc.current=null,r_(t,o),sp(o,t),ky(Gu),Nr=!!Qu,Gu=Qu=null,t.current=o,i_(o),Nu(),Oe=S,ke=_,wn.transition=p}else t.current=o;if(Al&&(Al=!1,Br=t,Cl=h),p=t.pendingLanes,p===0&&(Ur=null),ka(o.stateNode),Xt(t,$e()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(Sl)throw Sl=!1,t=Bc,Bc=null,t;return Cl&1&&t.tag!==0&&Ls(),p=t.pendingLanes,p&1?t===qc?Xo++:(Xo=0,qc=t):Xo=0,Fr(),null}function Ls(){if(Br!==null){var t=kr(Cl),r=wn.transition,o=ke;try{if(wn.transition=null,ke=16>t?16:t,Br===null)var u=!1;else{if(t=Br,Br=null,Cl=0,Oe&6)throw Error(n(331));var h=Oe;for(Oe|=4,oe=t.current;oe!==null;){var p=oe,_=p.child;if(oe.flags&16){var S=p.deletions;if(S!==null){for(var x=0;x<S.length;x++){var B=S[x];for(oe=B;oe!==null;){var K=oe;switch(K.tag){case 0:case 11:case 15:Qo(8,K,p)}var Y=K.child;if(Y!==null)Y.return=K,oe=Y;else for(;oe!==null;){K=oe;var G=K.sibling,ne=K.return;if(ep(K),K===B){oe=null;break}if(G!==null){G.return=ne,oe=G;break}oe=ne}}}var le=p.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var st=ue.sibling;ue.sibling=null,ue=st}while(ue!==null)}}oe=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,oe=_;else e:for(;oe!==null;){if(p=oe,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Qo(9,p,p.return)}var F=p.sibling;if(F!==null){F.return=p.return,oe=F;break e}oe=p.return}}var D=t.current;for(oe=D;oe!==null;){_=oe;var z=_.child;if(_.subtreeFlags&2064&&z!==null)z.return=_,oe=z;else e:for(_=D;oe!==null;){if(S=oe,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:wl(9,S)}}catch(he){nt(S,S.return,he)}if(S===_){oe=null;break e}var J=S.sibling;if(J!==null){J.return=S.return,oe=J;break e}oe=S.return}}if(Oe=h,Fr(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(pi,t)}catch{}u=!0}return u}finally{ke=o,wn.transition=r}}return!1}function gp(t,r,o){r=xs(o,r),r=Lf(t,r,1),t=zr(t,r,1),r=qt(),t!==null&&(Rr(t,1,r),Xt(t,r))}function nt(t,r,o){if(t.tag===3)gp(t,t,o);else for(;r!==null;){if(r.tag===3){gp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ur===null||!Ur.has(u))){t=xs(o,t),t=Mf(r,t,1),r=zr(r,t,1),t=qt(),r!==null&&(Rr(r,1,t),Xt(r,t));break}}r=r.return}}function c_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=qt(),t.pingedLanes|=t.suspendedLanes&o,Tt===t&&(Pt&o)===o&&(mt===4||mt===3&&(Pt&130023424)===Pt&&500>$e()-Uc?xi(t,0):bc|=o),Xt(t,r)}function yp(t,r){r===0&&(t.mode&1?(r=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):r=1);var o=qt();t=pr(t,r),t!==null&&(Rr(t,r,o),Xt(t,o))}function h_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),yp(t,o)}function d_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),yp(t,o)}var _p;_p=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Wt.current)Gt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Gt=!1,Zy(t,r,o);Gt=!!(t.flags&131072)}else Gt=!1,Ye&&r.flags&1048576&&Xd(r,il,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;vl(t,r),t=r.pendingProps;var h=Ts(r,Vt.current);Ps(r,o),h=_c(null,r,u,t,h,o);var p=vc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Qt(u)?(p=!0,tl(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,hc(r),h.updater=yl,r.stateNode=h,h._reactInternals=r,Ac(r,u,t,o),r=kc(null,r,u,!0,p,o)):(r.tag=0,Ye&&p&&tc(r),Bt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(vl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=p_(u),t=Mn(u,t),h){case 0:r=Pc(null,r,u,t,o);break e;case 1:r=$f(null,r,u,t,o);break e;case 11:r=zf(null,r,u,t,o);break e;case 14:r=bf(null,r,u,Mn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Mn(u,h),Pc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Mn(u,h),$f(t,r,u,h,o);case 3:e:{if(Hf(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,of(t,r),cl(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=xs(Error(n(423)),r),r=Wf(t,r,u,o,h);break e}else if(u!==h){h=xs(Error(n(424)),r),r=Wf(t,r,u,o,h);break e}else for(ln=Lr(r.stateNode.containerInfo.firstChild),an=r,Ye=!0,Ln=null,o=rf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(As(),u===h){r=gr(t,r,o);break e}Bt(t,r,u,o)}r=r.child}return r;case 5:return uf(r),t===null&&ic(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,_=h.children,Ku(u,h)?_=null:p!==null&&Ku(u,p)&&(r.flags|=32),qf(t,r),Bt(t,r,_,o),r.child;case 6:return t===null&&ic(r),null;case 13:return Qf(t,r,o);case 4:return dc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Cs(r,null,u,o):Bt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Mn(u,h),zf(t,r,u,h,o);case 7:return Bt(t,r,r.pendingProps,o),r.child;case 8:return Bt(t,r,r.pendingProps.children,o),r.child;case 12:return Bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,He(al,u._currentValue),u._currentValue=_,p!==null)if(Dn(p.value,_)){if(p.children===h.children&&!Wt.current){r=gr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){_=p.child;for(var x=S.firstContext;x!==null;){if(x.context===u){if(p.tag===1){x=mr(-1,o&-o),x.tag=2;var B=p.updateQueue;if(B!==null){B=B.shared;var K=B.pending;K===null?x.next=x:(x.next=K.next,K.next=x),B.pending=x}}p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),uc(p.return,o,r),S.lanes|=o;break}x=x.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,S=_.alternate,S!==null&&(S.lanes|=o),uc(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Bt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Ps(r,o),h=vn(h),u=u(h),r.flags|=1,Bt(t,r,u,o),r.child;case 14:return u=r.type,h=Mn(u,r.pendingProps),h=Mn(u.type,h),bf(t,r,u,h,o);case 15:return Uf(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Mn(u,h),vl(t,r),r.tag=1,Qt(u)?(t=!0,tl(r)):t=!1,Ps(r,o),Vf(r,u,h),Ac(r,u,h,o),kc(null,r,u,!0,t,o);case 19:return Kf(t,r,o);case 22:return Bf(t,r,o)}throw Error(n(156,r.tag))};function vp(t,r){return ts(t,r)}function f_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,r,o,u){return new f_(t,r,o,u)}function Kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function p_(t){if(typeof t=="function")return Kc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M)return 11;if(t===_t)return 14}return 2}function Hr(t,r){var o=t.alternate;return o===null?(o=Tn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function xl(t,r,o,u,h,p){var _=2;if(u=t,typeof t=="function")Kc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case N:return Vi(o.children,h,p,r);case T:_=8,h|=8;break;case I:return t=Tn(12,o,r,h|2),t.elementType=I,t.lanes=p,t;case C:return t=Tn(13,o,r,h),t.elementType=C,t.lanes=p,t;case Je:return t=Tn(19,o,r,h),t.elementType=Je,t.lanes=p,t;case je:return Nl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case V:_=9;break e;case M:_=11;break e;case _t:_=14;break e;case vt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=Tn(_,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Vi(t,r,o,u){return t=Tn(7,t,u,r),t.lanes=o,t}function Nl(t,r,o,u){return t=Tn(22,t,u,r),t.elementType=je,t.lanes=o,t.stateNode={isHidden:!1},t}function Xc(t,r,o){return t=Tn(6,t,null,r),t.lanes=o,t}function Yc(t,r,o){return r=Tn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function m_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cr(0),this.expirationTimes=Cr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Jc(t,r,o,u,h,p,_,S,x){return t=new m_(t,r,o,S,x),r===1?(r=1,p===!0&&(r|=8)):r=0,p=Tn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},hc(p),t}function g_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Ep(t){if(!t)return Or;t=t._reactInternals;e:{if(Cn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Qt(o))return Qd(t,o,r)}return r}function wp(t,r,o,u,h,p,_,S,x){return t=Jc(o,u,!0,t,h,p,_,S,x),t.context=Ep(null),o=t.current,u=qt(),h=qr(o),p=mr(u,h),p.callback=r??null,zr(o,p,h),t.current.lanes=h,Rr(t,h,u),Xt(t,u),t}function Vl(t,r,o,u){var h=r.current,p=qt(),_=qr(h);return o=Ep(o),r.context===null?r.context=o:r.pendingContext=o,r=mr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=zr(h,r,_),t!==null&&(jn(t,h,_,p),ul(t,h,_)),_}function Dl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Zc(t,r){Tp(t,r),(t=t.alternate)&&Tp(t,r)}var Ip=typeof reportError=="function"?reportError:function(t){console.error(t)};function eh(t){this._internalRoot=t}Ll.prototype.render=eh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Vl(t,r,null,null)},Ll.prototype.unmount=eh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ki(function(){Vl(null,t,null,null)}),r[cr]=null}};function Ll(t){this._internalRoot=t}Ll.prototype.unstable_scheduleHydration=function(t){if(t){var r=La();t={blockedOn:null,target:t,priority:r};for(var o=0;o<qn.length&&r!==0&&r<qn[o].priority;o++);qn.splice(o,0,t),o===0&&Fa(t)}};function th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ml(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sp(){}function y_(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var B=Dl(_);p.call(B)}}var _=wp(r,u,t,0,null,!1,!1,"",Sp);return t._reactRootContainer=_,t[cr]=_.current,Lo(t.nodeType===8?t.parentNode:t),ki(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var S=u;u=function(){var B=Dl(x);S.call(B)}}var x=Jc(t,0,!1,null,null,!1,!1,"",Sp);return t._reactRootContainer=x,t[cr]=x.current,Lo(t.nodeType===8?t.parentNode:t),ki(function(){Vl(r,x,o,u)}),x}function Ol(t,r,o,u,h){var p=o._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var S=h;h=function(){var x=Dl(_);S.call(x)}}Vl(r,_,t,h)}else _=y_(o,r,t,h,u);return Dl(_)}Va=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Ar(r.pendingLanes);o!==0&&(Pr(r,o|1),Xt(r,$e()),!(Oe&6)&&(Ds=$e()+500,Fr()))}break;case 13:ki(function(){var u=pr(t,1);if(u!==null){var h=qt();jn(u,t,1,h)}}),Zc(t,1)}},is=function(t){if(t.tag===13){var r=pr(t,134217728);if(r!==null){var o=qt();jn(r,t,134217728,o)}Zc(t,134217728)}},Da=function(t){if(t.tag===13){var r=qr(t),o=pr(t,r);if(o!==null){var u=qt();jn(o,t,r,u)}Zc(t,r)}},La=function(){return ke},Ma=function(t,r){var o=ke;try{return ke=t,r()}finally{ke=o}},Ki=function(t,r,o){switch(r){case"input":if(io(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Za(u);if(!h)throw Error(n(90));qi(u),io(u,h)}}}break;case"textarea":Qi(t,o);break;case"select":r=o.value,r!=null&&nr(t,!!o.multiple,r,!1)}},ui=Wc,mo=ki;var __={usingClientEntryPoint:!1,Events:[Fo,Es,Za,Un,po,Wc]},Yo={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v_={bundleType:Yo.bundleType,version:Yo.version,rendererPackageName:Yo.rendererPackageName,rendererConfig:Yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_o(t),t===null?null:t.stateNode},findFiberByHostInstance:Yo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{pi=Fl.inject(v_),nn=Fl}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=__,Yt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!th(r))throw Error(n(200));return g_(t,r,null,o)},Yt.createRoot=function(t,r){if(!th(t))throw Error(n(299));var o=!1,u="",h=Ip;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Jc(t,1,!1,null,null,o,!1,u,h),t[cr]=r.current,Lo(t.nodeType===8?t.parentNode:t),new eh(r)},Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=_o(r),t=t===null?null:t.stateNode,t},Yt.flushSync=function(t){return ki(t)},Yt.hydrate=function(t,r,o){if(!Ml(r))throw Error(n(200));return Ol(null,t,r,!0,o)},Yt.hydrateRoot=function(t,r,o){if(!th(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",_=Ip;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=wp(r,null,t,1,o??null,h,!1,p,_),t[cr]=r.current,Lo(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Ll(r)},Yt.render=function(t,r,o){if(!Ml(r))throw Error(n(200));return Ol(null,t,r,!1,o)},Yt.unmountComponentAtNode=function(t){if(!Ml(t))throw Error(n(40));return t._reactRootContainer?(ki(function(){Ol(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1},Yt.unstable_batchedUpdates=Wc,Yt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Ml(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Ol(t,r,o,!1,u)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var Vp;function P_(){if(Vp)return ih.exports;Vp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ih.exports=R_(),ih.exports}var Dp;function k_(){if(Dp)return jl;Dp=1;var i=P_();return jl.createRoot=i.createRoot,jl.hydrateRoot=i.hydrateRoot,jl}var x_=k_(),Lp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},N_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],d=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},zm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],d=a+1<i.length,m=d?i[a+1]:0,y=a+2<i.length,v=y?i[a+2]:0,w=c>>2,P=(c&3)<<4|m>>4;let L=(m&15)<<2|v>>6,b=v&63;y||(b=64,d||(L=64)),s.push(n[w],n[P],n[L],n[b])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(jm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):N_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const P=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||P==null)throw new V_;const L=c<<2|m>>4;if(s.push(L),v!==64){const b=m<<4&240|v>>2;if(s.push(b),P!==64){const $=v<<6&192|P;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class V_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D_=function(i){const e=jm(i);return zm.encodeByteArray(e,!0)},Jl=function(i){return D_(i).replace(/\./g,"")},L_=function(i){try{return zm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=()=>M_().__FIREBASE_DEFAULTS__,F_=()=>{if(typeof process>"u"||typeof Lp>"u")return;const i=Lp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},j_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&L_(i[1]);return e&&JSON.parse(e)},zh=()=>{try{return O_()||F_()||j_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},z_=i=>{var e,n;return(n=(e=zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},b_=i=>{const e=z_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},bm=()=>{var i;return(i=zh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Jl(JSON.stringify(n)),Jl(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $_(){var i;const e=(i=zh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H_(){return!$_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W_(){try{return typeof indexedDB=="object"}catch{return!1}}function Q_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="FirebaseError";class Ys extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=G_,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Um.prototype.create)}}class Um{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?K_(c,s):"Error",m=`${this.serviceName}: ${d} (${a}).`;return new Ys(a,m,s)}}function K_(i,e){return i.replace(X_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const X_=/\{\$([^}]+)}/g;function gh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],d=e[a];if(Mp(c)&&Mp(d)){if(!gh(c,d))return!1}else if(c!==d)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Mp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(i){return i&&i._delegate?i._delegate:i}class aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new U_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z_(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const d=this.instances.get(a);return d&&e(d,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:J_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J_(i){return i===Di?void 0:i}function Z_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Y_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const tv={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},nv=De.INFO,rv={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},iv=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=rv[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=nv,this._logHandler=iv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const sv=(i,e)=>e.some(n=>i instanceof n);let Op,Fp;function ov(){return Op||(Op=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function av(){return Fp||(Fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qm=new WeakMap,yh=new WeakMap,$m=new WeakMap,ah=new WeakMap,bh=new WeakMap;function lv(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(Kr(i.result)),a()},d=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&qm.set(n,i)}).catch(()=>{}),bh.set(e,i),e}function uv(i){if(yh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),a()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});yh.set(i,e)}let _h={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return yh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||$m.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function cv(i){_h=i(_h)}function hv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(lh(this),e,...n);return $m.set(s,e.sort?e.sort():[e]),Kr(s)}:av().includes(i)?function(...e){return i.apply(lh(this),e),Kr(qm.get(this))}:function(...e){return Kr(i.apply(lh(this),e))}}function dv(i){return typeof i=="function"?hv(i):(i instanceof IDBTransaction&&uv(i),sv(i,ov())?new Proxy(i,_h):i)}function Kr(i){if(i instanceof IDBRequest)return lv(i);if(ah.has(i))return ah.get(i);const e=dv(i);return e!==i&&(ah.set(i,e),bh.set(e,i)),e}const lh=i=>bh.get(i);function fv(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const d=indexedDB.open(i,e),m=Kr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Kr(d.result),y.oldVersion,y.newVersion,Kr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const pv=["get","getKey","getAll","getAllKeys","count"],mv=["put","add","delete","clear"],uh=new Map;function jp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(uh.get(e))return uh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=mv.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||pv.includes(n)))return;const c=async function(d,...m){const y=this.transaction(d,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&y.done]))[0]};return uh.set(e,c),c}cv(i=>({...i,get:(e,n,s)=>jp(e,n)||i.get(e,n,s),has:(e,n)=>!!jp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yv(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function yv(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vh="@firebase/app",zp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new Bm("@firebase/app"),_v="@firebase/app-compat",vv="@firebase/analytics-compat",Ev="@firebase/analytics",wv="@firebase/app-check-compat",Tv="@firebase/app-check",Iv="@firebase/auth",Sv="@firebase/auth-compat",Av="@firebase/database",Cv="@firebase/data-connect",Rv="@firebase/database-compat",Pv="@firebase/functions",kv="@firebase/functions-compat",xv="@firebase/installations",Nv="@firebase/installations-compat",Vv="@firebase/messaging",Dv="@firebase/messaging-compat",Lv="@firebase/performance",Mv="@firebase/performance-compat",Ov="@firebase/remote-config",Fv="@firebase/remote-config-compat",jv="@firebase/storage",zv="@firebase/storage-compat",bv="@firebase/firestore",Uv="@firebase/vertexai",Bv="@firebase/firestore-compat",qv="firebase",$v="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="[DEFAULT]",Hv={[vh]:"fire-core",[_v]:"fire-core-compat",[Ev]:"fire-analytics",[vv]:"fire-analytics-compat",[Tv]:"fire-app-check",[wv]:"fire-app-check-compat",[Iv]:"fire-auth",[Sv]:"fire-auth-compat",[Av]:"fire-rtdb",[Cv]:"fire-data-connect",[Rv]:"fire-rtdb-compat",[Pv]:"fire-fn",[kv]:"fire-fn-compat",[xv]:"fire-iid",[Nv]:"fire-iid-compat",[Vv]:"fire-fcm",[Dv]:"fire-fcm-compat",[Lv]:"fire-perf",[Mv]:"fire-perf-compat",[Ov]:"fire-rc",[Fv]:"fire-rc-compat",[jv]:"fire-gcs",[zv]:"fire-gcs-compat",[bv]:"fire-fst",[Bv]:"fire-fst-compat",[Uv]:"fire-vertex","fire-js":"fire-js",[qv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Map,Wv=new Map,wh=new Map;function bp(i,e){try{i.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function eu(i){const e=i.name;if(wh.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;wh.set(e,i);for(const n of Zl.values())bp(n,i);for(const n of Wv.values())bp(n,i);return!0}function Qv(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Um("app","Firebase",Gv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=$v;function Hm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Eh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Xr.create("bad-app-name",{appName:String(a)});if(n||(n=bm()),!n)throw Xr.create("no-options");const c=Zl.get(a);if(c){if(gh(n,c.options)&&gh(s,c.config))return c;throw Xr.create("duplicate-app",{appName:a})}const d=new ev(a);for(const y of wh.values())d.addComponent(y);const m=new Kv(n,s,d);return Zl.set(a,m),m}function Yv(i=Eh){const e=Zl.get(i);if(!e&&i===Eh&&bm())return Hm();if(!e)throw Xr.create("no-app",{appName:i});return e}function zs(i,e,n){var s;let a=(s=Hv[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(m.join(" "));return}eu(new aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="firebase-heartbeat-database",Zv=1,la="firebase-heartbeat-store";let ch=null;function Wm(){return ch||(ch=fv(Jv,Zv,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(la)}catch(n){console.warn(n)}}}}).catch(i=>{throw Xr.create("idb-open",{originalErrorMessage:i.message})})),ch}async function e0(i){try{const n=(await Wm()).transaction(la),s=await n.objectStore(la).get(Qm(i));return await n.done,s}catch(e){if(e instanceof Ys)vr.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vr.warn(n.message)}}}async function Up(i,e){try{const s=(await Wm()).transaction(la,"readwrite");await s.objectStore(la).put(e,Qm(i)),await s.done}catch(n){if(n instanceof Ys)vr.warn(n.message);else{const s=Xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vr.warn(s.message)}}}function Qm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=1024,n0=30*24*60*60*1e3;class r0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Bp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const m=new Date(d.date).valueOf();return Date.now()-m<=n0}),this._storage.overwrite(this._heartbeatsCache))}catch(s){vr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bp(),{heartbeatsToSend:s,unsentEntries:a}=i0(this._heartbeatsCache.heartbeats),c=Jl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return vr.warn(n),""}}}function Bp(){return new Date().toISOString().substring(0,10)}function i0(i,e=t0){const n=[];let s=i.slice();for(const a of i){const c=n.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),qp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),qp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class s0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W_()?Q_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Up(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Up(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function qp(i){return Jl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(i){eu(new aa("platform-logger",e=>new gv(e),"PRIVATE")),eu(new aa("heartbeat",e=>new r0(e),"PRIVATE")),zs(vh,zp,i),zs(vh,zp,"esm2017"),zs("fire-js","")}o0("");var a0="firebase",l0="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zs(a0,l0,"app");var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fi,Gm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,T){function I(){}I.prototype=T.prototype,N.D=T.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(k,V,M){for(var C=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)C[Je-2]=arguments[Je];return T.prototype[V].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,T,I){I||(I=0);var k=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)k[V]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(V=0;16>V;++V)k[V]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=N.g[0],I=N.g[1],V=N.g[2];var M=N.g[3],C=T+(M^I&(V^M))+k[0]+3614090360&4294967295;T=I+(C<<7&4294967295|C>>>25),C=M+(V^T&(I^V))+k[1]+3905402710&4294967295,M=T+(C<<12&4294967295|C>>>20),C=V+(I^M&(T^I))+k[2]+606105819&4294967295,V=M+(C<<17&4294967295|C>>>15),C=I+(T^V&(M^T))+k[3]+3250441966&4294967295,I=V+(C<<22&4294967295|C>>>10),C=T+(M^I&(V^M))+k[4]+4118548399&4294967295,T=I+(C<<7&4294967295|C>>>25),C=M+(V^T&(I^V))+k[5]+1200080426&4294967295,M=T+(C<<12&4294967295|C>>>20),C=V+(I^M&(T^I))+k[6]+2821735955&4294967295,V=M+(C<<17&4294967295|C>>>15),C=I+(T^V&(M^T))+k[7]+4249261313&4294967295,I=V+(C<<22&4294967295|C>>>10),C=T+(M^I&(V^M))+k[8]+1770035416&4294967295,T=I+(C<<7&4294967295|C>>>25),C=M+(V^T&(I^V))+k[9]+2336552879&4294967295,M=T+(C<<12&4294967295|C>>>20),C=V+(I^M&(T^I))+k[10]+4294925233&4294967295,V=M+(C<<17&4294967295|C>>>15),C=I+(T^V&(M^T))+k[11]+2304563134&4294967295,I=V+(C<<22&4294967295|C>>>10),C=T+(M^I&(V^M))+k[12]+1804603682&4294967295,T=I+(C<<7&4294967295|C>>>25),C=M+(V^T&(I^V))+k[13]+4254626195&4294967295,M=T+(C<<12&4294967295|C>>>20),C=V+(I^M&(T^I))+k[14]+2792965006&4294967295,V=M+(C<<17&4294967295|C>>>15),C=I+(T^V&(M^T))+k[15]+1236535329&4294967295,I=V+(C<<22&4294967295|C>>>10),C=T+(V^M&(I^V))+k[1]+4129170786&4294967295,T=I+(C<<5&4294967295|C>>>27),C=M+(I^V&(T^I))+k[6]+3225465664&4294967295,M=T+(C<<9&4294967295|C>>>23),C=V+(T^I&(M^T))+k[11]+643717713&4294967295,V=M+(C<<14&4294967295|C>>>18),C=I+(M^T&(V^M))+k[0]+3921069994&4294967295,I=V+(C<<20&4294967295|C>>>12),C=T+(V^M&(I^V))+k[5]+3593408605&4294967295,T=I+(C<<5&4294967295|C>>>27),C=M+(I^V&(T^I))+k[10]+38016083&4294967295,M=T+(C<<9&4294967295|C>>>23),C=V+(T^I&(M^T))+k[15]+3634488961&4294967295,V=M+(C<<14&4294967295|C>>>18),C=I+(M^T&(V^M))+k[4]+3889429448&4294967295,I=V+(C<<20&4294967295|C>>>12),C=T+(V^M&(I^V))+k[9]+568446438&4294967295,T=I+(C<<5&4294967295|C>>>27),C=M+(I^V&(T^I))+k[14]+3275163606&4294967295,M=T+(C<<9&4294967295|C>>>23),C=V+(T^I&(M^T))+k[3]+4107603335&4294967295,V=M+(C<<14&4294967295|C>>>18),C=I+(M^T&(V^M))+k[8]+1163531501&4294967295,I=V+(C<<20&4294967295|C>>>12),C=T+(V^M&(I^V))+k[13]+2850285829&4294967295,T=I+(C<<5&4294967295|C>>>27),C=M+(I^V&(T^I))+k[2]+4243563512&4294967295,M=T+(C<<9&4294967295|C>>>23),C=V+(T^I&(M^T))+k[7]+1735328473&4294967295,V=M+(C<<14&4294967295|C>>>18),C=I+(M^T&(V^M))+k[12]+2368359562&4294967295,I=V+(C<<20&4294967295|C>>>12),C=T+(I^V^M)+k[5]+4294588738&4294967295,T=I+(C<<4&4294967295|C>>>28),C=M+(T^I^V)+k[8]+2272392833&4294967295,M=T+(C<<11&4294967295|C>>>21),C=V+(M^T^I)+k[11]+1839030562&4294967295,V=M+(C<<16&4294967295|C>>>16),C=I+(V^M^T)+k[14]+4259657740&4294967295,I=V+(C<<23&4294967295|C>>>9),C=T+(I^V^M)+k[1]+2763975236&4294967295,T=I+(C<<4&4294967295|C>>>28),C=M+(T^I^V)+k[4]+1272893353&4294967295,M=T+(C<<11&4294967295|C>>>21),C=V+(M^T^I)+k[7]+4139469664&4294967295,V=M+(C<<16&4294967295|C>>>16),C=I+(V^M^T)+k[10]+3200236656&4294967295,I=V+(C<<23&4294967295|C>>>9),C=T+(I^V^M)+k[13]+681279174&4294967295,T=I+(C<<4&4294967295|C>>>28),C=M+(T^I^V)+k[0]+3936430074&4294967295,M=T+(C<<11&4294967295|C>>>21),C=V+(M^T^I)+k[3]+3572445317&4294967295,V=M+(C<<16&4294967295|C>>>16),C=I+(V^M^T)+k[6]+76029189&4294967295,I=V+(C<<23&4294967295|C>>>9),C=T+(I^V^M)+k[9]+3654602809&4294967295,T=I+(C<<4&4294967295|C>>>28),C=M+(T^I^V)+k[12]+3873151461&4294967295,M=T+(C<<11&4294967295|C>>>21),C=V+(M^T^I)+k[15]+530742520&4294967295,V=M+(C<<16&4294967295|C>>>16),C=I+(V^M^T)+k[2]+3299628645&4294967295,I=V+(C<<23&4294967295|C>>>9),C=T+(V^(I|~M))+k[0]+4096336452&4294967295,T=I+(C<<6&4294967295|C>>>26),C=M+(I^(T|~V))+k[7]+1126891415&4294967295,M=T+(C<<10&4294967295|C>>>22),C=V+(T^(M|~I))+k[14]+2878612391&4294967295,V=M+(C<<15&4294967295|C>>>17),C=I+(M^(V|~T))+k[5]+4237533241&4294967295,I=V+(C<<21&4294967295|C>>>11),C=T+(V^(I|~M))+k[12]+1700485571&4294967295,T=I+(C<<6&4294967295|C>>>26),C=M+(I^(T|~V))+k[3]+2399980690&4294967295,M=T+(C<<10&4294967295|C>>>22),C=V+(T^(M|~I))+k[10]+4293915773&4294967295,V=M+(C<<15&4294967295|C>>>17),C=I+(M^(V|~T))+k[1]+2240044497&4294967295,I=V+(C<<21&4294967295|C>>>11),C=T+(V^(I|~M))+k[8]+1873313359&4294967295,T=I+(C<<6&4294967295|C>>>26),C=M+(I^(T|~V))+k[15]+4264355552&4294967295,M=T+(C<<10&4294967295|C>>>22),C=V+(T^(M|~I))+k[6]+2734768916&4294967295,V=M+(C<<15&4294967295|C>>>17),C=I+(M^(V|~T))+k[13]+1309151649&4294967295,I=V+(C<<21&4294967295|C>>>11),C=T+(V^(I|~M))+k[4]+4149444226&4294967295,T=I+(C<<6&4294967295|C>>>26),C=M+(I^(T|~V))+k[11]+3174756917&4294967295,M=T+(C<<10&4294967295|C>>>22),C=V+(T^(M|~I))+k[2]+718787259&4294967295,V=M+(C<<15&4294967295|C>>>17),C=I+(M^(V|~T))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+M&4294967295}s.prototype.u=function(N,T){T===void 0&&(T=N.length);for(var I=T-this.blockSize,k=this.B,V=this.h,M=0;M<T;){if(V==0)for(;M<=I;)a(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<T;)if(k[V++]=N.charCodeAt(M++),V==this.blockSize){a(this,k),V=0;break}}else for(;M<T;)if(k[V++]=N[M++],V==this.blockSize){a(this,k),V=0;break}}this.h=V,this.o+=T},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;var I=8*this.o;for(T=N.length-8;T<N.length;++T)N[T]=I&255,I/=256;for(this.u(N),N=Array(16),T=I=0;4>T;++T)for(var k=0;32>k;k+=8)N[I++]=this.g[T]>>>k&255;return N};function c(N,T){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=T(N)}function d(N,T){this.h=T;for(var I=[],k=!0,V=N.length-1;0<=V;V--){var M=N[V]|0;k&&M==T||(I[V]=M,k=!1)}this.g=I}var m={};function y(N){return-128<=N&&128>N?c(N,function(T){return new d([T|0],0>T?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return P;if(0>N)return U(v(-N));for(var T=[],I=1,k=0;N>=I;k++)T[k]=N/I|0,I*=4294967296;return new d(T,0)}function w(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return U(w(N.substring(1),T));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=v(Math.pow(T,8)),k=P,V=0;V<N.length;V+=8){var M=Math.min(8,N.length-V),C=parseInt(N.substring(V,V+M),T);8>M?(M=v(Math.pow(T,M)),k=k.j(M).add(v(C))):(k=k.j(I),k=k.add(v(C)))}return k}var P=y(0),L=y(1),b=y(16777216);i=d.prototype,i.m=function(){if(H(this))return-U(this).m();for(var N=0,T=1,I=0;I<this.g.length;I++){var k=this.i(I);N+=(0<=k?k:4294967296+k)*T,T*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(H(this))return"-"+U(this).toString(N);for(var T=v(Math.pow(N,6)),I=this,k="";;){var V=Se(I,T).g;I=ce(I,V.j(T));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=V,$(I))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(var T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function H(N){return N.h==-1}i.l=function(N){return N=ce(this,N),H(N)?-1:$(N)?0:1};function U(N){for(var T=N.g.length,I=[],k=0;k<T;k++)I[k]=~N.g[k];return new d(I,~N.h).add(L)}i.abs=function(){return H(this)?U(this):this},i.add=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],k=0,V=0;V<=T;V++){var M=k+(this.i(V)&65535)+(N.i(V)&65535),C=(M>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);k=C>>>16,M&=65535,C&=65535,I[V]=C<<16|M}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ce(N,T){return N.add(U(T))}i.j=function(N){if($(this)||$(N))return P;if(H(this))return H(N)?U(this).j(U(N)):U(U(this).j(N));if(H(N))return U(this.j(U(N)));if(0>this.l(b)&&0>N.l(b))return v(this.m()*N.m());for(var T=this.g.length+N.g.length,I=[],k=0;k<2*T;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<N.g.length;V++){var M=this.i(k)>>>16,C=this.i(k)&65535,Je=N.i(V)>>>16,_t=N.i(V)&65535;I[2*k+2*V]+=C*_t,de(I,2*k+2*V),I[2*k+2*V+1]+=M*_t,de(I,2*k+2*V+1),I[2*k+2*V+1]+=C*Je,de(I,2*k+2*V+1),I[2*k+2*V+2]+=M*Je,de(I,2*k+2*V+2)}for(k=0;k<T;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=T;k<2*T;k++)I[k]=0;return new d(I,0)};function de(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function we(N,T){this.g=N,this.h=T}function Se(N,T){if($(T))throw Error("division by zero");if($(N))return new we(P,P);if(H(N))return T=Se(U(N),T),new we(U(T.g),U(T.h));if(H(T))return T=Se(N,U(T)),new we(U(T.g),T.h);if(30<N.g.length){if(H(N)||H(T))throw Error("slowDivide_ only works with positive integers.");for(var I=L,k=T;0>=k.l(N);)I=We(I),k=We(k);var V=se(I,1),M=se(k,1);for(k=se(k,2),I=se(I,2);!$(k);){var C=M.add(k);0>=C.l(N)&&(V=V.add(I),M=C),k=se(k,1),I=se(I,1)}return T=ce(N,V.j(T)),new we(V,T)}for(V=P;0<=N.l(T);){for(I=Math.max(1,Math.floor(N.m()/T.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=v(I),C=M.j(T);H(C)||0<C.l(N);)I-=k,M=v(I),C=M.j(T);$(M)&&(M=L),V=V.add(M),N=ce(N,C)}return new we(V,N)}i.A=function(N){return Se(this,N).h},i.and=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)&N.i(k);return new d(I,this.h&N.h)},i.or=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)|N.i(k);return new d(I,this.h|N.h)},i.xor=function(N){for(var T=Math.max(this.g.length,N.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)^N.i(k);return new d(I,this.h^N.h)};function We(N){for(var T=N.g.length+1,I=[],k=0;k<T;k++)I[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(I,N.h)}function se(N,T){var I=T>>5;T%=32;for(var k=N.g.length-I,V=[],M=0;M<k;M++)V[M]=0<T?N.i(M+I)>>>T|N.i(M+I+1)<<32-T:N.i(M+I);return new d(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Gm=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=w,Fi=d}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});var zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Km,Zo,Xm,Hl,Th,Ym,Jm,Zm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof zl=="object"&&zl];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,f){if(f)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var O=l[E];if(!(O in g))break e;g=g[O]}l=l[l.length-1],E=g[l],f=f(E),f!=E&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var g=0,E=!1,O={next:function(){if(!E&&g<l.length){var q=g++;return{value:f(q,l[q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function y(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function v(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function w(l,f,g){return l.call.apply(l.bind,arguments)}function P(l,f,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),l.apply(f,O)}}return function(){return l.apply(f,arguments)}}function L(l,f,g){return L=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:P,L.apply(null,arguments)}function b(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function $(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,O,q){for(var Z=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Z[Ue-2]=arguments[Ue];return f.prototype[O].apply(E,Z)}}function H(l){const f=l.length;if(0<f){const g=Array(f);for(let E=0;E<f;E++)g[E]=l[E];return g}return[]}function U(l,f){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(y(E)){const O=l.length||0,q=E.length||0;l.length=O+q;for(let Z=0;Z<q;Z++)l[O+Z]=E[Z]}else l.push(E)}}class ce{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function de(l){return/^[\s\xa0]*$/.test(l)}function we(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Se(l){return Se[" "](l),l}Se[" "]=function(){};var We=we().indexOf("Gecko")!=-1&&!(we().toLowerCase().indexOf("webkit")!=-1&&we().indexOf("Edge")==-1)&&!(we().indexOf("Trident")!=-1||we().indexOf("MSIE")!=-1)&&we().indexOf("Edge")==-1;function se(l,f,g){for(const E in l)f.call(g,l[E],E,l)}function N(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function T(l){const f={};for(const g in l)f[g]=l[g];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,f){let g,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(g in E)l[g]=E[g];for(let q=0;q<I.length;q++)g=I[q],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function V(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function M(l){m.setTimeout(()=>{throw l},0)}function C(){var l=fe;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Je{constructor(){this.h=this.g=null}add(f,g){const E=_t.get();E.set(f,g),this.h?this.h.next=E:this.g=E,this.h=E}}var _t=new ce(()=>new vt,l=>l.reset());class vt{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let je,ee=!1,fe=new Je,te=()=>{const l=m.Promise.resolve(void 0);je=()=>{l.then(A)}};var A=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(g){M(g)}var f=_t;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}ee=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,f),m.removeEventListener("test",g,f)}catch{}return l}();function me(l,f){if(X.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(We){e:{try{Se(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ae[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&me.aa.h.call(this)}}$(me,X);var Ae={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Re(l,f,g,E,O){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!E,this.ha=O,this.key=++Me,this.da=this.fa=!1}function ze(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function rt(l){this.src=l,this.g={},this.h=0}rt.prototype.add=function(l,f,g,E,O){var q=l.toString();l=this.g[q],l||(l=this.g[q]=[],this.h++);var Z=Tr(l,f,E,O);return-1<Z?(f=l[Z],g||(f.fa=!1)):(f=new Re(f,this.src,q,!!E,O),f.fa=g,l.push(f)),f};function qi(l,f){var g=f.type;if(g in l.g){var E=l.g[g],O=Array.prototype.indexOf.call(E,f,void 0),q;(q=0<=O)&&Array.prototype.splice.call(E,O,1),q&&(ze(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Tr(l,f,g,E){for(var O=0;O<l.length;++O){var q=l[O];if(!q.da&&q.listener==f&&q.capture==!!g&&q.ha==E)return O}return-1}var si="closure_lm_"+(1e6*Math.random()|0),$i={};function ro(l,f,g,E,O){if(Array.isArray(f)){for(var q=0;q<f.length;q++)ro(l,f[q],g,E,O);return null}return g=oo(g),l&&l[Le]?l.K(f,g,v(E)?!!E.capture:!1,O):io(l,f,g,!1,E,O)}function io(l,f,g,E,O,q){if(!f)throw Error("Invalid event type");var Z=v(O)?!!O.capture:!!O,Ue=Wi(l);if(Ue||(l[si]=Ue=new rt(l)),g=Ue.add(f,g,E,Z,q),g.proxy)return g;if(E=Ia(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)re||(O=Z),O===void 0&&(O=!1),l.addEventListener(f.toString(),E,O);else if(l.attachEvent)l.attachEvent(nr(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ia(){function l(g){return f.call(l.src,l.listener,g)}const f=so;return l}function Hi(l,f,g,E,O){if(Array.isArray(f))for(var q=0;q<f.length;q++)Hi(l,f[q],g,E,O);else E=v(E)?!!E.capture:!!E,g=oo(g),l&&l[Le]?(l=l.i,f=String(f).toString(),f in l.g&&(q=l.g[f],g=Tr(q,g,E,O),-1<g&&(ze(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete l.g[f],l.h--)))):l&&(l=Wi(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Tr(f,g,E,O)),(g=-1<l?f[l]:null)&&tr(g))}function tr(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Le])qi(f.i,l);else{var g=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(g,E,l.capture):f.detachEvent?f.detachEvent(nr(g),E):f.addListener&&f.removeListener&&f.removeListener(E),(g=Wi(f))?(qi(g,l),g.h==0&&(g.src=null,f[si]=null)):ze(l)}}}function nr(l){return l in $i?$i[l]:$i[l]="on"+l}function so(l,f){if(l.da)l=!0;else{f=new me(f,this);var g=l.listener,E=l.ha||l.src;l.fa&&tr(l),l=g.call(E,f)}return l}function Wi(l){return l=l[si],l instanceof rt?l:null}var Qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function oo(l){return typeof l=="function"?l:(l[Qi]||(l[Qi]=function(f){return l.handleEvent(f)}),l[Qi])}function ht(){j.call(this),this.i=new rt(this),this.M=this,this.F=null}$(ht,j),ht.prototype[Le]=!0,ht.prototype.removeEventListener=function(l,f,g,E){Hi(this,l,f,g,E)};function dt(l,f){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new X(f,l);else if(f instanceof X)f.target=f.target||l;else{var O=f;f=new X(E,l),k(f,O)}if(O=!0,g)for(var q=g.length-1;0<=q;q--){var Z=f.g=g[q];O=rr(Z,E,!0,f)&&O}if(Z=f.g=l,O=rr(Z,E,!0,f)&&O,O=rr(Z,E,!1,f)&&O,g)for(q=0;q<g.length;q++)Z=f.g=g[q],O=rr(Z,E,!1,f)&&O}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],E=0;E<g.length;E++)ze(g[E]);delete l.g[f],l.h--}}this.F=null},ht.prototype.K=function(l,f,g,E){return this.i.add(String(l),f,!1,g,E)},ht.prototype.L=function(l,f,g,E){return this.i.add(String(l),f,!0,g,E)};function rr(l,f,g,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,q=0;q<f.length;++q){var Z=f[q];if(Z&&!Z.da&&Z.capture==g){var Ue=Z.listener,ft=Z.ha||Z.src;Z.fa&&qi(l.i,Z),O=Ue.call(ft,E)!==!1&&O}}return O&&!E.defaultPrevented}function ao(l,f,g){if(typeof l=="function")g&&(l=L(l,g));else if(l&&typeof l.handleEvent=="function")l=L(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function Ir(l){l.g=ao(()=>{l.g=null,l.i&&(l.i=!1,Ir(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class oi extends j{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Ir(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(l){j.call(this),this.h=l,this.g={}}$(ai,j);var lo=[];function uo(l){se(l.g,function(f,g){this.g.hasOwnProperty(g)&&tr(f)},l),l.g={}}ai.prototype.N=function(){ai.aa.N.call(this),uo(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var co=m.JSON.stringify,ho=m.JSON.parse,fo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function li(){}li.prototype.h=null;function Gi(l){return l.h||(l.h=l.i())}function Ki(){}var fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bn(){X.call(this,"d")}$(bn,X);function Xi(){X.call(this,"c")}$(Xi,X);var Un={},po=null;function ui(){return po=po||new ht}Un.La="serverreachability";function mo(l){X.call(this,Un.La,l)}$(mo,X);function ir(l){const f=ui();dt(f,new mo(f))}Un.STAT_EVENT="statevent";function go(l,f){X.call(this,Un.STAT_EVENT,l),this.stat=f}$(go,X);function it(l){const f=ui();dt(f,new go(f,l))}Un.Ma="timingevent";function Yi(l,f){X.call(this,Un.Ma,l),this.size=f}$(Yi,X);function Sn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function ci(){this.g=!0}ci.prototype.xa=function(){this.g=!1};function hi(l,f,g,E,O,q){l.info(function(){if(l.g)if(q)for(var Z="",Ue=q.split("&"),ft=0;ft<Ue.length;ft++){var Ne=Ue[ft].split("=");if(1<Ne.length){var Et=Ne[0];Ne=Ne[1];var at=Et.split("_");Z=2<=at.length&&at[1]=="type"?Z+(Et+"="+Ne+"&"):Z+(Et+"=redacted&")}}else Z=null;else Z=q;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+f+`
`+g+`
`+Z})}function Ji(l,f,g,E,O,q,Z){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+f+`
`+g+`
`+q+" "+Z})}function An(l,f,g,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+xu(l,g)+(E?" "+E:"")})}function yo(l,f){l.info(function(){return"TIMEOUT: "+f})}ci.prototype.info=function(){};function xu(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var q=O[0];if(q!="noop"&&q!="stop"&&q!="close")for(var Z=1;Z<O.length;Z++)O[Z]=""}}}}return co(g)}catch{return f}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cn;function di(){}$(di,li),di.prototype.g=function(){return new XMLHttpRequest},di.prototype.i=function(){return{}},Cn=new di;function Rn(l,f,g,E){this.j=l,this.i=f,this.l=g,this.R=E||1,this.U=new ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Aa}function Aa(){this.i=null,this.g="",this.h=!1}var _o={},es={};function ts(l,f,g){l.L=1,l.v=Pr(rn(f)),l.m=g,l.P=!0,vo(l,null)}function vo(l,f){l.F=Date.now(),$e(l),l.A=rn(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),xr(g.i,"t",E),l.C=0,g=l.j.J,l.h=new Aa,l.g=qa(l.j,g?f:null,!l.m),0<l.O&&(l.M=new oi(L(l.Y,l,l.g),l.O)),f=l.U,g=l.g,E=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(lo[0]=O.toString()),O=lo);for(var q=0;q<O.length;q++){var Z=ro(g,O[q],E||f.handleEvent,!1,f.h||f);if(!Z)break;f.g[Z.key]=Z}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),ir(),hi(l.i,l.u,l.A,l.l,l.R,l.m)}Rn.prototype.ca=function(l){l=l.target;const f=this.M;f&&Ht(l)==3?f.j():this.Y(l)},Rn.prototype.Y=function(l){try{if(l==this.g)e:{const at=Ht(this.g);var f=this.g.Ba();const gn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||Ao(this.g)))){this.J||at!=4||f==7||(f==8||0>=gn?ir(3):ir(2)),fi(this);var g=this.g.Z();this.X=g;t:if(Ca(this)){var E=Ao(this.g);l="";var O=E.length,q=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Sr(this);var Z="";break t}this.h.i=new m.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(q&&f==O-1)});E.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,Ji(this.i,this.u,this.A,this.l,this.R,at,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ft=this.g;if((Ue=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!de(Ue)){var Ne=Ue;break t}}Ne=null}if(g=Ne)An(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eo(this,g);else{this.o=!1,this.s=3,it(12),pn(this),Sr(this);break e}}if(this.P){g=!0;let on;for(;!this.J&&this.C<Z.length;)if(on=Nu(this,Z),on==es){at==4&&(this.s=4,it(14),g=!1),An(this.i,this.l,null,"[Incomplete Response]");break}else if(on==_o){this.s=4,it(15),An(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else An(this.i,this.l,on,null),Eo(this,on);if(Ca(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||Z.length!=0||this.h.h||(this.s=1,it(16),g=!1),this.o=this.o&&g,!g)An(this.i,this.l,Z,"[Invalid Chunked Response]"),pn(this),Sr(this);else if(0<Z.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Ro(Et),Et.M=!0,it(11))}}else An(this.i,this.l,Z,null),Eo(this,Z);at==4&&pn(this),this.o&&!this.J&&(at==4?ds(this.j,this):(this.o=!1,$e(this)))}else as(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),pn(this),Sr(this)}}}catch{}finally{}};function Ca(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Nu(l,f){var g=l.C,E=f.indexOf(`
`,g);return E==-1?es:(g=Number(f.substring(g,E)),isNaN(g)?_o:(E+=1,E+g>f.length?es:(f=f.slice(E,E+g),l.C=E+g,f)))}Rn.prototype.cancel=function(){this.J=!0,pn(this)};function $e(l){l.S=Date.now()+l.I,Ra(l,l.I)}function Ra(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Sn(L(l.ba,l),f)}function fi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Rn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(yo(this.i,this.A),this.L!=2&&(ir(),it(17)),pn(this),this.s=2,Sr(this)):Ra(this,this.S-l)};function Sr(l){l.j.G==0||l.J||ds(l.j,l)}function pn(l){fi(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,uo(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Eo(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||bt(g.h,l))){if(!l.K&&bt(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)hs(g),Vn(g);else break e;cs(g),it(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=Sn(L(g.Za,g),6e3));if(1>=ka(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ur(g,11)}else if((l.K||g.g==l)&&hs(g),!de(f))for(O=g.Da.g.parse(f),f=0;f<O.length;f++){let Ne=O[f];if(g.T=Ne[0],Ne=Ne[1],g.G==2)if(Ne[0]=="c"){g.K=Ne[1],g.ia=Ne[2];const Et=Ne[3];Et!=null&&(g.la=Et,g.j.info("VER="+g.la));const at=Ne[4];at!=null&&(g.Aa=at,g.j.info("SVER="+g.Aa));const gn=Ne[5];gn!=null&&typeof gn=="number"&&0<gn&&(E=1.5*gn,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const on=l.g;if(on){const Ei=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ei){var q=E.h;q.g||Ei.indexOf("spdy")==-1&&Ei.indexOf("quic")==-1&&Ei.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(wo(q,q.h),q.h=null))}if(E.D){const ps=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;ps&&(E.ya=ps,qe(E.I,E.D,ps))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var Z=l;if(E.qa=Ba(E,E.J?E.ia:null,E.W),Z.K){xa(E.h,Z);var Ue=Z,ft=E.L;ft&&(Ue.I=ft),Ue.B&&(fi(Ue),$e(Ue)),E.g=Z}else vi(E);0<g.i.length&&Hn(g)}else Ne[0]!="stop"&&Ne[0]!="close"||ur(g,7);else g.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?ur(g,7):Ct(g):Ne[0]!="noop"&&g.l&&g.l.ta(Ne),g.v=0)}}ir(4)}catch{}}var Pa=class{constructor(l,f){this.g=l,this.map=f}};function pi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ka(l){return l.h?1:l.g?l.g.size:0}function bt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function wo(l,f){l.g?l.g.add(f):l.h=f}function xa(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}pi.prototype.cancel=function(){if(this.i=Na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Na(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return H(l.i)}function ns(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var f=[],g=l.length,E=0;E<g;E++)f.push(l[E]);return f}f=[],g=0;for(E in l)f[g++]=l[E];return f}function rs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const E in l)f[g++]=E;return f}}}function Ar(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=rs(l),E=ns(l),O=E.length,q=0;q<O;q++)f.call(void 0,E[q],g&&g[q],l)}var mi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vu(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),O=null;if(0<=E){var q=l[g].substring(0,E);O=l[g].substring(E+1)}else q=l[g];f(q,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function sr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof sr){this.h=l.h,gi(this,l.j),this.o=l.o,this.g=l.g,Cr(this,l.s),this.l=l.l;var f=l.i,g=new Bn;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Rr(this,g),this.m=l.m}else l&&(f=String(l).match(mi))?(this.h=!1,gi(this,f[1]||"",!0),this.o=ke(f[2]||""),this.g=ke(f[3]||"",!0),Cr(this,f[4]),this.l=ke(f[5]||"",!0),Rr(this,f[6]||"",!0),this.m=ke(f[7]||"")):(this.h=!1,this.i=new Bn(null,this.h))}sr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(kr(f,is,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(kr(f,is,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(kr(g,g.charAt(0)=="/"?La:Da,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",kr(g,To)),l.join("")};function rn(l){return new sr(l)}function gi(l,f,g){l.j=g?ke(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Cr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Rr(l,f,g){f instanceof Bn?(l.i=f,qn(l.i,l.h)):(g||(f=kr(f,Ma)),l.i=new Bn(f,l.h))}function qe(l,f,g){l.i.set(f,g)}function Pr(l){return qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ke(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function kr(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,Va),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Va(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var is=/[#\/\?@]/g,Da=/[#\?:]/g,La=/[#\?]/g,Ma=/[#\?@]/g,To=/#/g;function Bn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function At(l){l.g||(l.g=new Map,l.h=0,l.i&&Vu(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}i=Bn.prototype,i.add=function(l,f){At(this),this.i=null,l=mn(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function Pn(l,f){At(l),f=mn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function kn(l,f){return At(l),f=mn(l,f),l.g.has(f)}i.forEach=function(l,f){At(this),this.g.forEach(function(g,E){g.forEach(function(O){l.call(f,O,E,this)},this)},this)},i.na=function(){At(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let E=0;E<f.length;E++){const O=l[E];for(let q=0;q<O.length;q++)g.push(f[E])}return g},i.V=function(l){At(this);let f=[];if(typeof l=="string")kn(this,l)&&(f=f.concat(this.g.get(mn(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},i.set=function(l,f){return At(this),this.i=null,l=mn(this,l),kn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function xr(l,f,g){Pn(l,f),0<g.length&&(l.i=null,l.g.set(mn(l,f),H(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var E=f[g];const q=encodeURIComponent(String(E)),Z=this.V(E);for(E=0;E<Z.length;E++){var O=q;Z[E]!==""&&(O+="="+encodeURIComponent(String(Z[E]))),l.push(O)}}return this.i=l.join("&")};function mn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function qn(l,f){f&&!l.j&&(At(l),l.i=null,l.g.forEach(function(g,E){var O=E.toLowerCase();E!=O&&(Pn(this,E),xr(this,O,g))},l)),l.j=f}function Du(l,f){const g=new ci;if(m.Image){const E=new Image;E.onload=b($t,g,"TestLoadImage: loaded",!0,f,E),E.onerror=b($t,g,"TestLoadImage: error",!1,f,E),E.onabort=b($t,g,"TestLoadImage: abort",!1,f,E),E.ontimeout=b($t,g,"TestLoadImage: timeout",!1,f,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function Oa(l,f){const g=new ci,E=new AbortController,O=setTimeout(()=>{E.abort(),$t(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(q=>{clearTimeout(O),q.ok?$t(g,"TestPingServer: ok",!0,f):$t(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),$t(g,"TestPingServer: error",!1,f)})}function $t(l,f,g,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(g)}catch{}}function Lu(){this.g=new fo}function Fa(l,f,g){const E=g||"";try{Ar(l,function(O,q){let Z=O;v(O)&&(Z=co(O)),f.push(E+q+"="+encodeURIComponent(Z))})}catch(O){throw f.push(E+"type="+encodeURIComponent("_badmap")),O}}function or(l){this.l=l.Ub||null,this.j=l.eb||!1}$(or,li),or.prototype.g=function(){return new yi(this.l,this.j)},or.prototype.i=function(l){return function(){return l}}({});function yi(l,f){ht.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(yi,ht),i=yi.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Nn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Nn(this)),this.g&&(this.readyState=3,Nn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ja(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ja(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?xn(this):Nn(this),this.readyState==3&&ja(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,xn(this))},i.Qa=function(l){this.g&&(this.response=l,xn(this))},i.ga=function(){this.g&&xn(this)};function xn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Nn(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function Nn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ar(l){let f="";return se(l,function(g,E){f+=E,f+=":",f+=g,f+=`\r
`}),f}function Nr(l,f,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=ar(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):qe(l,f,g))}function Xe(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Xe,ht);var Mu=/^https?$/i,Io=["POST","PUT"];i=Xe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cn.g(),this.v=this.o?Gi(this.o):Gi(Cn),this.g.onreadystatechange=L(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(q){_i(this,q);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)g.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())g.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),O=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Io,f,void 0))||E||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,Z]of g)this.g.setRequestHeader(q,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(l),this.u=!1}catch(q){_i(this,q)}};function _i(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,ss(l),sn(l)}function ss(l){l.A||(l.A=!0,dt(l,"complete"),dt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,dt(this,"complete"),dt(this,"abort"),sn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sn(this,!0)),Xe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?So(this):this.bb())},i.bb=function(){So(this)};function So(l){if(l.h&&typeof d<"u"&&(!l.v[1]||Ht(l)!=4||l.Z()!=2)){if(l.u&&Ht(l)==4)ao(l.Ea,0,l);else if(dt(l,"readystatechange"),Ht(l)==4){l.h=!1;try{const Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var E;if(E=Z===0){var O=String(l.D).match(mi)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),E=!Mu.test(O?O.toLowerCase():"")}g=E}if(g)dt(l,"complete"),dt(l,"success");else{l.m=6;try{var q=2<Ht(l)?l.g.statusText:""}catch{q=""}l.l=q+" ["+l.Z()+"]",ss(l)}}finally{sn(l)}}}}function sn(l,f){if(l.g){os(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||dt(l,"ready");try{g.onreadystatechange=E}catch{}}}function os(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Ht(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),ho(f)}};function Ao(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function as(l){const f={};l=(l.g&&2<=Ht(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(de(l[E]))continue;var g=V(l[E]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=f[O]||[];f[O]=q,q.push(g)}N(f,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $n(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Co(l){this.Aa=0,this.i=[],this.j=new ci,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$n("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$n("baseRetryDelayMs",5e3,l),this.cb=$n("retryDelaySeedMs",1e4,l),this.Wa=$n("forwardChannelMaxRetries",2,l),this.wa=$n("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(l&&l.concurrentRequestLimit),this.Da=new Lu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Co.prototype,i.la=8,i.G=1,i.connect=function(l,f,g,E){it(0),this.W=l,this.H=f||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=Ba(this,null,this.W),Hn(this)};function Ct(l){if(ls(l),l.G==3){var f=l.U++,g=rn(l.I);if(qe(g,"SID",l.K),qe(g,"RID",f),qe(g,"TYPE","terminate"),lr(l,g),f=new Rn(l,l.j,f),f.L=2,f.v=Pr(rn(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=f.v,g=!0),g||(f.g=qa(f.j,null),f.g.ea(f.v)),f.F=Date.now(),$e(f)}Ua(l)}function Vn(l){l.g&&(Ro(l),l.g.cancel(),l.g=null)}function ls(l){Vn(l),l.u&&(m.clearTimeout(l.u),l.u=null),hs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Hn(l){if(!nn(l.h)&&!l.s){l.s=!0;var f=l.Ga;je||te(),ee||(je(),ee=!0),fe.add(f,l),l.B=0}}function Ou(l,f){return ka(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Sn(L(l.Ga,l,f),ba(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Rn(this,this.j,l);let q=this.o;if(this.S&&(q?(q=T(q),k(q,this.S)):q=this.S),this.m!==null||this.O||(O.H=q,q=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Vr(this,O,f),g=rn(this.I),qe(g,"RID",l),qe(g,"CVER",22),this.D&&qe(g,"X-HTTP-Session-Id",this.D),lr(this,g),q&&(this.O?f="headers="+encodeURIComponent(String(ar(q)))+"&"+f:this.m&&Nr(g,this.m,q)),wo(this.h,O),this.Ua&&qe(g,"TYPE","init"),this.P?(qe(g,"$req",f),qe(g,"SID","null"),O.T=!0,ts(O,g,null)):ts(O,g,f),this.G=2}}else this.G==3&&(l?us(this,l):this.i.length==0||nn(this.h)||us(this))};function us(l,f){var g;f?g=f.l:g=l.U++;const E=rn(l.I);qe(E,"SID",l.K),qe(E,"RID",g),qe(E,"AID",l.T),lr(l,E),l.m&&l.o&&Nr(E,l.m,l.o),g=new Rn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Vr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),wo(l.h,g),ts(g,E,f)}function lr(l,f){l.H&&se(l.H,function(g,E){qe(f,E,g)}),l.l&&Ar({},function(g,E){qe(f,E,g)})}function Vr(l,f,g){g=Math.min(l.i.length,g);var E=l.l?L(l.l.Na,l.l,l):null;e:{var O=l.i;let q=-1;for(;;){const Z=["count="+g];q==-1?0<g?(q=O[0].g,Z.push("ofs="+q)):q=0:Z.push("ofs="+q);let Ue=!0;for(let ft=0;ft<g;ft++){let Ne=O[ft].g;const Et=O[ft].map;if(Ne-=q,0>Ne)q=Math.max(0,O[ft].g-100),Ue=!1;else try{Fa(Et,Z,"req"+Ne+"_")}catch{E&&E(Et)}}if(Ue){E=Z.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,E}function vi(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;je||te(),ee||(je(),ee=!0),fe.add(f,l),l.v=0}}function cs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Sn(L(l.Fa,l),ba(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,za(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Sn(L(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Vn(this),za(this))};function Ro(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function za(l){l.g=new Rn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=rn(l.qa);qe(f,"RID","rpc"),qe(f,"SID",l.K),qe(f,"AID",l.T),qe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&qe(f,"TO",l.ja),qe(f,"TYPE","xmlhttp"),lr(l,f),l.m&&l.o&&Nr(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Pr(rn(f)),g.m=null,g.P=!0,vo(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Vn(this),cs(this),it(19))};function hs(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ds(l,f){var g=null;if(l.g==f){hs(l),Ro(l),l.g=null;var E=2}else if(bt(l.h,f))g=f.D,xa(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var O=l.B;E=ui(),dt(E,new Yi(E,g)),Hn(l)}else vi(l);else if(O=f.s,O==3||O==0&&0<f.X||!(E==1&&Ou(l,f)||E==2&&cs(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),O){case 1:ur(l,5);break;case 4:ur(l,10);break;case 3:ur(l,6);break;default:ur(l,2)}}}function ba(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function ur(l,f){if(l.j.info("Error code "+f),f==2){var g=L(l.fb,l),E=l.Xa;const O=!E;E=new sr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||gi(E,"https"),Pr(E),O?Du(E.toString(),g):Oa(E.toString(),g)}else it(2);l.G=0,l.l&&l.l.sa(f),Ua(l),ls(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Ua(l){if(l.G=0,l.ka=[],l.l){const f=Na(l.h);(f.length!=0||l.i.length!=0)&&(U(l.ka,f),U(l.ka,l.i),l.h.i.length=0,H(l.i),l.i.length=0),l.l.ra()}}function Ba(l,f,g){var E=g instanceof sr?rn(g):new sr(g);if(E.g!="")f&&(E.g=f+"."+E.g),Cr(E,E.s);else{var O=m.location;E=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var q=new sr(null);E&&gi(q,E),f&&(q.g=f),O&&Cr(q,O),g&&(q.l=g),E=q}return g=l.D,f=l.ya,g&&f&&qe(E,g,f),qe(E,"VER",l.la),lr(l,E),E}function qa(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Xe(new or({eb:g})):new Xe(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}i=Po.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fs(){}fs.prototype.g=function(l,f){return new Ut(l,f)};function Ut(l,f){ht.call(this),this.g=new Co(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!de(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!de(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Wn(this)}$(Ut,ht),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Ct(this.g)},Ut.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=co(l),l=g);f.i.push(new Pa(f.Ya++,l)),f.G==3&&Hn(f)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Ct(this.g),delete this.g,Ut.aa.N.call(this)};function $a(l){bn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}$($a,bn);function Ha(){Xi.call(this),this.status=1}$(Ha,Xi);function Wn(l){this.g=l}$(Wn,Po),Wn.prototype.ua=function(){dt(this.g,"a")},Wn.prototype.ta=function(l){dt(this.g,new $a(l))},Wn.prototype.sa=function(l){dt(this.g,new Ha)},Wn.prototype.ra=function(){dt(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Zm=function(){return new fs},Jm=function(){return ui()},Ym=Un,Th={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Hl=Zi,Sa.COMPLETE="complete",Xm=Sa,Ki.EventType=fn,fn.OPEN="a",fn.CLOSE="b",fn.ERROR="c",fn.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Zo=Ki,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Km=Xe}).apply(typeof zl<"u"?zl:typeof self<"u"?self:typeof window<"u"?window:{});const Hp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Bm("@firebase/firestore");function Ms(){return zi.logLevel}function ie(i,...e){if(zi.logLevel<=De.DEBUG){const n=e.map(Uh);zi.debug(`Firestore (${Js}): ${i}`,...n)}}function Er(i,...e){if(zi.logLevel<=De.ERROR){const n=e.map(Uh);zi.error(`Firestore (${Js}): ${i}`,...n)}}function $s(i,...e){if(zi.logLevel<=De.WARN){const n=e.map(Uh);zi.warn(`Firestore (${Js}): ${i}`,...n)}}function Uh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i="Unexpected state"){const e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+i;throw Er(e),new Error(e)}function be(i,e){i||Ee()}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class c0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class h0{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ji,e.enqueueRetryable(()=>a(this.currentUser))};const d=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ji)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(be(typeof s.accessToken=="string"),new eg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ft(e)}}class d0{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class f0{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new d0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m0{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){be(this.o===void 0);const s=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new p0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=g0(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function xe(i,e){return i<e?-1:i>e?1:0}function Hs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new gt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new gt(0,0))}static max(){return new Te(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(),s===void 0?s=e.length-n:s>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ua?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),d=n.get(a);if(c<d)return-1;if(c>d)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ke extends ua{construct(e,n,s){return new Ke(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ke(n)}static emptyPath(){return new Ke([])}}const y0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends ua{construct(e,n,s){return new xt(e,n,s)}static isValidIdentifier(e){return y0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ae(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ae(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(d=!d,a++):m!=="."||d?(s+=m,a++):(c(),a++)}if(c(),d)throw new ae(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ke.fromString(e))}static fromName(e){return new pe(Ke.fromString(e).popFirst(5))}static empty(){return new pe(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ke(e.slice()))}}function _0(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Te.fromTimestamp(s===1e9?new gt(n+1,0):new gt(n,s));return new Jr(a,pe.empty(),e)}function v0(i){return new Jr(i.readTime,i.key,-1)}class Jr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Jr(Te.min(),pe.empty(),-1)}static max(){return new Jr(Te.max(),pe.empty(),-1)}}function E0(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(i){if(i.code!==Q.FAILED_PRECONDITION||i.message!==w0)throw i;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let a=0,c=0,d=!1;e.forEach(m=>{++a,m.next(()=>{++c,d&&c===a&&n()},y=>s(y))}),d=!0,c===a&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(a=>a?W.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new W((s,a)=>{const c=e.length,d=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;n(e[v]).next(w=>{d[v]=w,++m,m===c&&s(d)},w=>a(w))}})}static doWhile(e,n){return new W((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function I0(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fu.oe=-1;function pu(i){return i==null}function tu(i){return i===0&&1/i==-1/0}function S0(i){return typeof i=="number"&&Number.isInteger(i)&&!tu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Wp(e)),e=C0(i.get(n),e);return Wp(e)}function C0(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Wp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ri(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ng(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bl(this.root,e,this.comparator,!0)}}class bl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??kt.RED,this.left=a??kt.EMPTY,this.right=c??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new kt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return kt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,s,a,c){return this}insert(e,n,s){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gp(this.data.getIterator())}getIteratorFrom(e){return new Gp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class Gp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new hn([])}unionWith(e){let n=new yt(xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new rg("Invalid base64 string: "+c):c}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const R0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(i){if(be(!!i),typeof i=="string"){let e=0;const n=R0.exec(i);if(be(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(i.seconds),nanos:ot(i.nanos)}}function ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ei(i){return typeof i=="string"?Nt.fromBase64String(i):Nt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mu(i){const e=i.mapValue.fields.__previous_value__;return Bh(e)?mu(e):e}function ca(i){const e=Zr(i.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,s,a,c,d,m,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v}}class ha{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ha("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ha&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ti(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bh(i)?4:x0(i)?9007199254740991:k0(i)?10:11:Ee()}function er(i,e){if(i===e)return!0;const n=ti(i);if(n!==ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ca(i).isEqual(ca(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const d=Zr(a.timestampValue),m=Zr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return ei(a.bytesValue).isEqual(ei(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return ot(a.geoPointValue.latitude)===ot(c.geoPointValue.latitude)&&ot(a.geoPointValue.longitude)===ot(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return ot(a.integerValue)===ot(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const d=ot(a.doubleValue),m=ot(c.doubleValue);return d===m?tu(d)===tu(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return Hs(i.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return function(a,c){const d=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Qp(d)!==Qp(m))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(m[y]===void 0||!er(d[y],m[y])))return!1;return!0}(i,e);default:return Ee()}}function da(i,e){return(i.values||[]).find(n=>er(n,e))!==void 0}function Ws(i,e){if(i===e)return 0;const n=ti(i),s=ti(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(c,d){const m=ot(c.integerValue||c.doubleValue),y=ot(d.integerValue||d.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Kp(i.timestampValue,e.timestampValue);case 4:return Kp(ca(i),ca(e));case 5:return xe(i.stringValue,e.stringValue);case 6:return function(c,d){const m=ei(c),y=ei(d);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),y=d.split("/");for(let v=0;v<m.length&&v<y.length;v++){const w=xe(m[v],y[v]);if(w!==0)return w}return xe(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,d){const m=xe(ot(c.latitude),ot(d.latitude));return m!==0?m:xe(ot(c.longitude),ot(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Xp(i.arrayValue,e.arrayValue);case 10:return function(c,d){var m,y,v,w;const P=c.fields||{},L=d.fields||{},b=(m=P.value)===null||m===void 0?void 0:m.arrayValue,$=(y=L.value)===null||y===void 0?void 0:y.arrayValue,H=xe(((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0,((w=$==null?void 0:$.values)===null||w===void 0?void 0:w.length)||0);return H!==0?H:Xp(b,$)}(i.mapValue,e.mapValue);case 11:return function(c,d){if(c===Ul.mapValue&&d===Ul.mapValue)return 0;if(c===Ul.mapValue)return 1;if(d===Ul.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=d.fields||{},w=Object.keys(v);y.sort(),w.sort();for(let P=0;P<y.length&&P<w.length;++P){const L=xe(y[P],w[P]);if(L!==0)return L;const b=Ws(m[y[P]],v[w[P]]);if(b!==0)return b}return xe(y.length,w.length)}(i.mapValue,e.mapValue);default:throw Ee()}}function Kp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const n=Zr(i),s=Zr(e),a=xe(n.seconds,s.seconds);return a!==0?a:xe(n.nanos,s.nanos)}function Xp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Ws(n[a],s[a]);if(c)return c}return xe(n.length,s.length)}function Qs(i){return Ih(i)}function Ih(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Zr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ei(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return pe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Ih(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const d of s)c?c=!1:a+=",",a+=`${d}:${Ih(n.fields[d])}`;return a+"}"}(i.mapValue):Ee()}function Wl(i){switch(ti(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mu(i);return e?16+Wl(e):16;case 5:return 2*i.stringValue.length;case 6:return ei(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Wl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ri(s.fields,(c,d)=>{a+=c.length+Wl(d)}),a}(i.mapValue);default:throw Ee()}}function Yp(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Sh(i){return!!i&&"integerValue"in i}function qh(i){return!!i&&"arrayValue"in i}function Jp(i){return!!i&&"nullValue"in i}function Zp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ql(i){return!!i&&"mapValue"in i}function k0(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ra(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ri(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ra(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ra(i.arrayValue.values[n]);return e}return Object.assign({},i)}function x0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ra(n)}setAll(e){let n=xt.emptyPath(),s={},a=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}d?s[m.lastSegment()]=ra(d):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ql(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ri(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Zt(ra(this.value))}}function ig(i){const e=[];return ri(i.fields,(n,s)=>{const a=new xt([n]);if(Ql(s)){const c=ig(s.mapValue).fields;if(c.length===0)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,s,a,c,d,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new zt(e,0,Te.min(),Te.min(),Te.min(),Zt.empty(),0)}static newFoundDocument(e,n,s,a){return new zt(e,1,n,Te.min(),s,a,0)}static newNoDocument(e,n){return new zt(e,2,n,Te.min(),Te.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,Te.min(),Te.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.position=e,this.inclusive=n}}function em(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],d=i.position[a];if(c.field.isKeyField()?s=pe.comparator(pe.fromName(d.referenceValue),n.key):s=Ws(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function tm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!er(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function N0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{}class ct extends sg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new D0(e,n,s):n==="array-contains"?new O0(e,s):n==="in"?new F0(e,s):n==="not-in"?new j0(e,s):n==="array-contains-any"?new z0(e,s):new ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new L0(e,s):new M0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ws(n,this.value)):n!==null&&ti(this.value)===ti(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends sg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new zn(e,n)}matches(e){return og(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function og(i){return i.op==="and"}function ag(i){return V0(i)&&og(i)}function V0(i){for(const e of i.filters)if(e instanceof zn)return!1;return!0}function Ah(i){if(i instanceof ct)return i.field.canonicalString()+i.op.toString()+Qs(i.value);if(ag(i))return i.filters.map(e=>Ah(e)).join(",");{const e=i.filters.map(n=>Ah(n)).join(",");return`${i.op}(${e})`}}function lg(i,e){return i instanceof ct?function(s,a){return a instanceof ct&&s.op===a.op&&s.field.isEqual(a.field)&&er(s.value,a.value)}(i,e):i instanceof zn?function(s,a){return a instanceof zn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,d,m)=>c&&lg(d,a.filters[m]),!0):!1}(i,e):void Ee()}function ug(i){return i instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Qs(n.value)}`}(i):i instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(ug).join(" ,")+"}"}(i):"Filter"}class D0 extends ct{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class L0 extends ct{constructor(e,n){super(e,"in",n),this.keys=cg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class M0 extends ct{constructor(e,n){super(e,"not-in",n),this.keys=cg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pe.fromName(s.referenceValue))}class O0 extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qh(n)&&da(n.arrayValue,this.value)}}class F0 extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&da(this.value.arrayValue,n)}}class j0 extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!da(this.value.arrayValue,n)}}class z0 extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>da(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n=null,s=[],a=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=d,this.endAt=m,this.ue=null}}function nm(i,e=null,n=[],s=[],a=null,c=null,d=null){return new b0(i,e,n,s,a,c,d)}function $h(i){const e=Ie(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ah(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),pu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Qs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Qs(s)).join(",")),e.ue=n}return e.ue}function Hh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!N0(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!lg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!tm(i.startAt,e.startAt)&&tm(i.endAt,e.endAt)}function Ch(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n=null,s=[],a=[],c=null,d="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function U0(i,e,n,s,a,c,d,m){return new ga(i,e,n,s,a,c,d,m)}function Wh(i){return new ga(i)}function rm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function hg(i){return i.collectionGroup!==null}function ia(i){const e=Ie(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new yt(xt.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new ru(c,s))}),n.has(xt.keyField().canonicalString())||e.ce.push(new ru(xt.keyField(),s))}return e.ce}function Jn(i){const e=Ie(i);return e.le||(e.le=B0(e,ia(i))),e.le}function B0(i,e){if(i.limitType==="F")return nm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new ru(a.field,c)});const n=i.endAt?new nu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new nu(i.startAt.position,i.startAt.inclusive):null;return nm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Rh(i,e){const n=i.filters.concat([e]);return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ph(i,e,n){return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function gu(i,e){return Hh(Jn(i),Jn(e))&&i.limitType===e.limitType}function dg(i){return`${$h(Jn(i))}|lt:${i.limitType}`}function Os(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>ug(a)).join(", ")}]`),pu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Qs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Qs(a)).join(",")),`Target(${s})`}(Jn(i))}; limitType=${i.limitType})`}function yu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of ia(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(d,m,y){const v=em(d,m,y);return d.inclusive?v<=0:v<0}(s.startAt,ia(s),a)||s.endAt&&!function(d,m,y){const v=em(d,m,y);return d.inclusive?v>=0:v>0}(s.endAt,ia(s),a))}(i,e)}function q0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function fg(i){return(e,n)=>{let s=!1;for(const a of ia(i)){const c=$0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function $0(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):function(c,d,m){const y=d.data.field(c),v=m.data.field(c);return y!==null&&v!==null?Ws(y,v):Ee()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ri(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return ng(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new tt(pe.comparator);function wr(){return H0}const pg=new tt(pe.comparator);function ea(...i){let e=pg;for(const n of i)e=e.insert(n.key,n);return e}function mg(i){let e=pg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Li(){return sa()}function gg(){return sa()}function sa(){return new Ui(i=>i.toString(),(i,e)=>i.isEqual(e))}const W0=new tt(pe.comparator),Q0=new yt(pe.comparator);function Pe(...i){let e=Q0;for(const n of i)e=e.add(n);return e}const G0=new yt(xe);function K0(){return G0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(e)?"-0":e}}function yg(i){return{integerValue:""+i}}function X0(i,e){return S0(e)?yg(e):Qh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this._=void 0}}function Y0(i,e,n){return i instanceof iu?function(a,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Bh(c)&&(c=mu(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}}(n,e):i instanceof fa?vg(i,e):i instanceof pa?Eg(i,e):function(a,c){const d=_g(a,c),m=im(d)+im(a.Pe);return Sh(d)&&Sh(a.Pe)?yg(m):Qh(a.serializer,m)}(i,e)}function J0(i,e,n){return i instanceof fa?vg(i,e):i instanceof pa?Eg(i,e):n}function _g(i,e){return i instanceof su?function(s){return Sh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class iu extends _u{}class fa extends _u{constructor(e){super(),this.elements=e}}function vg(i,e){const n=wg(e);for(const s of i.elements)n.some(a=>er(a,s))||n.push(s);return{arrayValue:{values:n}}}class pa extends _u{constructor(e){super(),this.elements=e}}function Eg(i,e){let n=wg(e);for(const s of i.elements)n=n.filter(a=>!er(a,s));return{arrayValue:{values:n}}}class su extends _u{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function im(i){return ot(i.integerValue||i.doubleValue)}function wg(i){return qh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Z0(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof fa&&a instanceof fa||s instanceof pa&&a instanceof pa?Hs(s.elements,a.elements,er):s instanceof su&&a instanceof su?er(s.Pe,a.Pe):s instanceof iu&&a instanceof iu}(i.transform,e.transform)}class e1{constructor(e,n){this.version=e,this.transformResults=n}}class en{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new en}static exists(e){return new en(void 0,e)}static updateTime(e){return new en(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class vu{}function Tg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Eu(i.key,en.none()):new ya(i.key,i.data,en.none());{const n=i.data,s=Zt.empty();let a=new yt(xt.comparator);for(let c of e.fields)if(!a.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),a=a.add(c)}return new ii(i.key,s,new hn(a.toArray()),en.none())}}function t1(i,e,n){i instanceof ya?function(a,c,d){const m=a.value.clone(),y=om(a.fieldTransforms,c,d.transformResults);m.setAll(y),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ii?function(a,c,d){if(!Gl(a.precondition,c))return void c.convertToUnknownDocument(d.version);const m=om(a.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Ig(a)),y.setAll(m),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function oa(i,e,n,s){return i instanceof ya?function(c,d,m,y){if(!Gl(c.precondition,d))return m;const v=c.value.clone(),w=am(c.fieldTransforms,y,d);return v.setAll(w),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof ii?function(c,d,m,y){if(!Gl(c.precondition,d))return m;const v=am(c.fieldTransforms,y,d),w=d.data;return w.setAll(Ig(c)),w.setAll(v),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(P=>P.field))}(i,e,n,s):function(c,d,m){return Gl(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(i,e,n)}function n1(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=_g(s.transform,a||null);c!=null&&(n===null&&(n=Zt.empty()),n.set(s.field,c))}return n||null}function sm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Hs(s,a,(c,d)=>Z0(c,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ya extends vu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ii extends vu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Ig(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function om(i,e,n){const s=new Map;be(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],d=c.transform,m=e.data.field(c.field);s.set(c.field,J0(d,m,n[a]))}return s}function am(i,e,n){const s=new Map;for(const a of i){const c=a.transform,d=n.data.field(a.field);s.set(a.field,Y0(c,d,e))}return s}class Eu extends vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r1 extends vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&t1(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=oa(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=oa(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gg();return this.mutations.forEach(a=>{const c=e.get(a.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(a.key)?null:m;const y=Tg(d,m);y!==null&&s.set(a.key,y),d.isValidDocument()||d.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(n,s)=>sm(n,s))&&Hs(this.baseMutations,e.baseMutations,(n,s)=>sm(n,s))}}class Gh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){be(e.mutations.length===s.length);let a=function(){return W0}();const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,s[d].version);return new Gh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ve;function a1(i){switch(i){default:return Ee();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function Sg(i){if(i===void 0)return Er("GRPC error has no .code"),Q.UNKNOWN;switch(i){case ut.OK:return Q.OK;case ut.CANCELLED:return Q.CANCELLED;case ut.UNKNOWN:return Q.UNKNOWN;case ut.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case ut.INTERNAL:return Q.INTERNAL;case ut.UNAVAILABLE:return Q.UNAVAILABLE;case ut.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case ut.NOT_FOUND:return Q.NOT_FOUND;case ut.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case ut.ABORTED:return Q.ABORTED;case ut.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case ut.DATA_LOSS:return Q.DATA_LOSS;default:return Ee()}}(Ve=ut||(ut={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new Fi([4294967295,4294967295],0);function lm(i){const e=l1().encode(i),n=new Gm;return n.update(e),new Uint8Array(n.digest())}function um(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Fi([n,s],0),new Fi([a,c],0)]}class Kh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ta(`Invalid padding: ${n}`);if(s<0)throw new ta(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ta(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ta(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Fi.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Fi.fromNumber(s)));return a.compare(u1)===1&&(a=new Fi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=lm(e),[s,a]=um(n);for(let c=0;c<this.hashCount;c++){const d=this.Ee(s,a,c);if(!this.de(d))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Kh(c,a,n);return s.forEach(m=>d.insert(m)),d}insert(e){if(this.Te===0)return;const n=lm(e),[s,a]=um(n);for(let c=0;c<this.hashCount;c++){const d=this.Ee(s,a,c);this.Ae(d)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,_a.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new wu(Te.min(),a,new tt(xe),wr(),Pe())}}class _a{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _a(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Ag{constructor(e,n){this.targetId=e,this.me=n}}class Cg{constructor(e,n,s=Nt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class cm{constructor(){this.fe=0,this.ge=hm(),this.pe=Nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),n=Pe(),s=Pe();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ee()}}),new _a(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=hm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class c1{constructor(e){this.Le=e,this.Be=new Map,this.ke=wr(),this.qe=Bl(),this.Qe=Bl(),this.Ke=new tt(xe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(Ch(c))if(s===0){const d=new pe(c.path);this.We(n,d,zt.newNoDocument(d,Te.min()))}else be(s===1);else{const d=this.Ze(n);if(d!==s){const m=this.Xe(e),y=m?this.et(m,e,d):1;if(y!==0){this.He(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let d,m;try{d=ei(s).toUint8Array()}catch(y){if(y instanceof rg)return $s("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Kh(d,a,c)}catch(y){return $s(y instanceof ta?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const d=this.Le.nt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,d)=>{const m=this.Ye(d);if(m){if(c.current&&Ch(m.target)){const y=new pe(m.target.path);this.st(y).has(d)||this.ot(d,y)||this.We(d,y,zt.newNoDocument(y,e))}c.be&&(n.set(d,c.ve()),c.Ce())}});let s=Pe();this.Qe.forEach((c,d)=>{let m=!0;d.forEachWhile(y=>{const v=this.Ye(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,d)=>d.setReadTime(e));const a=new wu(e,n,this.Ke,this.ke,s);return this.ke=wr(),this.qe=Bl(),this.Qe=Bl(),this.Ke=new tt(xe),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new cm,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new yt(xe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yt(xe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new cm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Bl(){return new tt(pe.comparator)}function hm(){return new tt(pe.comparator)}const h1={asc:"ASCENDING",desc:"DESCENDING"},d1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f1={and:"AND",or:"OR"};class p1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kh(i,e){return i.useProto3Json||pu(e)?e:{value:e}}function ou(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function m1(i,e){return ou(i,e.toTimestamp())}function Zn(i){return be(!!i),Te.fromTimestamp(function(n){const s=Zr(n);return new gt(s.seconds,s.nanos)}(i))}function Xh(i,e){return xh(i,e).canonicalString()}function xh(i,e){const n=function(a){return new Ke(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Pg(i){const e=Ke.fromString(i);return be(Dg(e)),e}function Nh(i,e){return Xh(i.databaseId,e.path)}function hh(i,e){const n=Pg(e);if(n.get(1)!==i.databaseId.projectId)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(xg(n))}function kg(i,e){return Xh(i.databaseId,e)}function g1(i){const e=Pg(i);return e.length===4?Ke.emptyPath():xg(e)}function Vh(i){return new Ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xg(i){return be(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function dm(i,e,n){return{name:Nh(i,e),fields:n.value.mapValue.fields}}function y1(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(v,w){return v.useProto3Json?(be(w===void 0||typeof w=="string"),Nt.fromBase64String(w||"")):(be(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Nt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(v){const w=v.code===void 0?Q.UNKNOWN:Sg(v.code);return new ae(w,v.message||"")}(d);n=new Cg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=hh(i,s.document.name),c=Zn(s.document.updateTime),d=s.document.createTime?Zn(s.document.createTime):Te.min(),m=new Zt({mapValue:{fields:s.document.fields}}),y=zt.newFoundDocument(a,c,d,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new Kl(v,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=hh(i,s.document),c=s.readTime?Zn(s.readTime):Te.min(),d=zt.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Kl([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=hh(i,s.document),c=s.removedTargetIds||[];n=new Kl([],c,a,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,d=new o1(a,c),m=s.targetId;n=new Ag(m,d)}}return n}function _1(i,e){let n;if(e instanceof ya)n={update:dm(i,e.key,e.value)};else if(e instanceof Eu)n={delete:Nh(i,e.key)};else if(e instanceof ii)n={update:dm(i,e.key,e.data),updateMask:R1(e.fieldMask)};else{if(!(e instanceof r1))return Ee();n={verify:Nh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof iu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fa)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof su)return{fieldPath:d.field.canonicalString(),increment:m.Pe};throw Ee()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:m1(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee()}(i,e.precondition)),n}function v1(i,e){return i&&i.length>0?(be(e!==void 0),i.map(n=>function(a,c){let d=a.updateTime?Zn(a.updateTime):Zn(c);return d.isEqual(Te.min())&&(d=Zn(c)),new e1(d,a.transformResults||[])}(n,e))):[]}function E1(i,e){return{documents:[kg(i,e.path)]}}function w1(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=kg(i,a);const c=function(v){if(v.length!==0)return Vg(zn.create(v,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(w=>function(L){return{field:Fs(L.field),direction:S1(L.dir)}}(w))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=kh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:n,parent:a}}function T1(i){let e=g1(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){be(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(P){const L=Ng(P);return L instanceof zn&&ag(L)?L.getFilters():[L]}(n.where));let d=[];n.orderBy&&(d=function(P){return P.map(L=>function($){return new ru(js($.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(L))}(n.orderBy));let m=null;n.limit&&(m=function(P){let L;return L=typeof P=="object"?P.value:P,pu(L)?null:L}(n.limit));let y=null;n.startAt&&(y=function(P){const L=!!P.before,b=P.values||[];return new nu(b,L)}(n.startAt));let v=null;return n.endAt&&(v=function(P){const L=!P.before,b=P.values||[];return new nu(b,L)}(n.endAt)),U0(e,a,d,c,m,"F",y,v)}function I1(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ng(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=js(n.unaryFilter.field);return ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=js(n.unaryFilter.field);return ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=js(n.unaryFilter.field);return ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=js(n.unaryFilter.field);return ct.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(i):i.fieldFilter!==void 0?function(n){return ct.create(js(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(s=>Ng(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(i):Ee()}function S1(i){return h1[i]}function A1(i){return d1[i]}function C1(i){return f1[i]}function Fs(i){return{fieldPath:i.canonicalString()}}function js(i){return xt.fromServerFormat(i.fieldPath)}function Vg(i){return i instanceof ct?function(n){if(n.op==="=="){if(Zp(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(Jp(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zp(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(Jp(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:A1(n.op),value:n.value}}}(i):i instanceof zn?function(n){const s=n.getFilters().map(a=>Vg(a));return s.length===1?s[0]:{compositeFilter:{op:C1(n.op),filters:s}}}(i):Ee()}function R1(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Dg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,s,a,c=Te.min(),d=Te.min(),m=Nt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.ht=e}}function k1(i){const e=T1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ph(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.ln=new N1}addToCollectionParentIndex(e,n){return this.ln.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Jr.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class N1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new yt(Ke.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new yt(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(41943040,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Gs(0)}static Qn(){return new Gs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm([i,e],[n,s]){const a=xe(i,n);return a===0?xe(e,s):a}class V1{constructor(e){this.Gn=e,this.buffer=new yt(pm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();pm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class D1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eo(n)?ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Zs(n)}await this.Yn(3e5)})}}class L1{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(fu.oe);const s=new V1(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(fm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,d,m,y,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),a=this.params.maximumSequenceNumbersToCollect):a=P,d=Date.now(),this.nthSequenceNumber(e,a))).next(P=>(s=P,m=Date.now(),this.removeTargets(e,s,n))).next(P=>(c=P,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(P=>(v=Date.now(),Ms()<=De.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${a} in `+(m-d)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${P} documents in `+(v-y)+`ms
Total Duration: ${v-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:P})))}}function M1(i,e){return new L1(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&oa(s.mutation,a,hn.empty(),gt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const a=Li();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let d=ea();return c.forEach((m,y)=>{d=d.insert(m,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=Li();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,s,a){let c=wr();const d=sa(),m=function(){return sa()}();return n.forEach((y,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof ii)?c=c.insert(v.key,v):w!==void 0?(d.set(v.key,w.mutation.getFieldMask()),oa(w.mutation,v,w.mutation.getFieldMask(),gt.now())):d.set(v.key,hn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((v,w)=>d.set(v,w)),n.forEach((v,w)=>{var P;return m.set(v,new F1(w,(P=d.get(v))!==null&&P!==void 0?P:null))}),m))}recalculateAndSaveOverlays(e,n){const s=sa();let a=new tt((d,m)=>d-m),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(y=>{const v=n.get(y);if(v===null)return;let w=s.get(y)||hn.empty();w=m.applyToLocalView(v,w),s.set(y,w);const P=(a.get(m.batchId)||Pe()).add(y);a=a.insert(m.batchId,P)})}).next(()=>{const d=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,w=y.value,P=gg();w.forEach(L=>{if(!c.has(L)){const b=Tg(n.get(L),s.get(L));b!==null&&P.set(L,b),c=c.add(L)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,P))}return W.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(d){return pe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):W.resolve(Li());let m=-1,y=c;return d.next(v=>W.forEach(v,(w,P)=>(m<P.largestBatchId&&(m=P.largestBatchId),c.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next(L=>{y=y.insert(w,L)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,y,v,Pe())).next(w=>({batchId:m,changes:mg(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let a=ea();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let d=ea();return this.indexManager.getCollectionParents(e,c).next(m=>W.forEach(m,y=>{const v=function(P,L){return new ga(L,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(w=>{w.forEach((P,L)=>{d=d.insert(P,L)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(d=>{c.forEach((y,v)=>{const w=v.getKey();d.get(w)===null&&(d=d.insert(w,zt.newInvalidDocument(w)))});let m=ea();return d.forEach((y,v)=>{const w=c.get(y);w!==void 0&&oa(w.mutation,v,hn.empty(),gt.now()),yu(n,v)&&(m=m.insert(y,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return W.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Zn(a.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:k1(a.bundledQuery),readTime:Zn(a.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.overlays=new tt(pe.comparator),this.Er=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Li();return W.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const a=Li(),c=n.length+1,d=new pe(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return W.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new tt((v,w)=>v-w);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Li(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=Li(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,w)=>m.set(v,w)),!(m.size()>=a)););return W.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const d=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new s1(n,s));let c=this.Er.get(n);c===void 0&&(c=Pe(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this.dr=new yt(St.Ar),this.Rr=new yt(St.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new St(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new St(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new pe(new Ke([])),s=new St(n,e),a=new St(n,e+1),c=[];return this.Rr.forEachInRange([s,a],d=>{this.gr(d),c.push(d.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new pe(new Ke([])),s=new St(n,e),a=new St(n,e+1);let c=Pe();return this.Rr.forEachInRange([s,a],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new St(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class St{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return pe.comparator(e.key,n.key)||xe(e.br,n.br)}static Vr(e,n){return xe(e.br,n.br)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new yt(St.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new i1(c,n,s,a);this.mutationQueue.push(d);for(const m of a)this.vr=this.vr.add(new St(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,n){return W.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new St(n,0),a=new St(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],d=>{const m=this.Cr(d.br);c.push(m)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new yt(xe);return n.forEach(a=>{const c=new St(a,0),d=new St(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,d],m=>{s=s.add(m.br)})}),W.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;pe.isDocumentKey(c)||(c=c.child(""));const d=new St(new pe(c),0);let m=new yt(xe);return this.vr.forEachWhile(y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.br)),!0)},d),W.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){be(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return W.forEach(n.mutations,a=>{const c=new St(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new St(n,0),a=this.vr.firstAfterOrEqual(s);return W.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.Nr=e,this.docs=function(){return new tt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,d=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let s=wr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():zt.newInvalidDocument(a))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=wr();const d=n.path,m=new pe(d.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:w}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||E0(v0(w),s)<=0||(a.has(w.key)||yu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,s,a){Ee()}Lr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new $1(this)}getSize(e){return W.resolve(this.size)}}class $1 extends O1{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.persistence=e,this.Br=new Ui(n=>$h(n),Hh),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.kr=0,this.qr=new Yh,this.targetCount=0,this.Qr=Gs.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),W.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Gs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Un(n),W.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),W.waitFor(c).next(()=>a)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(d=>{c.push(a.markPotentiallyOrphaned(e,d))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new fu(0),this.Ur=!1,this.Ur=!0,this.Wr=new U1,this.referenceDelegate=e(this),this.Gr=new H1(this),this.indexManager=new x1,this.remoteDocumentCache=function(a){return new q1(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new P1(n),this.jr=new z1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new B1(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){ie("MemoryPersistence","Starting transaction:",e);const a=new W1(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return W.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class W1 extends T0{constructor(e){super(),this.currentSequenceNumber=e}}class Jh{constructor(e){this.persistence=e,this.Zr=new Yh,this.Xr=null}static ei(e){return new Jh(e)}get ti(){if(this.Xr)return this.Xr;throw Ee()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),W.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,s=>{const a=pe.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,Te.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return W.or([()=>W.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class au{constructor(e,n){this.persistence=e,this.ri=new Ui(s=>A0(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=M1(this,n)}static ei(e,n){return new au(e,n)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return W.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?W.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,d=>this.ir(e,d,n).next(m=>{m||(s++,c.removeEntry(d,Te.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wl(e.data.value)),n}ir(e,n,s){return W.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return W.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Pe(),a=Pe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Zh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return H_()?8:I0(q_())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Q1;return this.ts(e,n,d).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,d,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Ms()<=De.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Os(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(Ms()<=De.DEBUG&&ie("QueryEngine","Query:",Os(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Ms()<=De.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Os(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(n))):W.resolve())}Xi(e,n){if(rm(n))return W.resolve(null);let s=Jn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Ph(n,null,"F"),s=Jn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Pe(...c);return this.Zi.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const v=this.rs(n,m);return this.ss(n,v,d,y.readTime)?this.Xi(e,Ph(n,null,"F")):this.os(e,v,n,y)}))})))}es(e,n,s,a){return rm(n)||a.isEqual(Te.min())?W.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const d=this.rs(n,c);return this.ss(n,d,s,a)?W.resolve(null):(Ms()<=De.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Os(n)),this.os(e,d,n,_0(a,-1)).next(m=>m))})}rs(e,n){let s=new yt(fg(e));return n.forEach((a,c)=>{yu(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Ms()<=De.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Os(n)),this.Zi.getDocumentsMatchingQuery(e,n,Jr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new tt(xe),this.cs=new Ui(c=>$h(c),Hh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function X1(i,e,n,s){return new K1(i,e,n,s)}async function Mg(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let y=Pe();for(const v of a){d.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}for(const v of c){m.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next(v=>({Ts:v,removedBatchIds:d,addedBatchIds:m}))})})}function Y1(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,y,v,w){const P=v.batch,L=P.keys();let b=W.resolve();return L.forEach($=>{b=b.next(()=>w.getEntry(y,$)).next(H=>{const U=v.docVersions.get($);be(U!==null),H.version.compareTo(U)<0&&(P.applyToRemoteDocument(H,v),H.isValidDocument()&&(H.setReadTime(v.commitVersion),w.addEntry(H)))})}),b.next(()=>m.mutationQueue.removeMutationBatch(y,P))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=Pe();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Og(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function J1(i,e){const n=Ie(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,P)=>{const L=a.get(P);if(!L)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,P).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,P)));let b=L.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(P)!==null?b=b.withResumeToken(Nt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,s)),a=a.insert(P,b),function(H,U,ce){return H.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0}(L,b,w)&&m.push(n.Gr.updateTargetData(c,b))});let y=wr(),v=Pe();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(Z1(c,d,e.documentUpdates).next(w=>{y=w.Is,v=w.Es})),!s.isEqual(Te.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(P=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return W.waitFor(m).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,v)).next(()=>y)}).then(c=>(n.us=a,c))}function Z1(i,e,n){let s=Pe(),a=Pe();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let d=wr();return n.forEach((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(Te.min())?(e.removeEntry(m,y.readTime),d=d.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),d=d.insert(m,y)):ie("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)}),{Is:d,Es:a}})}function eE(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function tE(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,W.resolve(a)):n.Gr.allocateTargetId(s).next(d=>(a=new Qr(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Dh(i,e,n){const s=Ie(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,a))}catch(d){if(!eo(d))throw d;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function mm(i,e,n){const s=Ie(i);let a=Te.min(),c=Pe();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,v,w){const P=Ie(y),L=P.cs.get(w);return L!==void 0?W.resolve(P.us.get(L)):P.Gr.getTargetData(v,w)}(s,d,Jn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(d,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(d,e,n?a:Te.min(),n?c:Pe())).next(m=>(nE(s,q0(e),m),{documents:m,ds:c})))}function nE(i,e,n){let s=i.ls.get(e)||Te.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class gm{constructor(){this.activeTargetIds=K0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rE{constructor(){this._o=new gm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new gm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ql=null;function dh(){return ql===null?ql=function(){return 268435456+Math.round(2147483648*Math.random())}():ql++,"0x"+ql.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class aE extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,d){const m=dh(),y=this.No(n,s.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,c,d),this.Bo(n,y,v,a).then(w=>(ie("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw $s("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",y,"request:",a),w})}ko(n,s,a,c,d,m){return this.Oo(n,s,a,c,d)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,d)=>n[d]=c),a&&a.headers.forEach((c,d)=>n[d]=c)}No(n,s){const a=sE[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=dh();return new Promise((d,m)=>{const y=new Km;y.setWithCredentials(!0),y.listenOnce(Xm.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Hl.NO_ERROR:const w=y.getResponseJson();ie(Ot,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case Hl.TIMEOUT:ie(Ot,`RPC '${e}' ${c} timed out`),m(new ae(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Hl.HTTP_ERROR:const P=y.getStatus();if(ie(Ot,`RPC '${e}' ${c} failed with status:`,P,"response text:",y.getResponseText()),P>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const b=L==null?void 0:L.error;if(b&&b.status&&b.message){const $=function(U){const ce=U.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(ce)>=0?ce:Q.UNKNOWN}(b.status);m(new ae($,b.message))}else m(new ae(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ae(Q.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ie(Ot,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);ie(Ot,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",v,s,15)})}qo(e,n,s){const a=dh(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Zm(),m=Jm(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Lo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");ie(Ot,`Creating RPC '${e}' stream ${a}: ${w}`,y);const P=d.createWebChannel(w,y);let L=!1,b=!1;const $=new oE({Eo:U=>{b?ie(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(L||(ie(Ot,`Opening RPC '${e}' stream ${a} transport.`),P.open(),L=!0),ie(Ot,`RPC '${e}' stream ${a} sending:`,U),P.send(U))},Ao:()=>P.close()}),H=(U,ce,de)=>{U.listen(ce,we=>{try{de(we)}catch(Se){setTimeout(()=>{throw Se},0)}})};return H(P,Zo.EventType.OPEN,()=>{b||(ie(Ot,`RPC '${e}' stream ${a} transport opened.`),$.So())}),H(P,Zo.EventType.CLOSE,()=>{b||(b=!0,ie(Ot,`RPC '${e}' stream ${a} transport closed`),$.Do())}),H(P,Zo.EventType.ERROR,U=>{b||(b=!0,$s(Ot,`RPC '${e}' stream ${a} transport errored:`,U),$.Do(new ae(Q.UNAVAILABLE,"The operation could not be completed")))}),H(P,Zo.EventType.MESSAGE,U=>{var ce;if(!b){const de=U.data[0];be(!!de);const we=de,Se=(we==null?void 0:we.error)||((ce=we[0])===null||ce===void 0?void 0:ce.error);if(Se){ie(Ot,`RPC '${e}' stream ${a} received error:`,Se);const We=Se.status;let se=function(I){const k=ut[I];if(k!==void 0)return Sg(k)}(We),N=Se.message;se===void 0&&(se=Q.INTERNAL,N="Unknown error status: "+We+" with message "+Se.message),b=!0,$.Do(new ae(se,N)),P.close()}else ie(Ot,`RPC '${e}' stream ${a} received:`,de),$.vo(de)}}),H(m,Ym.STAT_EVENT,U=>{U.stat===Th.PROXY?ie(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Th.NOPROXY&&ie(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{$.bo()},0),$}}function fh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(i){return new p1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,s,a,c,d,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Fg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ae(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lE extends jg{constructor(e,n,s,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=y1(this.serializer,e),s=function(c){if(!("targetChange"in c))return Te.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Te.min():d.readTime?Zn(d.readTime):Te.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Vh(this.serializer),n.addTarget=function(c,d){let m;const y=d.target;if(m=Ch(y)?{documents:E1(c,y)}:{query:w1(c,y).ct},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=Rg(c,d.resumeToken);const v=kh(c,d.expectedCount);v!==null&&(m.expectedCount=v)}else if(d.snapshotVersion.compareTo(Te.min())>0){m.readTime=ou(c,d.snapshotVersion.toTimestamp());const v=kh(c,d.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=I1(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Vh(this.serializer),n.removeTarget=e,this.c_(n)}}class uE extends jg{constructor(e,n,s,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=v1(e.writeResults,e.commitTime),s=Zn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=Vh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>_1(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Oo(e,xh(n,s),a,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(Q.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.ko(e,xh(n,s),a,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(Q.UNKNOWN,d.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class hE{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Er(n),this.C_=!1):ie("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(d=>{s.enqueueAndForget(async()=>{Bi(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(y){const v=Ie(y);v.k_.add(4),await va(v),v.K_.set("Unknown"),v.k_.delete(4),await Iu(v)}(this))})}),this.K_=new hE(s,a)}}async function Iu(i){if(Bi(i))for(const e of i.q_)await e(!0)}async function va(i){for(const e of i.q_)await e(!1)}function zg(i,e){const n=Ie(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),rd(n)?nd(n):to(n).s_()&&td(n,e))}function ed(i,e){const n=Ie(i),s=to(n);n.B_.delete(e),s.s_()&&bg(n,e),n.B_.size===0&&(s.s_()?s.a_():Bi(n)&&n.K_.set("Unknown"))}function td(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}to(i).V_(e)}function bg(i,e){i.U_.xe(e),to(i).m_(e)}function nd(i){i.U_=new c1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),to(i).start(),i.K_.F_()}function rd(i){return Bi(i)&&!to(i).i_()&&i.B_.size>0}function Bi(i){return Ie(i).k_.size===0}function Ug(i){i.U_=void 0}async function fE(i){i.K_.set("Online")}async function pE(i){i.B_.forEach((e,n)=>{td(i,e)})}async function mE(i,e){Ug(i),rd(i)?(i.K_.O_(e),nd(i)):i.K_.set("Unknown")}async function gE(i,e,n){if(i.K_.set("Online"),e instanceof Cg&&e.state===2&&e.cause)try{await async function(a,c){const d=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,d),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lu(i,s)}else if(e instanceof Kl?i.U_.$e(e):e instanceof Ag?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(Te.min()))try{const s=await Og(i.localStore);n.compareTo(s)>=0&&await function(c,d){const m=c.U_.it(d);return m.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.B_.get(v);w&&c.B_.set(v,w.withResumeToken(y.resumeToken,d))}}),m.targetMismatches.forEach((y,v)=>{const w=c.B_.get(y);if(!w)return;c.B_.set(y,w.withResumeToken(Nt.EMPTY_BYTE_STRING,w.snapshotVersion)),bg(c,y);const P=new Qr(w.target,y,v,w.sequenceNumber);td(c,P)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ie("RemoteStore","Failed to raise snapshot:",s),await lu(i,s)}}async function lu(i,e,n){if(!eo(e))throw e;i.k_.add(1),await va(i),i.K_.set("Offline"),n||(n=()=>Og(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Iu(i)})}function Bg(i,e){return e().catch(n=>lu(i,n,e))}async function Su(i){const e=Ie(i),n=ni(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;yE(e);)try{const a=await eE(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,_E(e,a)}catch(a){await lu(e,a)}qg(e)&&$g(e)}function yE(i){return Bi(i)&&i.L_.length<10}function _E(i,e){i.L_.push(e);const n=ni(i);n.s_()&&n.f_&&n.g_(e.mutations)}function qg(i){return Bi(i)&&!ni(i).i_()&&i.L_.length>0}function $g(i){ni(i).start()}async function vE(i){ni(i).w_()}async function EE(i){const e=ni(i);for(const n of i.L_)e.g_(n.mutations)}async function wE(i,e,n){const s=i.L_.shift(),a=Gh.from(s,e,n);await Bg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Su(i)}async function TE(i,e){e&&ni(i).f_&&await async function(s,a){if(function(d){return a1(d)&&d!==Q.ABORTED}(a.code)){const c=s.L_.shift();ni(s).__(),await Bg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await Su(s)}}(i,e),qg(i)&&$g(i)}async function _m(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const s=Bi(n);n.k_.add(3),await va(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Iu(n)}async function IE(i,e){const n=Ie(i);e?(n.k_.delete(2),await Iu(n)):e||(n.k_.add(2),await va(n),n.K_.set("Unknown"))}function to(i){return i.W_||(i.W_=function(n,s,a){const c=Ie(n);return c.b_(),new lE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:fE.bind(null,i),mo:pE.bind(null,i),po:mE.bind(null,i),R_:gE.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),rd(i)?nd(i):i.K_.set("Unknown")):(await i.W_.stop(),Ug(i))})),i.W_}function ni(i){return i.G_||(i.G_=function(n,s,a){const c=Ie(n);return c.b_(),new uE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:vE.bind(null,i),po:TE.bind(null,i),p_:EE.bind(null,i),y_:wE.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await Su(i)):(await i.G_.stop(),i.L_.length>0&&(ie("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const d=Date.now()+s,m=new id(e,n,d,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sd(i,e){if(Er("AsyncQueue",`${e}: ${i}`),eo(i))return new ae(Q.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{static emptySet(e){return new bs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=ea(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.z_=new tt(pe.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ee():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ks{constructor(e,n,s,a,c,d,m,y,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new Ks(e,n,bs.emptySet(n),d,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class AE{constructor(){this.queries=Em(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=Ie(n),c=a.queries;a.queries=Em(),c.forEach((d,m)=>{for(const y of m.J_)y.onError(s)})})(this,new ae(Q.ABORTED,"Firestore shutting down"))}}function Em(){return new Ui(i=>dg(i),gu)}async function CE(i,e){const n=Ie(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new SE,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(d){const m=sd(d,`Initialization of query '${Os(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&od(n)}async function RE(i,e){const n=Ie(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const d=c.J_.indexOf(e);d>=0&&(c.J_.splice(d,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function PE(i,e){const n=Ie(i);let s=!1;for(const a of e){const c=a.query,d=n.queries.get(c);if(d){for(const m of d.J_)m.ta(a)&&(s=!0);d.H_=a}}s&&od(n)}function kE(i,e,n){const s=Ie(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function od(i){i.X_.forEach(e=>{e.next()})}var Lh,wm;(wm=Lh||(Lh={})).na="default",wm.Cache="cache";class xE{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ks(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Lh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this.key=e}}class Wg{constructor(e){this.key=e}}class NE{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Pe(),this.mutatedKeys=Pe(),this.Va=fg(e),this.ma=new bs(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new vm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,d=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,P)=>{const L=a.get(w),b=yu(this.query,P)?P:null,$=!!L&&this.mutatedKeys.has(L.key),H=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let U=!1;L&&b?L.data.isEqual(b.data)?$!==H&&(s.track({type:3,doc:b}),U=!0):this.ya(L,b)||(s.track({type:2,doc:b}),U=!0,(y&&this.Va(b,y)>0||v&&this.Va(b,v)<0)&&(m=!0)):!L&&b?(s.track({type:0,doc:b}),U=!0):L&&!b&&(s.track({type:1,doc:L}),U=!0,(y||v)&&(m=!0)),U&&(b?(d=d.add(b),c=H?c.add(w):c.delete(w)):(d=d.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:d,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const d=e.pa.j_();d.sort((w,P)=>function(b,$){const H=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return H(b)-H($)}(w.type,P.type)||this.Va(w.doc,P.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,v=y!==this.Aa;return this.Aa=y,d.length!==0||v?{snapshot:new Ks(this.query,e.ma,c,d,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new vm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Pe(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Wg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Hg(s))}),n}va(e){this.da=e.ds,this.Ra=Pe();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Ks.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class VE{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class DE{constructor(e){this.key=e,this.Fa=!1}}class LE{constructor(e,n,s,a,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Ma={},this.xa=new Ui(m=>dg(m),gu),this.Oa=new Map,this.Na=new Set,this.La=new tt(pe.comparator),this.Ba=new Map,this.ka=new Yh,this.qa={},this.Qa=new Map,this.Ka=Gs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function ME(i,e,n=!0){const s=Jg(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Qg(s,e,n,!0),a}async function OE(i,e){const n=Jg(i);await Qg(n,e,!0,!1)}async function Qg(i,e,n,s){const a=await tE(i.localStore,Jn(e)),c=a.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await FE(i,e,c,d==="current",a.resumeToken)),i.isPrimaryClient&&n&&zg(i.remoteStore,a),m}async function FE(i,e,n,s,a){i.Ua=(P,L,b)=>async function(H,U,ce,de){let we=U.view.ga(ce);we.ss&&(we=await mm(H.localStore,U.query,!1).then(({documents:N})=>U.view.ga(N,we)));const Se=de&&de.targetChanges.get(U.targetId),We=de&&de.targetMismatches.get(U.targetId)!=null,se=U.view.applyChanges(we,H.isPrimaryClient,Se,We);return Im(H,U.targetId,se.ba),se.snapshot}(i,P,L,b);const c=await mm(i.localStore,e,!0),d=new NE(e,c.ds),m=d.ga(c.documents),y=_a.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=d.applyChanges(m,i.isPrimaryClient,y);Im(i,n,v.ba);const w=new VE(e,n,d);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),v.snapshot}async function jE(i,e,n){const s=Ie(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(d=>!gu(d,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Dh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&ed(s.remoteStore,a.targetId),Mh(s,a.targetId)}).catch(Zs)):(Mh(s,a.targetId),await Dh(s.localStore,a.targetId,!0))}async function zE(i,e){const n=Ie(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ed(n.remoteStore,s.targetId))}async function bE(i,e,n){const s=QE(i);try{const a=await function(d,m){const y=Ie(d),v=gt.now(),w=m.reduce((b,$)=>b.add($.key),Pe());let P,L;return y.persistence.runTransaction("Locally write mutations","readwrite",b=>{let $=wr(),H=Pe();return y.hs.getEntries(b,w).next(U=>{$=U,$.forEach((ce,de)=>{de.isValidDocument()||(H=H.add(ce))})}).next(()=>y.localDocuments.getOverlayedDocuments(b,$)).next(U=>{P=U;const ce=[];for(const de of m){const we=n1(de,P.get(de.key).overlayedDocument);we!=null&&ce.push(new ii(de.key,we,ig(we.value.mapValue),en.exists(!0)))}return y.mutationQueue.addMutationBatch(b,v,ce,m)}).next(U=>{L=U;const ce=U.applyToLocalDocumentSet(P,H);return y.documentOverlayCache.saveOverlays(b,U.batchId,ce)})}).then(()=>({batchId:L.batchId,changes:mg(P)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(d,m,y){let v=d.qa[d.currentUser.toKey()];v||(v=new tt(xe)),v=v.insert(m,y),d.qa[d.currentUser.toKey()]=v}(s,a.batchId,n),await Ea(s,a.changes),await Su(s.remoteStore)}catch(a){const c=sd(a,"Failed to persist write");n.reject(c)}}async function Gg(i,e){const n=Ie(i);try{const s=await J1(n.localStore,e);e.targetChanges.forEach((a,c)=>{const d=n.Ba.get(c);d&&(be(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?d.Fa=!0:a.modifiedDocuments.size>0?be(d.Fa):a.removedDocuments.size>0&&(be(d.Fa),d.Fa=!1))}),await Ea(n,s,e)}catch(s){await Zs(s)}}function Tm(i,e,n){const s=Ie(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,d)=>{const m=d.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(d,m){const y=Ie(d);y.onlineState=m;let v=!1;y.queries.forEach((w,P)=>{for(const L of P.J_)L.ea(m)&&(v=!0)}),v&&od(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UE(i,e,n){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let d=new tt(pe.comparator);d=d.insert(c,zt.newNoDocument(c,Te.min()));const m=Pe().add(c),y=new wu(Te.min(),new Map,new tt(xe),d,m);await Gg(s,y),s.La=s.La.remove(c),s.Ba.delete(e),ad(s)}else await Dh(s.localStore,e,!1).then(()=>Mh(s,e,n)).catch(Zs)}async function BE(i,e){const n=Ie(i),s=e.batch.batchId;try{const a=await Y1(n.localStore,e);Xg(n,s,null),Kg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ea(n,a)}catch(a){await Zs(a)}}async function qE(i,e,n){const s=Ie(i);try{const a=await function(d,m){const y=Ie(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return y.mutationQueue.lookupMutationBatch(v,m).next(P=>(be(P!==null),w=P.keys(),y.mutationQueue.removeMutationBatch(v,P))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,w,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>y.localDocuments.getDocuments(v,w))})}(s.localStore,e);Xg(s,e,n),Kg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ea(s,a)}catch(a){await Zs(a)}}function Kg(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function Xg(i,e,n){const s=Ie(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function Mh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Yg(i,s)})}function Yg(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(ed(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),ad(i))}function Im(i,e,n){for(const s of n)s instanceof Hg?(i.ka.addReference(s.key,e),$E(i,s)):s instanceof Wg?(ie("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Yg(i,s.key)):Ee()}function $E(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(ie("SyncEngine","New document in limbo: "+n),i.Na.add(s),ad(i))}function ad(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new pe(Ke.fromString(e)),s=i.Ka.next();i.Ba.set(s,new DE(n)),i.La=i.La.insert(n,s),zg(i.remoteStore,new Qr(Jn(Wh(n.path)),s,"TargetPurposeLimboResolution",fu.oe))}}async function Ea(i,e,n){const s=Ie(i),a=[],c=[],d=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{d.push(s.Ua(y,e,n).then(v=>{var w;if((v||n)&&s.isPrimaryClient){const P=v?!v.fromCache:(w=n==null?void 0:n.targetChanges.get(y.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(y.targetId,P?"current":"not-current")}if(v){a.push(v);const P=Zh.zi(y.targetId,v);c.push(P)}}))}),await Promise.all(d),s.Ma.R_(a),await async function(y,v){const w=Ie(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>W.forEach(v,L=>W.forEach(L.Wi,b=>w.persistence.referenceDelegate.addReference(P,L.targetId,b)).next(()=>W.forEach(L.Gi,b=>w.persistence.referenceDelegate.removeReference(P,L.targetId,b)))))}catch(P){if(!eo(P))throw P;ie("LocalStore","Failed to update sequence numbers: "+P)}for(const P of v){const L=P.targetId;if(!P.fromCache){const b=w.us.get(L),$=b.snapshotVersion,H=b.withLastLimboFreeSnapshotVersion($);w.us=w.us.insert(L,H)}}}(s.localStore,c))}async function HE(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const s=await Mg(n.localStore,e);n.currentUser=e,function(c,d){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new ae(Q.CANCELLED,d))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ea(n,s.Ts)}}function WE(i,e){const n=Ie(i),s=n.Ba.get(e);if(s&&s.Fa)return Pe().add(s.key);{let a=Pe();const c=n.Oa.get(e);if(!c)return a;for(const d of c){const m=n.xa.get(d);a=a.unionWith(m.view.fa)}return a}}function Jg(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UE.bind(null,e),e.Ma.R_=PE.bind(null,e.eventManager),e.Ma.Wa=kE.bind(null,e.eventManager),e}function QE(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qE.bind(null,e),e}class uu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return X1(this.persistence,new G1,e.initialUser,this.serializer)}ja(e){return new Lg(Jh.ei,this.serializer)}za(e){return new rE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uu.provider={build:()=>new uu};class GE extends uu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){be(this.persistence.referenceDelegate instanceof au);const s=this.persistence.referenceDelegate.garbageCollector;return new D1(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new Lg(s=>au.ei(s,n),this.serializer)}}class Oh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Tm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=HE.bind(null,this.syncEngine),await IE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AE}()}createDatastore(e){const n=Tu(e.databaseInfo.databaseId),s=function(c){return new aE(c)}(e.databaseInfo);return function(c,d,m,y){return new cE(c,d,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,d,m){return new dE(s,a,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Tm(this.syncEngine,n,0),function(){return ym.p()?new ym:new iE}())}createSyncEngine(e,n){return function(a,c,d,m,y,v,w){const P=new LE(a,c,d,m,y,v);return w&&(P.$a=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=Ie(a);ie("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await va(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Oh.provider={build:()=>new Oh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Ft.UNAUTHENTICATED,this.clientId=tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ie("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ie("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sd(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ph(i,e){i.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Mg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Sm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await YE(i);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>_m(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>_m(e.remoteStore,a)),i._onlineComponents=e}async function YE(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await ph(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===Q.FAILED_PRECONDITION||a.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),await ph(i,new uu)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await ph(i,new GE(void 0));return i._offlineComponents}async function Zg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await Sm(i,i._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await Sm(i,new Oh))),i._onlineComponents}function JE(i){return Zg(i).then(e=>e.syncEngine)}async function Am(i){const e=await Zg(i),n=e.eventManager;return n.onListen=ME.bind(null,e.syncEngine),n.onUnlisten=jE.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OE.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zE.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(i,e,n){if(!n)throw new ae(Q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ZE(i,e,n,s){if(e===!0&&s===!0)throw new ae(Q.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Rm(i){if(!pe.isDocumentKey(i))throw new ae(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Pm(i){if(pe.isDocumentKey(i))throw new ae(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Au(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee()}function _r(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ae(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Au(i);throw new ae(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ey((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new km({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new km(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new u0;switch(s.type){case"firstParty":return new f0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Cm.get(n);s&&(ie("ComponentProvider","Removing Datastore"),Cm.delete(n),s.terminate())}(this),Promise.resolve()}}function ew(i,e,n,s={}){var a;const c=(i=_r(i,Cu))._getSettings(),d=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==d&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Ft.MOCK_USER;else{m=B_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ae(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ft(v)}i._authCredentials=new c0(new eg(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class tn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class Yr extends no{constructor(e,n,s){super(e,n,Wh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new pe(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function jt(i,e,...n){if(i=In(i),ty("collection","path",e),i instanceof Cu){const s=Ke.fromString(e,...n);return Pm(s),new Yr(i,null,s)}{if(!(i instanceof tn||i instanceof Yr))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ke.fromString(e,...n));return Pm(s),new Yr(i.firestore,null,s)}}function cn(i,e,...n){if(i=In(i),arguments.length===1&&(e=tg.newId()),ty("doc","path",e),i instanceof Cu){const s=Ke.fromString(e,...n);return Rm(s),new tn(i,null,new pe(s))}{if(!(i instanceof tn||i instanceof Yr))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ke.fromString(e,...n));return Rm(s),new tn(i.firestore,i instanceof Yr?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Fg(this,"async_queue_retry"),this.fu=()=>{const s=fh();s&&ie("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=fh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=fh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new ji;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!eo(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(s);throw Er("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=id.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&Ee()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function Nm(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1}(i,["next","error","complete"])}class bi extends Cu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new xm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xm(e),this._firestoreClient=void 0,await e}}}function tw(i,e){const n=typeof i=="object"?i:Yv(),s=typeof i=="string"?i:"(default)",a=Qv(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=b_("firestore");c&&ew(a,...c)}return a}function ld(i){if(i._terminated)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||nw(i),i._firestoreClient}function nw(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,v,w){return new P0(m,y,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,ey(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new XE(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xs(Nt.fromBase64String(e))}catch(n){throw new ae(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xs(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=/^__.*__$/;class iw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new ya(e,this.data,n,this.fieldTransforms)}}class ny{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ry(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class dd{constructor(e,n,s,a,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new dd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return cu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(ry(this.Mu)&&rw.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class sw{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Tu(e)}$u(e,n,s,a=!1){return new dd({Mu:e,methodName:n,Ku:s,path:xt.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ru(i){const e=i._freezeSettings(),n=Tu(i._databaseId);return new sw(i._databaseId,!!e.ignoreUndefinedProperties,n)}function iy(i,e,n,s,a,c={}){const d=i.$u(c.merge||c.mergeFields?2:0,e,n,a);fd("Data must be an object, but it was:",d,s);const m=ay(s,d);let y,v;if(c.merge)y=new hn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const w=[];for(const P of c.mergeFields){const L=Fh(e,P,n);if(!d.contains(L))throw new ae(Q.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);uy(w,L)||w.push(L)}y=new hn(w),v=d.fieldTransforms.filter(P=>y.covers(P.field))}else y=null,v=d.fieldTransforms;return new iw(new Zt(m),y,v)}class Pu extends ud{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pu}}function sy(i,e,n,s){const a=i.$u(1,e,n);fd("Data must be an object, but it was:",a,s);const c=[],d=Zt.empty();ri(s,(y,v)=>{const w=pd(e,y,n);v=In(v);const P=a.Bu(w);if(v instanceof Pu)c.push(w);else{const L=Ta(v,P);L!=null&&(c.push(w),d.set(w,L))}});const m=new hn(c);return new ny(d,m,a.fieldTransforms)}function oy(i,e,n,s,a,c){const d=i.$u(1,e,n),m=[Fh(e,s,n)],y=[a];if(c.length%2!=0)throw new ae(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<c.length;L+=2)m.push(Fh(e,c[L])),y.push(c[L+1]);const v=[],w=Zt.empty();for(let L=m.length-1;L>=0;--L)if(!uy(v,m[L])){const b=m[L];let $=y[L];$=In($);const H=d.Bu(b);if($ instanceof Pu)v.push(b);else{const U=Ta($,H);U!=null&&(v.push(b),w.set(b,U))}}const P=new hn(v);return new ny(w,P,d.fieldTransforms)}function ow(i,e,n,s=!1){return Ta(n,i.$u(s?4:3,e))}function Ta(i,e){if(ly(i=In(i)))return fd("Unsupported field value:",e,i),ay(i,e);if(i instanceof ud)return function(s,a){if(!ry(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let d=0;for(const m of s){let y=Ta(m,a.ku(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=In(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return X0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=gt.fromDate(s);return{timestampValue:ou(a.serializer,c)}}if(s instanceof gt){const c=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ou(a.serializer,c)}}if(s instanceof cd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xs)return{bytesValue:Rg(a.serializer,s._byteString)};if(s instanceof tn){const c=a.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw a.qu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof hd)return function(d,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.qu("VectorValues must only contain numeric values.");return Qh(m.serializer,y)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${Au(s)}`)}(i,e)}function ay(i,e){const n={};return ng(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ri(i,(s,a)=>{const c=Ta(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function ly(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof gt||i instanceof cd||i instanceof Xs||i instanceof tn||i instanceof ud||i instanceof hd)}function fd(i,e,n){if(!ly(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Au(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function Fh(i,e,n){if((e=In(e))instanceof wa)return e._internalPath;if(typeof e=="string")return pd(i,e);throw cu("Field path arguments must be of type string or ",i,!1,void 0,n)}const aw=new RegExp("[~\\*/\\[\\]]");function pd(i,e,n){if(e.search(aw)>=0)throw cu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new wa(...e.split("."))._internalPath}catch{throw cu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function cu(i,e,n,s,a){const c=s&&!s.isEmpty(),d=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${a}`),y+=")"),new ae(Q.INVALID_ARGUMENT,m+i+y)}function uy(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lw extends cy{data(){return super.data()}}function hy(i,e){return typeof e=="string"?pd(i,e):e instanceof wa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ae(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class md{}class cw extends md{}function $l(i,e,...n){let s=[];e instanceof md&&s.push(e),s=s.concat(n),function(c){const d=c.filter(y=>y instanceof yd).length,m=c.filter(y=>y instanceof gd).length;if(d>1||d>0&&m>0)throw new ae(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class gd extends cw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new gd(e,n,s)}_apply(e){const n=this._parse(e);return dy(e._query,n),new no(e.firestore,e.converter,Rh(e._query,n))}_parse(e){const n=Ru(e.firestore);return function(c,d,m,y,v,w,P){let L;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Dm(P,w);const b=[];for(const $ of P)b.push(Vm(y,c,$));L={arrayValue:{values:b}}}else L=Vm(y,c,P)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Dm(P,w),L=ow(m,d,P,w==="in"||w==="not-in");return ct.create(v,w,L)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class yd extends md{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yd(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,c){let d=a;const m=c.getFlattenedFilters();for(const y of m)dy(d,y),d=Rh(d,y)}(e._query,n),new no(e.firestore,e.converter,Rh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Vm(i,e,n){if(typeof(n=In(n))=="string"){if(n==="")throw new ae(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hg(e)&&n.indexOf("/")!==-1)throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ke.fromString(n));if(!pe.isDocumentKey(s))throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Yp(i,new pe(s))}if(n instanceof tn)return Yp(i,n._key);throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Au(n)}.`)}function Dm(i,e){if(!Array.isArray(i)||i.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dy(i,e){const n=function(a,c){for(const d of a)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hw{convertValue(e,n="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ri(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(d=>ot(d.doubleValue));return new hd(c)}convertGeoPoint(e){return new cd(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=mu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ca(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ke.fromString(e);be(Dg(s));const a=new ha(s.get(1),s.get(3)),c=new pe(s.popFirst(5));return a.isEqual(n)||Er(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class py extends cy{constructor(e,n,s,a,c,d){super(e,n,s,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(hy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Xl extends py{data(e={}){return super.data(e)}}class dw{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new na(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Xl(this._firestore,this._userDataWriter,s.key,s,new na(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map(m=>{const y=new Xl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new na(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new Xl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new na(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),w=d.indexOf(m.doc.key)),{type:fw(m.type),doc:y,oldIndex:v,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fw(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class my extends hw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function ma(i,e,n,...s){i=_r(i,tn);const a=_r(i.firestore,bi),c=Ru(a);let d;return d=typeof(e=In(e))=="string"||e instanceof wa?oy(c,"updateDoc",i._key,e,n,s):sy(c,"updateDoc",i._key,e),ku(a,[d.toMutation(i._key,en.exists(!0))])}function Us(i){return ku(_r(i.firestore,bi),[new Eu(i._key,en.none())])}function Bs(i,e){const n=_r(i.firestore,bi),s=cn(i),a=fy(i.converter,e);return ku(n,[iy(Ru(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,en.exists(!1))]).then(()=>s)}function Yn(i,...e){var n,s,a;i=In(i);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||Nm(e[d])||(c=e[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Nm(e[d])){const P=e[d];e[d]=(n=P.next)===null||n===void 0?void 0:n.bind(P),e[d+1]=(s=P.error)===null||s===void 0?void 0:s.bind(P),e[d+2]=(a=P.complete)===null||a===void 0?void 0:a.bind(P)}let y,v,w;if(i instanceof tn)v=_r(i.firestore,bi),w=Wh(i._key.path),y={next:P=>{e[d]&&e[d](pw(v,i,P))},error:e[d+1],complete:e[d+2]};else{const P=_r(i,no);v=_r(P.firestore,bi),w=P._query;const L=new my(v);y={next:b=>{e[d]&&e[d](new dw(v,L,P,b))},error:e[d+1],complete:e[d+2]},uw(i._query)}return function(L,b,$,H){const U=new KE(H),ce=new xE(b,U,$);return L.asyncQueue.enqueueAndForget(async()=>CE(await Am(L),ce)),()=>{U.eu(),L.asyncQueue.enqueueAndForget(async()=>RE(await Am(L),ce))}}(ld(v),w,m,y)}function ku(i,e){return function(s,a){const c=new ji;return s.asyncQueue.enqueueAndForget(async()=>bE(await JE(s),a,c)),c.promise}(ld(i),e)}function pw(i,e,n){const s=n.docs.get(e._key),a=new my(i);return new py(i,a,e._key,s,new na(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ru(e)}set(e,n,s){this._verifyNotCommitted();const a=mh(e,this._firestore),c=fy(a.converter,n,s),d=iy(this._dataReader,"WriteBatch.set",a._key,c,a.converter!==null,s);return this._mutations.push(d.toMutation(a._key,en.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const c=mh(e,this._firestore);let d;return d=typeof(n=In(n))=="string"||n instanceof wa?oy(this._dataReader,"WriteBatch.update",c._key,n,s,a):sy(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(d.toMutation(c._key,en.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=mh(e,this._firestore);return this._mutations=this._mutations.concat(new Eu(n._key,en.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mh(i,e){if((i=In(i)).firestore!==e)throw new ae(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(i){return ld(i=_r(i,bi)),new mw(i,e=>ku(i,e))}(function(e,n=!0){(function(a){Js=a})(Xv),eu(new aa("firestore",(s,{instanceIdentifier:a,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new bi(new h0(s.getProvider("auth-internal")),new m0(s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ae(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ha(v.options.projectId,w)}(d,a),d);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),zs(Hp,"4.7.5",e),zs(Hp,"4.7.5","esm2017")})();const yw={apiKey:"AIzaSyBHTD9RjLcqWb1qS7Xk1MBoeIKHHe6whbs",authDomain:"mealplan-2.firebaseapp.com",projectId:"mealplan-2",storageBucket:"mealplan-2.firebasestorage.app",messagingSenderId:"155947399775",appId:"1:155947399775:web:800cc16f5f849eb9b839ea"},_w=Hm(yw),Be=tw(_w);var gy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lm=Oi.createContext&&Oi.createContext(gy),vw=["attr","size","title"];function Ew(i,e){if(i==null)return{};var n=ww(i,e),s,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(a=0;a<c.length;a++)s=c[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function ww(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function hu(){return hu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},hu.apply(this,arguments)}function Mm(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),n.push.apply(n,s)}return n}function du(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mm(Object(n),!0).forEach(function(s){Tw(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Mm(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function Tw(i,e,n){return e=Iw(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function Iw(i){var e=Sw(i,"string");return typeof e=="symbol"?e:e+""}function Sw(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function yy(i){return i&&i.map((e,n)=>Oi.createElement(e.tag,du({key:n},e.attr),yy(e.child)))}function dn(i){return e=>Oi.createElement(Aw,hu({attr:du({},i.attr)},e),yy(i.child))}function Aw(i){var e=n=>{var{attr:s,size:a,title:c}=i,d=Ew(i,vw),m=a||n.size||"1em",y;return n.className&&(y=n.className),i.className&&(y=(y?y+" ":"")+i.className),Oi.createElement("svg",hu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,d,{className:y,style:du(du({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&Oi.createElement("title",null,c),i.children)};return Lm!==void 0?Oi.createElement(Lm.Consumer,null,n=>e(n)):e(gy)}function Cw(i){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464z"},child:[]}]})(i)}function Rw(i){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 7a.5.5 0 0 1 .5.5V9H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V10H6a.5.5 0 0 1 0-1h1.5V7.5A.5.5 0 0 1 8 7"},child:[]},{tag:"path",attr:{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"},child:[]}]})(i)}function Pw(i){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2M1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857z"},child:[]},{tag:"path",attr:{d:"M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2m3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2"},child:[]}]})(i)}function qs(i){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"},child:[]}]})(i)}function kw(i){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"},child:[]},{tag:"path",attr:{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"},child:[]}]})(i)}function Om(i){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"},child:[]}]})(i)}function xw(i){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M3.854 2.146a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 3.293l1.146-1.147a.5.5 0 0 1 .708 0m0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708L2 7.293l1.146-1.147a.5.5 0 0 1 .708 0m0 4a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0"},child:[]}]})(i)}function Nw(i){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278M4.858 1.311A7.27 7.27 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.32 7.32 0 0 0 5.205-2.162q-.506.063-1.029.063c-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286"},child:[]}]})(i)}function Vw(i){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325"},child:[]}]})(i)}function Yl(i){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"},child:[]}]})(i)}function Dw(i){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708"},child:[]}]})(i)}function Gr(i){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"},child:[]},{tag:"path",attr:{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"},child:[]}]})(i)}function Mi(i){return dn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"},child:[]}]})(i)}const Fm=({type:i,categories:e,isOpen:n,setIsOpen:s})=>{const[a,c]=_e.useState(""),[d,m]=_e.useState(null),[y,v]=_e.useState(null),[w,P]=_e.useState(""),L=async H=>{if(H.preventDefault(),!!a.trim())try{await Bs(jt(Be,i==="grocery"?"categories":"pantryCategories"),{name:a.trim()}),c(""),m(null)}catch(U){console.error("Error adding category:",U),m(`Failed to add ${i} category`)}},b=async H=>{try{await Us(cn(Be,i==="grocery"?"categories":"pantryCategories",H)),m(null)}catch(U){console.error("Error deleting category:",U),m(`Failed to delete ${i} category`)}},$=async H=>{if(w.trim())try{await ma(cn(Be,i==="grocery"?"categories":"pantryCategories",H),{name:w.trim()}),v(null),P(""),m(null)}catch(U){console.error("Error updating category:",U),m(`Failed to update ${i} category`)}};return R.jsxs("div",{className:"collapsible-section",children:[R.jsxs("button",{type:"button",className:"collapsible-trigger",onClick:()=>s(!n),children:[R.jsxs("div",{className:"trigger-content",children:[R.jsx("h3",{children:i==="grocery"?"Grocery Categories":"Pantry Categories"}),R.jsx("p",{className:"trigger-description",children:i==="grocery"?"Organize your grocery list items":"Organize your pantry items"})]}),R.jsx("span",{className:"collapsible-icon",children:n?"−":"+"})]}),R.jsxs("div",{className:`collapsible-content ${n?"open":""}`,children:[R.jsxs("div",{className:"category-section",children:[R.jsxs("form",{onSubmit:L,className:"category-input-group",children:[R.jsx("input",{type:"text",value:a,onChange:H=>c(H.target.value),placeholder:`Enter new ${i} category`,className:"category-input"}),R.jsx("button",{type:"submit",className:"add-category-btn",title:"Add category",children:R.jsx(Yl,{size:20})})]}),d&&R.jsx("div",{className:"error-message",children:d})]}),R.jsxs("div",{className:"categories-list",children:[e.map(H=>R.jsx("div",{className:"category-item",children:y===H.id?R.jsxs("div",{className:"edit-category-form",children:[R.jsx("input",{type:"text",value:w,onChange:U=>P(U.target.value),onKeyDown:U=>{U.key==="Enter"?$(H.id):U.key==="Escape"&&(v(null),P(""))},autoFocus:!0}),R.jsxs("div",{className:"edit-actions",children:[R.jsx("button",{onClick:()=>$(H.id),title:"Save changes",children:R.jsx(qs,{size:16})}),R.jsx("button",{onClick:()=>{v(null),P("")},title:"Cancel",children:R.jsx(Mi,{size:16})})]})]}):R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"category-name editable",onClick:()=>{v(H.id),P(H.name)},children:H.name}),R.jsx("button",{onClick:()=>b(H.id),className:"delete-category-btn",title:`Delete ${i} category`,children:R.jsx(Gr,{size:14})})]})},H.id)),e.length===0&&R.jsx("p",{className:"no-categories",children:"No categories added yet"})]})]})]})},Lw=()=>{const[i,e]=_e.useState([]),[n,s]=_e.useState([]),[a,c]=_e.useState(!1),[d,m]=_e.useState(!1);return _e.useEffect(()=>{const y=Yn(jt(Be,"categories"),w=>{const P=[];w.forEach(L=>{P.push({id:L.id,name:L.data().name})}),e(P)}),v=Yn(jt(Be,"pantryCategories"),w=>{const P=[];w.forEach(L=>{P.push({id:L.id,name:L.data().name})}),s(P)});return()=>{y(),v()}},[]),R.jsxs("div",{className:"category-form-container",children:[R.jsx(Fm,{type:"grocery",categories:i,isOpen:a,setIsOpen:c}),R.jsx("div",{className:"category-section-divider"}),R.jsx(Fm,{type:"pantry",categories:n,isOpen:d,setIsOpen:m})]})},Mw=_e.forwardRef((i,e)=>{const[n,s]=_e.useState([]),[a,c]=_e.useState([]),[d,m]=_e.useState({}),[y,v]=_e.useState(!0),[w,P]=_e.useState(null),[L,b]=_e.useState(null),[$,H]=_e.useState({name:"",quantity:1});_e.useEffect(()=>{const se=I=>{const k={};I.forEach(V=>{k[V.id]={name:"",quantity:1}}),m(k)},N=Yn(jt(Be,"categories"),I=>{const k=I.docs.map(V=>({id:V.id,...V.data()}));s(k),se(k),v(!1)},I=>{console.error("Error fetching categories:",I),P("Failed to load categories"),v(!1)}),T=Yn(jt(Be,"groceryItems"),I=>{const k=I.docs.map(V=>({id:V.id,...V.data()}));c(k)},I=>{console.error("Error fetching grocery items:",I),P("Failed to load grocery items")});return()=>{N(),T()}},[]);const U=async se=>{try{await Bs(jt(Be,"groceryItems"),{name:d[se].name,quantity:d[se].quantity,categoryId:se,createdAt:new Date().toISOString()}),m(N=>({...N,[se]:{name:"",quantity:1}}))}catch(N){console.error("Error adding item:",N),P("Failed to add item")}},ce=async se=>{try{await Us(cn(Be,"groceryItems",se))}catch(N){console.error("Error deleting item:",N),P("Failed to delete item")}},de=se=>{b(se.id),H({name:se.name,quantity:se.quantity})},we=()=>{b(null),H({name:"",quantity:1})},Se=async se=>{try{await ma(cn(Be,"groceryItems",se),{name:$.name,quantity:$.quantity}),b(null),H({name:"",quantity:1})}catch(N){console.error("Error updating item:",N),P("Failed to update item")}},We=async()=>{if(window.confirm("Are you sure you want to clear the entire grocery list?"))try{const se=gw(Be);a.forEach(N=>{const T=cn(Be,"groceryItems",N.id);se.delete(T)}),await se.commit()}catch(se){console.error("Error clearing grocery list:",se),P("Failed to clear grocery list")}};return _e.useImperativeHandle(e,()=>({handleClearAll:We})),y?R.jsx("div",{children:"Loading..."}):w?R.jsx("div",{className:"error",children:w}):R.jsx("div",{className:"grocery-grid",children:n.map(se=>{var N,T;return R.jsxs("div",{className:"category-card",children:[R.jsx("h3",{children:se.name}),R.jsx("ul",{className:"grocery-items",children:a.filter(I=>I.categoryId===se.id).map(I=>R.jsx("li",{className:"grocery-item",children:L===I.id?R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"edit-form",children:[R.jsx("input",{type:"text",value:$.name,onChange:k=>H(V=>({...V,name:k.target.value})),className:"edit-input",autoFocus:!0}),R.jsx("input",{type:"number",value:$.quantity,onChange:k=>H(V=>({...V,quantity:parseInt(k.target.value)})),min:"1",className:"edit-input quantity"})]}),R.jsxs("div",{className:"edit-actions",children:[R.jsx("button",{onClick:()=>Se(I.id),className:"edit-btn save","aria-label":"Save changes",children:R.jsx(qs,{size:16})}),R.jsx("button",{onClick:we,className:"edit-btn cancel","aria-label":"Cancel editing",children:R.jsx(Mi,{size:16})})]})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"item-content",children:[R.jsx("span",{className:"editable-text",onClick:()=>de(I),children:I.name}),R.jsx("span",{className:"editable-text",onClick:()=>de(I),children:I.quantity})]}),R.jsx("button",{onClick:()=>ce(I.id),className:"delete-btn","aria-label":"Delete item",children:R.jsx(Gr,{size:16})})]})},I.id))}),R.jsxs("form",{onSubmit:I=>{I.preventDefault(),U(se.id)},className:"add-item-form",children:[R.jsx("input",{type:"text",value:((N=d[se.id])==null?void 0:N.name)||"",onChange:I=>m(k=>({...k,[se.id]:{...k[se.id],name:I.target.value}})),placeholder:"Item name",required:!0}),R.jsx("input",{type:"number",value:((T=d[se.id])==null?void 0:T.quantity)||1,onChange:I=>m(k=>({...k,[se.id]:{...k[se.id],quantity:parseInt(I.target.value)}})),min:"1",required:!0}),R.jsx("button",{type:"submit",children:"Add"})]})]},se.id)})})}),_y=_e.createContext(void 0);function Ow({children:i}){const[e,n]=_e.useState(()=>localStorage.getItem("theme")||"dark");_e.useEffect(()=>{localStorage.setItem("theme",e),document.documentElement.setAttribute("data-theme",e)},[e]);const s=()=>{n(a=>a==="light"?"dark":"light")};return R.jsx(_y.Provider,{value:{theme:e,toggleTheme:s},children:i})}function Fw(){const i=_e.useContext(_y);if(i===void 0)throw new Error("useTheme must be used within a ThemeProvider");return i}const jw=({onClearGroceryList:i})=>{const{theme:e,toggleTheme:n}=Fw(),s=[{id:"grocery-section",icon:R.jsx(xw,{size:20}),label:"Grocery List"},{id:"meal-section",icon:R.jsx(Pw,{size:20}),label:"Meal Planner"},{id:"pantry-section",icon:R.jsx(Cw,{size:20}),label:"Pantry"},{id:"settings-section",icon:R.jsx(kw,{size:20}),label:"Settings"},{id:"theme-toggle",icon:e==="light"?R.jsx(Nw,{size:20}):R.jsx(Dw,{size:20}),label:`Switch to ${e==="light"?"dark":"light"} mode`,action:n},{id:"clear-grocery",icon:R.jsx(Gr,{size:20}),label:"Clear Grocery List",action:i}],a=c=>{const d=document.getElementById(c);d&&d.scrollIntoView({behavior:"smooth"})};return R.jsx("nav",{className:"floating-nav",children:s.map(c=>R.jsx("button",{className:"nav-button",onClick:()=>c.action?c.action():a(c.id),"aria-label":c.label,title:c.label,children:c.icon},c.id))})},zw=()=>{const[i,e]=_e.useState([]),[n,s]=_e.useState([]),[a,c]=_e.useState({name:"",ingredients:[{name:"",category:""}],instructions:""}),[d,m]=_e.useState(null),[y,v]=_e.useState({name:"",ingredients:[{name:"",category:""}],instructions:""}),[w,P]=_e.useState(!0),[L,b]=_e.useState(null),[$,H]=_e.useState(null),[U,ce]=_e.useState([]),[de,we]=_e.useState({message:"",ingredient:"",visible:!1}),[Se,We]=_e.useState([]),[se,N]=_e.useState(null),[T,I]=_e.useState(!1),[k,V]=_e.useState(!1),[M,C]=_e.useState(!1);_e.useEffect(()=>{const A=$l(jt(Be,"recipes")),j=$l(jt(Be,"mealPlan")),X=Yn(A,Re=>{const ze=[];Re.forEach(rt=>{ze.push({id:rt.id,...rt.data()})}),e(ze),P(!1)},Re=>{console.error("Error fetching recipes:",Re),b("Failed to load recipes"),P(!1)}),re=Yn(j,Re=>{const ze=[];Re.forEach(rt=>{ze.push({id:rt.id,...rt.data()})}),s(ze)}),me=$l(jt(Be,"categories")),Ae=Yn(me,Re=>{const ze=[];Re.forEach(rt=>{ze.push({id:rt.id,...rt.data()})}),ce(ze)}),Le=$l(jt(Be,"groceryItems")),Me=Yn(Le,Re=>{const ze=[];Re.forEach(rt=>{ze.push({id:rt.id,...rt.data()})}),We(ze)});return()=>{X(),re(),Ae(),Me()}},[]);const Je=async A=>{A.preventDefault();try{const j=a.ingredients.filter(X=>X.name.trim()!==""||X.category.trim()!=="");await Bs(jt(Be,"recipes"),{...a,ingredients:j.length>0?j:[],createdAt:new Date}),c({name:"",ingredients:[{name:"",category:""}],instructions:""})}catch(j){console.error("Error adding recipe:",j),b("Failed to add recipe")}},_t=async A=>{if(window.confirm("Are you sure you want to delete this recipe?"))try{await Us(cn(Be,"recipes",A));const j=n.filter(X=>X.recipeId===A);for(const X of j)await Us(cn(Be,"mealPlan",X.id))}catch(j){console.error("Error deleting recipe:",j),b("Failed to delete recipe")}},vt=async A=>{try{await ma(cn(Be,"recipes",A),y),m(null),v({name:"",ingredients:[{name:"",category:""}],instructions:""})}catch(j){console.error("Error updating recipe:",j),b("Failed to update recipe")}},je=async A=>{try{await Bs(jt(Be,"mealPlan"),{recipeId:A,createdAt:new Date().toISOString()})}catch(j){console.error("Error adding to meal plan:",j),b("Failed to add to meal plan")}},ee=async A=>{try{await Us(cn(Be,"mealPlan",A))}catch(j){console.error("Error removing from meal plan:",j),b("Failed to remove from meal plan")}},fe=async A=>{if(Se.find(X=>X.name.toLowerCase()===A.name.toLowerCase()&&X.categoryId===A.category)){we({message:"Already in grocery list:",ingredient:A.name,visible:!0}),setTimeout(()=>{we(X=>({...X,visible:!1}))},2e3);return}try{await Bs(jt(Be,"groceryItems"),{name:A.name,quantity:1,categoryId:A.category,createdAt:new Date().toISOString()}),we({message:"Added to grocery list:",ingredient:A.name,visible:!0}),setTimeout(()=>{we(X=>({...X,visible:!1}))},2e3)}catch(X){console.error("Error adding to grocery list:",X),b("Failed to add to grocery list")}},te=async(A,j)=>{try{await ma(cn(Be,"recipes",A),j),N(null),I(!1)}catch(X){console.error("Error updating recipe:",X),b("Failed to update recipe")}};return w?R.jsx("div",{children:"Loading..."}):L?R.jsx("div",{className:"error",children:L}):R.jsxs("div",{className:"meal-planner",children:[$&&R.jsx("div",{className:"recipe-modal-backdrop",onClick:()=>H(null),children:R.jsxs("div",{className:"recipe-modal",onClick:A=>A.stopPropagation(),children:[R.jsx("h3",{children:$.name}),R.jsxs("div",{className:"recipe-details",children:[R.jsxs("div",{className:"recipe-details-section",children:[R.jsxs("div",{className:"section-header",children:[R.jsxs("h4",{children:[R.jsx("span",{role:"img","aria-label":"ingredients",children:"🥗"}),"Ingredients"]}),R.jsx("button",{className:"add-modal-ingredient-btn",onClick:()=>{if($){const A={...$};A.ingredients.push({name:"",category:""}),H(A),N(A.ingredients.length-1)}},title:"Add ingredient",children:R.jsx(Yl,{size:16})})]}),R.jsx("div",{className:"ingredients-grid",children:$.ingredients.map((A,j)=>{var X;return R.jsxs("div",{className:"ingredient-item",children:[R.jsx("div",{className:"ingredient-content",children:se===j?R.jsxs("div",{className:"edit-ingredient-form",children:[R.jsx("input",{type:"text",value:A.name,onChange:re=>{const me={...$};me.ingredients[j].name=re.target.value,H(me)},autoFocus:!0}),R.jsxs("select",{value:A.category,onChange:re=>{const me={...$};me.ingredients[j].category=re.target.value,H(me)},children:[R.jsx("option",{value:"",children:"Select category"}),U.map(re=>R.jsx("option",{value:re.id,children:re.name},re.id))]}),R.jsxs("div",{className:"edit-actions",children:[R.jsx("button",{onClick:()=>te($.id,{ingredients:$.ingredients}),title:"Save changes",children:R.jsx(qs,{size:16})}),R.jsx("button",{onClick:()=>N(null),title:"Cancel",children:R.jsx(Mi,{size:16})}),R.jsx("button",{onClick:()=>{const re={...$};re.ingredients=re.ingredients.filter((me,Ae)=>Ae!==j),te($.id,{ingredients:re.ingredients}),H(re)},title:"Delete ingredient",className:"delete-ingredient-btn",children:R.jsx(Gr,{size:16})})]})]}):R.jsxs(R.Fragment,{children:[R.jsx("span",{className:"ingredient-name editable",onClick:()=>N(j),children:A.name}),A.category&&U.find(re=>re.id===A.category)&&R.jsx("span",{className:"ingredient-category",children:(X=U.find(re=>re.id===A.category))==null?void 0:X.name})]})}),R.jsxs("button",{className:"add-to-grocery-btn",onClick:()=>fe(A),title:"Add to grocery list",children:[R.jsx(Yl,{size:16}),R.jsx("span",{children:"Add to Grocery List"})]})]},j)})})]}),R.jsxs("div",{className:"recipe-details-section",children:[R.jsxs("div",{className:"section-header",children:[R.jsxs("h4",{children:[R.jsx("span",{role:"img","aria-label":"instructions",children:"📝"}),"Instructions"]}),!T&&R.jsx("button",{className:"edit-instructions-btn",onClick:()=>I(!0),title:"Edit instructions",children:R.jsx(Vw,{size:16})})]}),T?R.jsxs("div",{className:"edit-instructions",children:[R.jsx("textarea",{value:$.instructions,onChange:A=>H(j=>j?{...j,instructions:A.target.value}:null),placeholder:"Instructions (optional)"}),R.jsxs("div",{className:"edit-actions",children:[R.jsx("button",{onClick:()=>te($.id,{instructions:$.instructions}),title:"Save changes",children:R.jsx(qs,{size:16})}),R.jsx("button",{onClick:()=>I(!1),title:"Cancel",children:R.jsx(Mi,{size:16})})]})]}):R.jsx("p",{className:"instructions-text",children:$.instructions})]})]}),R.jsx("button",{className:"close-modal-btn",onClick:()=>H(null),children:R.jsx(Mi,{size:24})})]})}),R.jsxs("div",{className:"recipes-column",children:[R.jsx("h3",{children:"Recipes"}),R.jsx("div",{className:"recipes-list",children:i.map(A=>R.jsx("div",{className:"recipe-card",children:d===A.id?R.jsxs("div",{className:"edit-recipe-form",children:[R.jsx("input",{type:"text",value:y.name,onChange:j=>v(X=>({...X,name:j.target.value}))}),R.jsxs("div",{className:"edit-actions",children:[R.jsx("button",{onClick:()=>vt(A.id),children:R.jsx(qs,{size:16})}),R.jsx("button",{onClick:()=>m(null),children:R.jsx(Mi,{size:16})})]})]}):R.jsxs("div",{className:"recipe-content",children:[R.jsx("h4",{className:"recipe-name",onClick:()=>{m(A.id),v({name:A.name,ingredients:A.ingredients,instructions:A.instructions})},children:A.name}),R.jsxs("div",{className:"recipe-actions",children:[R.jsx("button",{onClick:()=>H(A),title:"View recipe details",children:R.jsx(Om,{size:16})}),R.jsx("button",{onClick:()=>je(A.id),title:"Add to meal plan",children:R.jsx(Rw,{size:16})}),R.jsx("button",{onClick:()=>_t(A.id),title:"Delete recipe",children:R.jsx(Gr,{size:16})})]})]})},A.id))}),R.jsx("h3",{children:"Add New Recipe"}),R.jsxs("form",{onSubmit:Je,className:"recipe-form",children:[R.jsx("input",{type:"text",value:a.name,onChange:A=>c(j=>({...j,name:A.target.value})),placeholder:"Recipe name",required:!0}),R.jsxs("div",{className:"collapsible-section",children:[R.jsxs("button",{type:"button",className:"collapsible-trigger",onClick:()=>V(!k),children:[R.jsx("span",{children:"Ingredients"}),R.jsx("span",{className:"collapsible-icon",children:k?"−":"+"})]}),R.jsx("div",{className:`collapsible-content ${k?"open":""}`,children:R.jsx("div",{className:"ingredients-list",children:a.ingredients.map((A,j)=>R.jsxs("div",{className:"ingredient-input",children:[R.jsx("input",{type:"text",value:A.name,onChange:X=>{const re=[...a.ingredients];re[j]={...re[j],name:X.target.value},c(me=>({...me,ingredients:re}))},placeholder:"Ingredient name (optional)"}),R.jsxs("select",{value:A.category,onChange:X=>{const re=[...a.ingredients];re[j]={...re[j],category:X.target.value},c(me=>({...me,ingredients:re}))},children:[R.jsx("option",{value:"",children:"Select category (optional)"}),U.map(X=>R.jsx("option",{value:X.id,children:X.name},X.id))]}),a.ingredients.length>1&&R.jsx("button",{type:"button",onClick:()=>{const X=a.ingredients.filter((re,me)=>me!==j);c(re=>({...re,ingredients:X}))},className:"remove-ingredient-btn",title:"Remove ingredient",children:R.jsx(Gr,{size:14})}),j===a.ingredients.length-1&&R.jsx("button",{type:"button",onClick:()=>c(X=>({...X,ingredients:[...X.ingredients,{name:"",category:""}]})),className:"add-ingredient-btn",children:R.jsx(Yl,{size:20})})]},j))})})]}),R.jsxs("div",{className:"collapsible-section",children:[R.jsxs("button",{type:"button",className:"collapsible-trigger",onClick:()=>C(!M),children:[R.jsx("span",{children:"Instructions"}),R.jsx("span",{className:"collapsible-icon",children:M?"−":"+"})]}),R.jsx("div",{className:`collapsible-content ${M?"open":""}`,children:R.jsx("textarea",{value:a.instructions,onChange:A=>c(j=>({...j,instructions:A.target.value})),placeholder:"Instructions (optional)"})})]}),R.jsx("button",{type:"submit",className:"submit-btn",children:"Add Recipe"})]})]}),R.jsxs("div",{className:"meal-plan-column",children:[R.jsx("h3",{children:"Meal Plan"}),R.jsxs("div",{className:"meal-plan-list",children:[n.map(A=>{const j=i.find(X=>X.id===A.recipeId);return j?R.jsxs("div",{className:"planned-meal",children:[R.jsx("span",{children:j.name}),R.jsxs("div",{className:"planned-meal-actions",children:[R.jsx("button",{onClick:()=>H(j),className:"view-recipe-btn",title:"View recipe details",children:R.jsx(Om,{size:14})}),R.jsx("button",{onClick:()=>ee(A.id),className:"remove-meal-btn",title:"Remove from meal plan",children:R.jsx(Gr,{size:14})})]})]},A.id):null}),n.length===0&&R.jsx("div",{className:"meal-slot",children:R.jsx("span",{children:"No meals planned"})})]})]}),de.visible&&R.jsxs("div",{className:"notification",children:[R.jsx("span",{children:de.message}),R.jsx("strong",{children:de.ingredient})]},de.ingredient)]})},bw=()=>{const[i,e]=_e.useState([]),[n,s]=_e.useState([]),[a,c]=_e.useState({}),[d,m]=_e.useState(null),[y,v]=_e.useState({name:"",quantity:1});_e.useEffect(()=>{const b=Yn(jt(Be,"pantryCategories"),H=>{const U=[];H.forEach(de=>{U.push({id:de.id,name:de.data().name})}),e(U);const ce={};U.forEach(de=>{ce[de.id]={name:"",quantity:1}}),c(ce)}),$=Yn(jt(Be,"pantryItems"),H=>{const U=[];H.forEach(ce=>{U.push({id:ce.id,...ce.data()})}),s(U)});return()=>{b(),$()}},[]);const w=async b=>{try{await Bs(jt(Be,"pantryItems"),{name:a[b].name,quantity:a[b].quantity,categoryId:b,createdAt:new Date().toISOString()}),c($=>({...$,[b]:{name:"",quantity:1}}))}catch($){console.error("Error adding pantry item:",$)}},P=async b=>{try{await ma(cn(Be,"pantryItems",b),{name:y.name,quantity:y.quantity}),m(null),v({name:"",quantity:1})}catch($){console.error("Error updating pantry item:",$)}},L=async b=>{try{await Us(cn(Be,"pantryItems",b))}catch($){console.error("Error deleting pantry item:",$)}};return R.jsx("div",{className:"pantry-list",children:i.map(b=>{var $,H;return R.jsxs("div",{className:"pantry-category",children:[R.jsx("h3",{children:b.name}),R.jsx("ul",{className:"pantry-items",children:n.filter(U=>U.categoryId===b.id).map(U=>R.jsx("li",{className:"pantry-item",children:d===U.id?R.jsxs("div",{className:"edit-item-form",children:[R.jsx("input",{type:"text",value:y.name,onChange:ce=>v(de=>({...de,name:ce.target.value})),placeholder:"Item name"}),R.jsx("input",{type:"number",value:y.quantity,onChange:ce=>v(de=>({...de,quantity:parseInt(ce.target.value)})),min:"1"}),R.jsxs("div",{className:"edit-actions",children:[R.jsx("button",{onClick:()=>P(U.id),title:"Save changes",children:R.jsx(qs,{size:18})}),R.jsx("button",{onClick:()=>{m(null),v({name:"",quantity:1})},title:"Cancel",children:R.jsx(Mi,{size:18})})]})]}):R.jsxs("div",{className:"item-content",children:[R.jsxs("span",{className:"item-name",onClick:()=>{m(U.id),v({name:U.name,quantity:U.quantity})},children:[U.name," (",U.quantity,")"]}),R.jsx("button",{onClick:()=>L(U.id),className:"delete-item-btn",title:"Delete item",children:R.jsx(Gr,{size:14})})]})},U.id))}),R.jsxs("form",{onSubmit:U=>{U.preventDefault(),w(b.id)},className:"add-item-form",children:[R.jsx("input",{type:"text",value:(($=a[b.id])==null?void 0:$.name)||"",onChange:U=>c(ce=>({...ce,[b.id]:{...ce[b.id],name:U.target.value}})),placeholder:"Add new item",required:!0}),R.jsx("input",{type:"number",value:((H=a[b.id])==null?void 0:H.quantity)||1,onChange:U=>c(ce=>({...ce,[b.id]:{...ce[b.id],quantity:parseInt(U.target.value)}})),min:"1",required:!0}),R.jsx("button",{type:"submit",children:"Add"})]})]},b.id)})})};function Uw(){const i=_e.useRef(null),e=()=>{i.current&&i.current.handleClearAll()};return R.jsx(Ow,{children:R.jsxs("div",{className:"App",children:[R.jsx("header",{children:R.jsx("div",{className:"header-content",children:R.jsx("h1",{children:"Meal Planner"})})}),R.jsxs("main",{className:"container",children:[R.jsxs("section",{id:"grocery-section",className:"grocery-section",children:[R.jsx("h2",{children:"Grocery List"}),R.jsx(Mw,{ref:i})]}),R.jsxs("section",{id:"meal-section",className:"meal-section",children:[R.jsx("h2",{children:"Meal Planner"}),R.jsx(zw,{})]}),R.jsxs("section",{id:"pantry-section",className:"pantry-section",children:[R.jsx("h2",{children:"Pantry"}),R.jsx(bw,{})]}),R.jsxs("section",{id:"settings-section",className:"settings-section",children:[R.jsx("h2",{children:"Settings"}),R.jsx(Lw,{})]})]}),R.jsx(jw,{onClearGroceryList:e})]})})}x_.createRoot(document.getElementById("root")).render(R.jsx(_e.StrictMode,{children:R.jsx(Uw,{})}));
